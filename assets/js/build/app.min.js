!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=30)}([function(t,e,i){var n,r,s;s=window,n=[i(27)],void 0===(r=function(t){return function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},n=Array.prototype.slice;i.makeArray=function(t){return Array.isArray(t)?t:null===t||void 0===t?[]:"object"==typeof t&&"number"==typeof t.length?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){var r=[];return(t=i.makeArray(t)).forEach(function(t){if(t instanceof HTMLElement)if(n){e(t,n)&&r.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)r.push(i[s])}else r.push(t)}),r},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,s=this;this[r]=setTimeout(function(){n.apply(s,e),delete s[r]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var r=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var s=i.toDashed(n),a="data-"+s,o=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+s),c=i.makeArray(o).concat(i.makeArray(l)),u=a+"-options",h=t.jQuery;c.forEach(function(t){var i,s=t.getAttribute(a)||t.getAttribute(u);try{i=s&&JSON.parse(s)}catch(e){return void(r&&r.error("Error parsing "+a+" on "+t.className+": "+e))}var o=new e(t,i);h&&h.data(t,n,o)})})},i}(s,t)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,s;s=window,n=[i(3),i(7),i(0),i(26),i(25),i(24)],void 0===(r=function(t,e,i,n,r,a){return function(t,e,i,n,r,s,a){"use strict";var o=t.jQuery,l=t.getComputedStyle,c=t.console;function u(t,e){for(t=n.makeArray(t);t.length;)e.appendChild(t.shift())}var h=0,d={};function f(t,e){var i=n.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var r=d[this.element.flickityGUID];return r.option(e),r}o&&(this.$element=o(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}f.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},f.createMethods=[];var p=f.prototype;n.extend(p,e.prototype),p._create=function(){var e=this.guid=++h;for(var i in this.element.flickityGUID=e,d[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var n=this.options.on[i];this.on(i,n)}f.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(t){n.extend(this.options,t)},p.activate=function(){if(!this.isActive){var t;this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),u(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e=this.options.initialIndex;t=this.isInitActivated?this.selectedIndex:void 0!==e&&this.cells[e]?e:0,this.select(t,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready")}},p._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},p._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new r(t,this)},this)},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,r=t;r<n;r++){var s=this.cells[r];s.setPosition(e),e+=s.size.outerWidth,this.maxCellHeight=Math.max(s.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(t){t.forEach(function(t){t.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new s(this);this.slides.push(t);var e="left"==this.originSide?"marginRight":"marginLeft",i=this._getCanCellFit();this.cells.forEach(function(n,r){if(t.cells.length){var a=t.outerWidth-t.firstMargin+(n.size.outerWidth-n.size[e]);i.call(this,r,a)?t.addCell(n):(t.updateTarget(),t=new s(this),this.slides.push(t),t.addCell(n))}else t.addCell(n)},this),t.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var g={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var t=g[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},p._getGapCells=function(t,e,i){for(var n=[];t>0;){var r=this.cells[e];if(!r)break;n.push(r),e+=i,t-=r.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],r=n<this.size.innerWidth,s=this.cursorPosition+this.cells[0].size[e],a=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){r?t.target=n*this.cellAlign:(t.target=Math.max(t.target,s),t.target=Math.min(t.target,a))},this)}},p.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),o&&this.$element){var r=t+=this.options.namespaceJQueryEvents?".flickity":"";if(e){var s=o.Event(e);s.type=t,r=s}this.$element.trigger(r,i)}},p.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t])){var r=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=r&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},p._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&e>1))return t;var i=n.modulo(t,e),r=Math.abs(i-this.selectedIndex),s=Math.abs(i+e-this.selectedIndex),a=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&s<r?t+=e:!this.isDragSelect&&a<r&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},p.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},p.next=function(t,e){this.select(this.selectedIndex+1,t,e)},p.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var r=this.getCellSlideIndex(n);this.select(r,e,i)}},p.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++)if(-1!=this.slides[e].cells.indexOf(t))return e},p.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},p.getCells=function(t){var e=[];return(t=n.makeArray(t)).forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},p.getCellElements=function(){return this.cells.map(function(t){return t.element})},p.getParentCell=function(t){return this.getCell(t)||(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},p.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var r=[],s=e-t;s<=e+t;s++){var a=this.options.wrapAround?n.modulo(s,i):s,o=this.slides[a];o&&(r=r.concat(o.getCellElements()))}return r},p.queryCell=function(t){return"number"==typeof t?this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),this.getCell(t))},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},p.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(f,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},p.watchCSS=function(){this.options.watchCSS&&(-1!=l(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},p.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=f.keyboardHandlers[t.keyCode];i&&i.call(this)}},f.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},p.focus=function(){var e=t.pageYOffset;this.element.focus(),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),u(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.emitEvent("destroy"),o&&this.$element&&o.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete d[this.guid]},n.extend(p,a),f.data=function(t){var e=(t=n.getQueryElement(t))&&t.flickityGUID;return e&&d[e]},n.htmlInit(f,"flickity"),o&&o.bridget&&o.bridget("flickity",f),f.setJQuery=function(t){o=t},f.Cell=r,f}(s,t,e,i,n,r,a)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n;!function(e,i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,r){"use strict";var s=[],a=i.document,o=Object.getPrototypeOf,l=s.slice,c=s.concat,u=s.push,h=s.indexOf,d={},f=d.toString,p=d.hasOwnProperty,g=p.toString,m=g.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function T(t,e,i){var n,r=(e=e||a).createElement("script");if(r.text=t,i)for(n in _)i[n]&&(r[n]=i[n]);e.head.appendChild(r).parentNode.removeChild(r)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[f.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!y(t)&&!b(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.3.1",constructor:E,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},E.extend=E.fn.extend=function(){var t,e,i,n,r,s,a=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[o]||{},o++),"object"==typeof a||y(a)||(a={}),o===l&&(a=this,o--);o<l;o++)if(null!=(t=arguments[o]))for(e in t)i=a[e],a!==(n=t[e])&&(c&&n&&(E.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,s=i&&Array.isArray(i)?i:[]):s=i&&E.isPlainObject(i)?i:{},a[e]=E.extend(c,s,n)):void 0!==n&&(a[e]=n));return a},E.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==f.call(t)||(e=o(t))&&("function"!=typeof(i=p.call(e,"constructor")&&e.constructor)||g.call(i)!==m))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){T(t)},each:function(t,e){var i,n=0;if(x(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(x(Object(t))?E.merge(i,"string"==typeof t?[t]:t):u.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:h.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,s=t.length,a=!i;r<s;r++)!e(t[r],r)!==a&&n.push(t[r]);return n},map:function(t,e,i){var n,r,s=0,a=[];if(x(t))for(n=t.length;s<n;s++)null!=(r=e(t[s],s,i))&&a.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&a.push(r);return c.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=s[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var A=function(t){var e,i,n,r,s,a,o,l,c,u,h,d,f,p,g,m,v,y,b,_="sizzle"+1*new Date,T=t.document,w=0,E=0,S=at(),x=at(),A=at(),k=function(t,e){return t===e&&(h=!0),0},C={}.hasOwnProperty,R=[],P=R.pop,L=R.push,D=R.push,O=R.slice,I=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+N+"*("+F+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+N+"*\\]",U=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(N+"+","g"),j=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),z=new RegExp("^"+N+"*,"+N+"*"),G=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),q=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),W=new RegExp(U),Y=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},V=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){d()},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{D.apply(R=O.call(T.childNodes),T.childNodes),R[T.childNodes.length].nodeType}catch(t){D={apply:R.length?function(t,e){L.apply(t,O.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function st(t,e,n,r){var s,o,c,u,h,p,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return n;if(!r&&((e?e.ownerDocument||e:T)!==f&&d(e),e=e||f,g)){if(11!==w&&(h=Q.exec(t)))if(s=h[1]){if(9===w){if(!(c=e.getElementById(s)))return n;if(c.id===s)return n.push(c),n}else if(y&&(c=y.getElementById(s))&&b(e,c)&&c.id===s)return n.push(c),n}else{if(h[2])return D.apply(n,e.getElementsByTagName(t)),n;if((s=h[3])&&i.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(s)),n}if(i.qsa&&!A[t+" "]&&(!m||!m.test(t))){if(1!==w)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(et,it):e.setAttribute("id",u=_),o=(p=a(t)).length;o--;)p[o]="#"+u+" "+vt(p[o]);v=p.join(","),y=Z.test(t)&&gt(e.parentNode)||e}if(v)try{return D.apply(n,y.querySelectorAll(v)),n}catch(t){}finally{u===_&&e.removeAttribute("id")}}}return l(t.replace(j,"$1"),e,n,r)}function at(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function ot(t){return t[_]=!0,t}function lt(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function ut(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return ot(function(e){return e=+e,ot(function(i,n){for(var r,s=t([],i.length,e),a=s.length;a--;)i[r=s[a]]&&(i[r]=!(n[r]=i[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=st.support={},s=st.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=st.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:T;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!s(f),T!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",nt,!1):r.attachEvent&&r.attachEvent("onunload",nt)),i.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=lt(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=$.test(f.getElementsByClassName),i.getById=lt(function(t){return p.appendChild(t).id=_,!f.getElementsByName||!f.getElementsByName(_).length}),i.getById?(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var i,n,r,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(r=e.getElementsByName(t),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=$.test(f.querySelectorAll))&&(lt(function(t){p.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+M+")"),t.querySelectorAll("[id~="+_+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=$.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt(function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=$.test(p.compareDocumentPosition),b=e||$.test(p.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},k=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===f||t.ownerDocument===T&&b(T,t)?-1:e===f||e.ownerDocument===T&&b(T,e)?1:u?I(u,t)-I(u,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,a=[t],o=[e];if(!r||!s)return t===f?-1:e===f?1:r?-1:s?1:u?I(u,t)-I(u,e):0;if(r===s)return ut(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)o.unshift(i);for(;a[n]===o[n];)n++;return n?ut(a[n],o[n]):a[n]===T?-1:o[n]===T?1:0},f):f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&d(t),e=e.replace(q,"='$1']"),i.matchesSelector&&g&&!A[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==f&&d(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==f&&d(t);var r=n.attrHandle[e.toLowerCase()],s=r&&C.call(n.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==s?s:i.attributes||!g?t.getAttribute(e):(s=t.getAttributeNode(e))&&s.specified?s.value:null},st.escape=function(t){return(t+"").replace(et,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],r=0,s=0;if(h=!i.detectDuplicates,u=!i.sortStable&&t.slice(0),t.sort(k),h){for(;e=t[s++];)e===t[s]&&(r=n.push(s));for(;r--;)t.splice(n[r],1)}return u=null,t},r=st.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=st.selectors={cacheLength:50,createPseudo:ot,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&W.test(i)&&(e=a(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+N+")"+t+"("+N+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=st.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(H," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),o="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,u,h,d,f,p,g=s!==a?"nextSibling":"previousSibling",m=e.parentNode,v=o&&e.nodeName.toLowerCase(),y=!l&&!o,b=!1;if(m){if(s){for(;g;){for(d=e;d=d[g];)if(o?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(b=(f=(c=(u=(h=(d=m)[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[w,f,b];break}}else if(y&&(b=f=(c=(u=(h=(d=e)[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((o?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(h=d[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[w,b]),d!==e)););return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ot(function(t,i){for(var n,s=r(t,e),a=s.length;a--;)t[n=I(t,s[a])]=!(i[n]=s[a])}):function(t){return r(t,0,i)}):r}},pseudos:{not:ot(function(t){var e=[],i=[],n=o(t.replace(j,"$1"));return n[_]?ot(function(t,e,i,r){for(var s,a=n(t,null,r,[]),o=t.length;o--;)(s=a[o])&&(t[o]=!(e[o]=s))}):function(t,r,s){return e[0]=t,n(e,null,s,i),e[0]=null,!i.pop()}}),has:ot(function(t){return function(e){return st(t,e).length>0}}),contains:ot(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:ot(function(t){return Y.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var i;do{if(i=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,i){return[i<0?i+e:i]}),even:pt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:pt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:pt(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:pt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=dt(e);function mt(){}function vt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function yt(t,e,i){var n=e.dir,r=e.next,s=r||n,a=i&&"parentNode"===s,o=E++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,r);return!1}:function(e,i,l){var c,u,h,d=[w,o];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(u=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=u[s])&&c[0]===w&&c[1]===o)return d[2]=c[2];if(u[s]=d,d[2]=t(e,i,l))return!0}return!1}}function bt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function _t(t,e,i,n,r){for(var s,a=[],o=0,l=t.length,c=null!=e;o<l;o++)(s=t[o])&&(i&&!i(s,n,r)||(a.push(s),c&&e.push(o)));return a}function Tt(t,e,i,n,r,s){return n&&!n[_]&&(n=Tt(n)),r&&!r[_]&&(r=Tt(r,s)),ot(function(s,a,o,l){var c,u,h,d=[],f=[],p=a.length,g=s||function(t,e,i){for(var n=0,r=e.length;n<r;n++)st(t,e[n],i);return i}(e||"*",o.nodeType?[o]:o,[]),m=!t||!s&&e?g:_t(g,d,t,o,l),v=i?r||(s?t:p||n)?[]:a:m;if(i&&i(m,v,o,l),n)for(c=_t(v,f),n(c,[],o,l),u=c.length;u--;)(h=c[u])&&(v[f[u]]=!(m[f[u]]=h));if(s){if(r||t){if(r){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(m[u]=h);r(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&(c=r?I(s,h):d[u])>-1&&(s[c]=!(a[c]=h))}}else v=_t(v===a?v.splice(p,v.length):v),r?r(null,a,v,l):D.apply(a,v)})}function wt(t){for(var e,i,r,s=t.length,a=n.relative[t[0].type],o=a||n.relative[" "],l=a?1:0,u=yt(function(t){return t===e},o,!0),h=yt(function(t){return I(e,t)>-1},o,!0),d=[function(t,i,n){var r=!a&&(n||i!==c)||((e=i).nodeType?u(t,i,n):h(t,i,n));return e=null,r}];l<s;l++)if(i=n.relative[t[l].type])d=[yt(bt(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<s&&!n.relative[t[r].type];r++);return Tt(l>1&&bt(d),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(j,"$1"),i,l<r&&wt(t.slice(l,r)),r<s&&wt(t=t.slice(r)),r<s&&vt(t))}d.push(i)}return bt(d)}return mt.prototype=n.filters=n.pseudos,n.setFilters=new mt,a=st.tokenize=function(t,e){var i,r,s,a,o,l,c,u=x[t+" "];if(u)return e?0:u.slice(0);for(o=t,l=[],c=n.preFilter;o;){for(a in i&&!(r=z.exec(o))||(r&&(o=o.slice(r[0].length)||o),l.push(s=[])),i=!1,(r=G.exec(o))&&(i=r.shift(),s.push({value:i,type:r[0].replace(j," ")}),o=o.slice(i.length)),n.filter)!(r=X[a].exec(o))||c[a]&&!(r=c[a](r))||(i=r.shift(),s.push({value:i,type:a,matches:r}),o=o.slice(i.length));if(!i)break}return e?o.length:o?st.error(t):x(t,l).slice(0)},o=st.compile=function(t,e){var i,r=[],s=[],o=A[t+" "];if(!o){for(e||(e=a(t)),i=e.length;i--;)(o=wt(e[i]))[_]?r.push(o):s.push(o);(o=A(t,function(t,e){var i=e.length>0,r=t.length>0,s=function(s,a,o,l,u){var h,p,m,v=0,y="0",b=s&&[],_=[],T=c,E=s||r&&n.find.TAG("*",u),S=w+=null==T?1:Math.random()||.1,x=E.length;for(u&&(c=a===f||a||u);y!==x&&null!=(h=E[y]);y++){if(r&&h){for(p=0,a||h.ownerDocument===f||(d(h),o=!g);m=t[p++];)if(m(h,a||f,o)){l.push(h);break}u&&(w=S)}i&&((h=!m&&h)&&v--,s&&b.push(h))}if(v+=y,i&&y!==v){for(p=0;m=e[p++];)m(b,_,a,o);if(s){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=P.call(l));_=_t(_)}D.apply(l,_),u&&!s&&_.length>0&&v+e.length>1&&st.uniqueSort(l)}return u&&(w=S,c=T),b};return i?ot(s):s}(s,r))).selector=t}return o},l=st.select=function(t,e,i,r){var s,l,c,u,h,d="function"==typeof t&&t,f=!r&&a(t=d.selector||t);if(i=i||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(J,tt),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(s=X.needsContext.test(t)?0:l.length;s--&&(c=l[s],!n.relative[u=c.type]);)if((h=n.find[u])&&(r=h(c.matches[0].replace(J,tt),Z.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(s,1),!(t=r.length&&vt(l)))return D.apply(i,r),i;break}}return(d||o(t,f))(r,e,!g,i,!e||Z.test(t)&&gt(e.parentNode)||e),i},i.sortStable=_.split("").sort(k).join("")===_,i.detectDuplicates=!!h,d(),i.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ct(M,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),st}(i);E.find=A,E.expr=A.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=A.uniqueSort,E.text=A.getText,E.isXMLDoc=A.isXML,E.contains=A.contains,E.escapeSelector=A.escape;var k=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(i))break;n.push(t)}return n},C=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},R=E.expr.match.needsContext;function P(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(t,e,i){return y(e)?E.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?E.grep(t,function(t){return t===e!==i}):"string"!=typeof e?E.grep(t,function(t){return h.call(e,t)>-1!==i}):E.filter(e,t,i)}E.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?E.find.matchesSelector(n,t)?[n]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<n;e++)if(E.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)E.find(t,r[e],i);return n>1?E.uniqueSort(i):i},filter:function(t){return this.pushStack(D(this,t||[],!1))},not:function(t){return this.pushStack(D(this,t||[],!0))},is:function(t){return!!D(this,"string"==typeof t&&R.test(t)?E(t):t||[],!1).length}});var O,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||O,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),L.test(n[1])&&E.isPlainObject(e))for(n in e)y(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=a.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==i.ready?i.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,O=E(a);var M=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function F(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,s=[],a="string"!=typeof t&&E(t);if(!R.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&E.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?E.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?h.call(E(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,i){return k(t,"parentNode",i)},next:function(t){return F(t,"nextSibling")},prev:function(t){return F(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,i){return k(t,"nextSibling",i)},prevUntil:function(t,e,i){return k(t,"previousSibling",i)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return P(t,"iframe")?t.contentDocument:(P(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(t,e){E.fn[t]=function(i,n){var r=E.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=E.filter(n,r)),this.length>1&&(N[t]||E.uniqueSort(r),M.test(t)&&r.reverse()),this.pushStack(r)}});var B=/[^\x20\t\r\n\f]+/g;function U(t){return t}function H(t){throw t}function j(t,e,i,n){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(i):t&&y(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(B)||[],function(t,i){e[i]=!0}),e}(t):E.extend({},t);var e,i,n,r,s=[],a=[],o=-1,l=function(){for(r=r||t.once,n=e=!0;a.length;o=-1)for(i=a.shift();++o<s.length;)!1===s[o].apply(i[0],i[1])&&t.stopOnFalse&&(o=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},c={add:function(){return s&&(i&&!e&&(o=s.length-1,a.push(i)),function e(i){E.each(i,function(i,n){y(n)?t.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==w(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return E.each(arguments,function(t,e){for(var i;(i=E.inArray(e,s,i))>-1;)s.splice(i,1),i<=o&&o--}),this},has:function(t){return t?E.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=a=[],i||e||(s=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],a.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return E.Deferred(function(i){E.each(e,function(e,n){var r=y(t[n[4]])&&t[n[4]];s[n[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,n,r){var s=0;function a(t,e,n,r){return function(){var o=this,l=arguments,c=function(){var i,c;if(!(t<s)){if((i=n.apply(o,l))===e.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,y(c)?r?c.call(i,a(s,e,U,r),a(s,e,H,r)):(s++,c.call(i,a(s,e,U,r),a(s,e,H,r),a(s,e,U,e.notifyWith))):(n!==U&&(o=void 0,l=[i]),(r||e.resolveWith)(o,l))}},u=r?c:function(){try{c()}catch(i){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(i,u.stackTrace),t+1>=s&&(n!==H&&(o=void 0,l=[i]),e.rejectWith(o,l))}};t?u():(E.Deferred.getStackHook&&(u.stackTrace=E.Deferred.getStackHook()),i.setTimeout(u))}}return E.Deferred(function(i){e[0][3].add(a(0,i,y(r)?r:U,i.notifyWith)),e[1][3].add(a(0,i,y(t)?t:U)),e[2][3].add(a(0,i,y(n)?n:H))}).promise()},promise:function(t){return null!=t?E.extend(t,r):r}},s={};return E.each(e,function(t,i){var a=i[2],o=i[5];r[i[1]]=a.add,o&&a.add(function(){n=o},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=a.fireWith}),r.promise(s),t&&t.call(s,s),s},when:function(t){var e=arguments.length,i=e,n=Array(i),r=l.call(arguments),s=E.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?l.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(j(t,s.done(a(i)).resolve,s.reject,!e),"pending"===s.state()||y(r[i]&&r[i].then)))return s.then();for(;i--;)j(r[i],a(i),s.reject);return s.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&z.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){i.setTimeout(function(){throw t})};var G=E.Deferred();function q(){a.removeEventListener("DOMContentLoaded",q),i.removeEventListener("load",q),E.ready()}E.fn.ready=function(t){return G.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||G.resolveWith(a,[E]))}}),E.ready.then=G.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?i.setTimeout(E.ready):(a.addEventListener("DOMContentLoaded",q),i.addEventListener("load",q));var W=function(t,e,i,n,r,s,a){var o=0,l=t.length,c=null==i;if("object"===w(i))for(o in r=!0,i)W(t,e,o,i[o],!0,s,a);else if(void 0!==n&&(r=!0,y(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(E(t),i)})),e))for(;o<l;o++)e(t[o],i,a?n:n.call(t[o],o,e(t[o],i)));return r?t:c?e.call(t):l?e(t[0],i):s},Y=/^-ms-/,X=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function K(t){return t.replace(Y,"ms-").replace(X,V)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=E.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[K(e)]=i;else for(n in e)r[K(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(K):(e=K(e))in n?[e]:e.match(B)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||E.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var Z=new Q,J=new Q,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function it(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(i)}catch(t){}J.set(t,e,i)}else i=void 0;return i}E.extend({hasData:function(t){return J.hasData(t)||Z.hasData(t)},data:function(t,e,i){return J.access(t,e,i)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,i){return Z.access(t,e,i)},_removeData:function(t,e){Z.remove(t,e)}}),E.fn.extend({data:function(t,e){var i,n,r,s=this[0],a=s&&s.attributes;if(void 0===t){if(this.length&&(r=J.get(s),1===s.nodeType&&!Z.get(s,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=K(n.slice(5)),it(s,n,r[n]));Z.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){J.set(this,t)}):W(this,function(e){var i;if(s&&void 0===e)return void 0!==(i=J.get(s,t))?i:void 0!==(i=it(s,t))?i:void 0;this.each(function(){J.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){J.remove(this,t)})}}),E.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Z.get(t,e),i&&(!n||Array.isArray(i)?n=Z.access(t,e,E.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=E.queue(t,e),n=i.length,r=i.shift(),s=E._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,function(){E.dequeue(t,e)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z.get(t,i)||Z.access(t,i,{empty:E.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",i])})})}}),E.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?E.queue(this[0],t):void 0===e?this:this.each(function(){var i=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&E.dequeue(this,t)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=E.Deferred(),s=this,a=this.length,o=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=Z.get(s[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(o));return o(),r.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&E.contains(t.ownerDocument,t)&&"none"===E.css(t,"display")},ot=function(t,e,i,n){var r,s,a={};for(s in e)a[s]=t.style[s],t.style[s]=e[s];for(s in r=i.apply(t,n||[]),e)t.style[s]=a[s];return r};function lt(t,e,i,n){var r,s,a=20,o=n?function(){return n.cur()}:function(){return E.css(t,e,"")},l=o(),c=i&&i[3]||(E.cssNumber[e]?"":"px"),u=(E.cssNumber[e]||"px"!==c&&+l)&&rt.exec(E.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)E.style(t,e,u+c),(1-s)*(1-(s=o()/l||.5))<=0&&(a=0),u/=s;u*=2,E.style(t,e,u+c),i=i||[]}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=r)),r}var ct={};function ut(t){var e,i=t.ownerDocument,n=t.nodeName,r=ct[n];return r||(e=i.body.appendChild(i.createElement(n)),r=E.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ct[n]=r,r)}function ht(t,e){for(var i,n,r=[],s=0,a=t.length;s<a;s++)(n=t[s]).style&&(i=n.style.display,e?("none"===i&&(r[s]=Z.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&at(n)&&(r[s]=ut(n))):"none"!==i&&(r[s]="none",Z.set(n,"display",i)));for(s=0;s<a;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}E.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?E(this).show():E(this).hide()})}});var dt=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&P(t,e)?E.merge([t],i):i}function vt(t,e){for(var i=0,n=t.length;i<n;i++)Z.set(t[i],"globalEval",!e||Z.get(e[i],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,bt,_t=/<|&#?\w+;/;function Tt(t,e,i,n,r){for(var s,a,o,l,c,u,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((s=t[f])||0===s)if("object"===w(s))E.merge(d,s.nodeType?[s]:s);else if(_t.test(s)){for(a=a||h.appendChild(e.createElement("div")),o=(ft.exec(s)||["",""])[1].toLowerCase(),l=gt[o]||gt._default,a.innerHTML=l[1]+E.htmlPrefilter(s)+l[2],u=l[0];u--;)a=a.lastChild;E.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(e.createTextNode(s));for(h.textContent="",f=0;s=d[f++];)if(n&&E.inArray(s,n)>-1)r&&r.push(s);else if(c=E.contains(s.ownerDocument,s),a=mt(h.appendChild(s),"script"),c&&vt(a),i)for(u=0;s=a[u++];)pt.test(s.type||"")&&i.push(s);return h}yt=a.createDocumentFragment().appendChild(a.createElement("div")),(bt=a.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),v.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var wt=a.documentElement,Et=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xt=/^([^.]*)(?:\.(.+)|)/;function At(){return!0}function kt(){return!1}function Ct(){try{return a.activeElement}catch(t){}}function Rt(t,e,i,n,r,s){var a,o;if("object"==typeof e){for(o in"string"!=typeof i&&(n=n||i,i=void 0),e)Rt(t,o,i,n,e[o],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=kt;else if(!r)return t;return 1===s&&(a=r,(r=function(t){return E().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),t.each(function(){E.event.add(this,e,r,n,i)})}E.event={global:{},add:function(t,e,i,n,r){var s,a,o,l,c,u,h,d,f,p,g,m=Z.get(t);if(m)for(i.handler&&(i=(s=i).handler,r=s.selector),r&&E.find.matchesSelector(wt,r),i.guid||(i.guid=E.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(B)||[""]).length;c--;)f=g=(o=xt.exec(e[c])||[])[1],p=(o[2]||"").split(".").sort(),f&&(h=E.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=E.event.special[f]||{},u=E.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,p,a)||t.addEventListener&&t.addEventListener(f,a)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),E.event.global[f]=!0)},remove:function(t,e,i,n,r){var s,a,o,l,c,u,h,d,f,p,g,m=Z.hasData(t)&&Z.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(B)||[""]).length;c--;)if(f=g=(o=xt.exec(e[c])||[])[1],p=(o[2]||"").split(".").sort(),f){for(h=E.event.special[f]||{},d=l[f=(n?h.delegateType:h.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=d.length;s--;)u=d[s],!r&&g!==u.origType||i&&i.guid!==u.guid||o&&!o.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||E.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)E.event.remove(t,f+e[c],i,n,!0);E.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,a,o=E.event.fix(t),l=new Array(arguments.length),c=(Z.get(this,"events")||{})[o.type]||[],u=E.event.special[o.type]||{};for(l[0]=o,e=1;e<arguments.length;e++)l[e]=arguments[e];if(o.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,o)){for(a=E.event.handlers.call(this,o,c),e=0;(r=a[e++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(s.namespace)||(o.handleObj=s,o.data=s.data,void 0!==(n=((E.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))&&!1===(o.result=n)&&(o.preventDefault(),o.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,o),o.result}},handlers:function(t,e){var i,n,r,s,a,o=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],a={},i=0;i<l;i++)void 0===a[r=(n=e[i]).selector+" "]&&(a[r]=n.needsContext?E(r,this).index(c)>-1:E.find(r,this,null,[c]).length),a[r]&&s.push(n);s.length&&o.push({elem:c,handlers:s})}return c=this,l<e.length&&o.push({elem:c,handlers:e.slice(l)}),o},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&P(this,"input"))return this.click(),!1},_default:function(t){return P(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?At:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=At,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=At,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=At,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Et.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||E.contains(this,n))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),E.fn.extend({on:function(t,e,i,n){return Rt(this,t,e,i,n)},one:function(t,e,i,n){return Rt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,E(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=kt),this.each(function(){E.event.remove(this,t,i,e)})}});var Pt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Lt=/<script|<style|<link/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function It(t,e){return P(t,"table")&&P(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Nt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var i,n,r,s,a,o,l,c;if(1===e.nodeType){if(Z.hasData(t)&&(s=Z.access(t),a=Z.set(e,s),c=s.events))for(r in delete a.handle,a.events={},c)for(i=0,n=c[r].length;i<n;i++)E.event.add(e,r,c[r][i]);J.hasData(t)&&(o=J.access(t),l=E.extend({},o),J.set(e,l))}}function Bt(t,e,i,n){e=c.apply([],e);var r,s,a,o,l,u,h=0,d=t.length,f=d-1,p=e[0],g=y(p);if(g||d>1&&"string"==typeof p&&!v.checkClone&&Dt.test(p))return t.each(function(r){var s=t.eq(r);g&&(e[0]=p.call(this,r,s.html())),Bt(s,e,i,n)});if(d&&(s=(r=Tt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(o=(a=E.map(mt(r,"script"),Mt)).length;h<d;h++)l=r,h!==f&&(l=E.clone(l,!0,!0),o&&E.merge(a,mt(l,"script"))),i.call(t[h],l,h);if(o)for(u=a[a.length-1].ownerDocument,E.map(a,Nt),h=0;h<o;h++)l=a[h],pt.test(l.type||"")&&!Z.access(l,"globalEval")&&E.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&E._evalUrl(l.src):T(l.textContent.replace(Ot,""),u,l))}return t}function Ut(t,e,i){for(var n,r=e?E.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||E.cleanData(mt(n)),n.parentNode&&(i&&E.contains(n.ownerDocument,n)&&vt(mt(n,"script")),n.parentNode.removeChild(n));return t}E.extend({htmlPrefilter:function(t){return t.replace(Pt,"<$1></$2>")},clone:function(t,e,i){var n,r,s,a,o,l,c,u=t.cloneNode(!0),h=E.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(a=mt(u),n=0,r=(s=mt(t)).length;n<r;n++)o=s[n],"input"===(c=(l=a[n]).nodeName.toLowerCase())&&dt.test(o.type)?l.checked=o.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=o.defaultValue);if(e)if(i)for(s=s||mt(t),a=a||mt(u),n=0,r=s.length;n<r;n++)Ft(s[n],a[n]);else Ft(t,u);return(a=mt(u,"script")).length>0&&vt(a,!h&&mt(t,"script")),u},cleanData:function(t){for(var e,i,n,r=E.event.special,s=0;void 0!==(i=t[s]);s++)if($(i)){if(e=i[Z.expando]){if(e.events)for(n in e.events)r[n]?E.event.remove(i,n):E.removeEvent(i,n,e.handle);i[Z.expando]=void 0}i[J.expando]&&(i[J.expando]=void 0)}}}),E.fn.extend({detach:function(t){return Ut(this,t,!0)},remove:function(t){return Ut(this,t)},text:function(t){return W(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Bt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||It(this,t).appendChild(t)})},prepend:function(){return Bt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=It(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Bt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Bt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return W(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!gt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(E.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Bt(this,arguments,function(e){var i=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(mt(this)),i&&i.replaceChild(e,this))},t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){E.fn[t]=function(t){for(var i,n=[],r=E(t),s=r.length-1,a=0;a<=s;a++)i=a===s?this:this.clone(!0),E(r[a])[e](i),u.apply(n,i.get());return this.pushStack(n)}});var Ht=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),jt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},zt=new RegExp(st.join("|"),"i");function Gt(t,e,i){var n,r,s,a,o=t.style;return(i=i||jt(t))&&(""!==(a=i.getPropertyValue(e)||i[e])||E.contains(t.ownerDocument,t)||(a=E.style(t,e)),!v.pixelBoxStyles()&&Ht.test(a)&&zt.test(e)&&(n=o.width,r=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=n,o.minWidth=r,o.maxWidth=s)),void 0!==a?a+"":a}function qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wt.appendChild(c).appendChild(u);var t=i.getComputedStyle(u);n="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",o=36===e(t.right),r=36===e(t.width),u.style.position="absolute",s=36===u.offsetWidth||"absolute",wt.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var n,r,s,o,l,c=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s}}))}();var Wt=/^(none|table(?!-c[ea]).+)/,Yt=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","Moz","ms"],$t=a.createElement("div").style;function Qt(t){var e=E.cssProps[t];return e||(e=E.cssProps[t]=function(t){if(t in $t)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Kt.length;i--;)if((t=Kt[i]+e)in $t)return t}(t)||t),e}function Zt(t,e,i){var n=rt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Jt(t,e,i,n,r,s){var a="width"===e?1:0,o=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=E.css(t,i+st[a],!0,r)),n?("content"===i&&(l-=E.css(t,"padding"+st[a],!0,r)),"margin"!==i&&(l-=E.css(t,"border"+st[a]+"Width",!0,r))):(l+=E.css(t,"padding"+st[a],!0,r),"padding"!==i?l+=E.css(t,"border"+st[a]+"Width",!0,r):o+=E.css(t,"border"+st[a]+"Width",!0,r));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-o-.5))),l}function te(t,e,i){var n=jt(t),r=Gt(t,e,n),s="border-box"===E.css(t,"boxSizing",!1,n),a=s;if(Ht.test(r)){if(!i)return r;r="auto"}return a=a&&(v.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===E.css(t,"display",!1,n))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+Jt(t,e,i||(s?"border":"content"),a,n,r)+"px"}function ee(t,e,i,n,r){return new ee.prototype.init(t,e,i,n,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Gt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,a,o=K(e),l=Yt.test(e),c=t.style;if(l||(e=Qt(o)),a=E.cssHooks[e]||E.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(t,!1,n))?r:c[e];"string"==(s=typeof i)&&(r=rt.exec(i))&&r[1]&&(i=lt(t,e,r),s="number"),null!=i&&i==i&&("number"===s&&(i+=r&&r[3]||(E.cssNumber[o]?"":"px")),v.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var r,s,a,o=K(e);return Yt.test(e)||(e=Qt(o)),(a=E.cssHooks[e]||E.cssHooks[o])&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=Gt(t,e,n)),"normal"===r&&e in Vt&&(r=Vt[e]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),E.each(["height","width"],function(t,e){E.cssHooks[e]={get:function(t,i,n){if(i)return!Wt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,n):ot(t,Xt,function(){return te(t,e,n)})},set:function(t,i,n){var r,s=jt(t),a="border-box"===E.css(t,"boxSizing",!1,s),o=n&&Jt(t,e,n,a,s);return a&&v.scrollboxSize()===s.position&&(o-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(s[e])-Jt(t,e,"border",!1,s)-.5)),o&&(r=rt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=E.css(t,e)),Zt(0,i,o)}}}),E.cssHooks.marginLeft=qt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Gt(t,"marginLeft"))||t.getBoundingClientRect().left-ot(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(t,e){E.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+st[n]+e]=s[n]||s[n-2]||s[0];return r}},"margin"!==t&&(E.cssHooks[t+e].set=Zt)}),E.fn.extend({css:function(t,e){return W(this,function(t,e,i){var n,r,s={},a=0;if(Array.isArray(e)){for(n=jt(t),r=e.length;a<r;a++)s[e[a]]=E.css(t,e[a],!1,n);return s}return void 0!==i?E.style(t,e,i):E.css(t,e)},t,e,arguments.length>1)}}),E.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(E.cssNumber[i]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,i=ee.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[E.cssProps[t.prop]]&&!E.cssHooks[t.prop]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=ee.prototype.init,E.fx.step={};var ie,ne,re=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function ae(){ne&&(!1===a.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(ae):i.setTimeout(ae,E.fx.interval),E.fx.tick())}function oe(){return i.setTimeout(function(){ie=void 0}),ie=Date.now()}function le(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=st[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function ce(t,e,i){for(var n,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),s=0,a=r.length;s<a;s++)if(n=r[s].call(i,e,t))return n}function ue(t,e,i){var n,r,s=0,a=ue.prefilters.length,o=E.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ie||oe(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),s=0,a=c.tweens.length;s<a;s++)c.tweens[s].run(n);return o.notifyWith(t,[c,n,i]),n<1&&a?i:(a||o.notifyWith(t,[c,1,0]),o.resolveWith(t,[c]),!1)},c=o.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},i),originalProperties:e,originalOptions:i,startTime:ie||oe(),duration:i.duration,tweens:[],createTween:function(e,i){var n=E.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(o.notifyWith(t,[c,1,0]),o.resolveWith(t,[c,e])):o.rejectWith(t,[c,e]),this}}),u=c.props;for(function(t,e){var i,n,r,s,a;for(i in t)if(r=e[n=K(i)],s=t[i],Array.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(a=E.cssHooks[n])&&"expand"in a)for(i in s=a.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=r);else e[n]=r}(u,c.opts.specialEasing);s<a;s++)if(n=ue.prefilters[s].call(c,t,u,c.opts))return y(n.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return E.map(u,ce,c),y(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(ue,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return lt(i.elem,t,rt.exec(e),i),i}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(B);for(var i,n=0,r=t.length;n<r;n++)i=t[n],ue.tweeners[i]=ue.tweeners[i]||[],ue.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,s,a,o,l,c,u,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&at(t),m=Z.get(t,"fxshow");for(n in i.queue||(null==(a=E._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,E.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[n],re.test(r)){if(delete e[n],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||E.style(t,n)}if((l=!E.isEmptyObject(e))||!E.isEmptyObject(f))for(n in h&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=Z.get(t,"display")),"none"===(u=E.css(t,"display"))&&(c?u=c:(ht([t],!0),c=t.style.display||c,u=E.css(t,"display"),ht([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===E.css(t,"float")&&(l||(d.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=Z.access(t,"fxshow",{display:c}),s&&(m.hidden=!g),g&&ht([t],!0),d.done(function(){for(n in g||ht([t]),Z.remove(t,"fxshow"),f)E.style(t,n,f[n])})),l=ce(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),E.speed=function(t,e,i){var n=t&&"object"==typeof t?E.extend({},t):{complete:i||!i&&e||y(t)&&t,duration:t,easing:i&&e||e&&!y(e)&&e};return E.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in E.fx.speeds?n.duration=E.fx.speeds[n.duration]:n.duration=E.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&E.dequeue(this,n.queue)},n},E.fn.extend({fadeTo:function(t,e,i,n){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=E.isEmptyObject(t),s=E.speed(e,i,n),a=function(){var e=ue(this,E.extend({},t),s);(r||Z.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=E.timers,a=Z.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&se.test(r)&&n(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));!e&&i||E.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=Z.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=E.timers,a=n?n.length:0;for(i.finish=!0,E.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),E.each(["toggle","show","hide"],function(t,e){var i=E.fn[e];E.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(le(e,!0),t,n,r)}}),E.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){E.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),E.timers=[],E.fx.tick=function(){var t,e=0,i=E.timers;for(ie=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||E.fx.stop(),ie=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ne||(ne=!0,ae())},E.fx.stop=function(){ne=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var he,de=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return W(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?E.prop(t,e,i):(1===s&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=E.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&P(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(B);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),he={set:function(t,e,i){return!1===e?E.removeAttr(t,i):t.setAttribute(i,i),i}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var i=de[e]||E.find.attr;de[e]=function(t,e,n){var r,s,a=e.toLowerCase();return n||(s=de[a],de[a]=r,r=null!=i(t,e,n)?a:null,de[a]=s),r}});var fe=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function ge(t){return(t.match(B)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(B)||[]}E.fn.extend({prop:function(t,e){return W(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,i,n,r,s,a,o,l=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,me(this)))});if((e=ve(t)).length)for(;i=this[l++];)if(r=me(i),n=1===i.nodeType&&" "+ge(r)+" "){for(a=0;s=e[a++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(o=ge(n))&&i.setAttribute("class",o)}return this},removeClass:function(t){var e,i,n,r,s,a,o,l=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;i=this[l++];)if(r=me(i),n=1===i.nodeType&&" "+ge(r)+" "){for(a=0;s=e[a++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");r!==(o=ge(n))&&i.setAttribute("class",o)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(i){E(this).toggleClass(t.call(this,i,me(this),e),e)}):this.each(function(){var e,r,s,a;if(n)for(r=0,s=E(this),a=ve(t);e=a[r++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else void 0!==t&&"boolean"!==i||((e=me(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+ge(me(i))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;E.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=y(t),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,E(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=E.map(r,function(t){return null==t?"":t+""})),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=E.valHooks[r.type]||E.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(ye,""):null==i?"":i:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:ge(E.text(t))}},select:{get:function(t){var e,i,n,r=t.options,s=t.selectedIndex,a="select-one"===t.type,o=a?null:[],l=a?s+1:r.length;for(n=s<0?l:a?s:0;n<l;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!P(i.parentNode,"optgroup"))){if(e=E(i).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var i,n,r=t.options,s=E.makeArray(e),a=r.length;a--;)((n=r[a]).selected=E.inArray(E.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},v.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in i;var be=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,n,r){var s,o,l,c,u,h,d,f,g=[n||a],m=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(o=f=l=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!be.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(t=t[E.expando]?t:new E.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:E.makeArray(e,[t]),d=E.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(n,e))){if(!r&&!d.noBubble&&!b(n)){for(c=d.delegateType||m,be.test(c+m)||(o=o.parentNode);o;o=o.parentNode)g.push(o),l=o;l===(n.ownerDocument||a)&&g.push(l.defaultView||l.parentWindow||i)}for(s=0;(o=g[s++])&&!t.isPropagationStopped();)f=o,t.type=s>1?c:d.bindType||m,(h=(Z.get(o,"events")||{})[t.type]&&Z.get(o,"handle"))&&h.apply(o,e),(h=u&&o[u])&&h.apply&&$(o)&&(t.result=h.apply(o,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),e)||!$(n)||u&&y(n[m])&&!b(n)&&((l=n[u])&&(n[u]=null),E.event.triggered=m,t.isPropagationStopped()&&f.addEventListener(m,_e),n[m](),t.isPropagationStopped()&&f.removeEventListener(m,_e),E.event.triggered=void 0,l&&(n[u]=l)),t.result}},simulate:function(t,e,i){var n=E.extend(new E.Event,i,{type:t,isSimulated:!0});E.event.trigger(n,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return E.event.trigger(t,e,i,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Z.access(n,e);r||n.addEventListener(t,i,!0),Z.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Z.access(n,e)-1;r?Z.access(n,e,r):(n.removeEventListener(t,i,!0),Z.remove(n,e))}}});var Te=i.location,we=Date.now(),Ee=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Se=/\[\]$/,xe=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;function Ce(t,e,i,n){var r;if(Array.isArray(e))E.each(e,function(e,r){i||Se.test(t)?n(t,r):Ce(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==w(e))n(t,e);else for(r in e)Ce(t+"["+r+"]",e[r],i,n)}E.param=function(t,e){var i,n=[],r=function(t,e){var i=y(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){r(this.name,this.value)});else for(i in t)Ce(i,t[i],e,r);return n.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&ke.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!dt.test(t))}).map(function(t,e){var i=E(this).val();return null==i?null:Array.isArray(i)?E.map(i,function(t){return{name:e.name,value:t.replace(xe,"\r\n")}}):{name:e.name,value:i.replace(xe,"\r\n")}}).get()}});var Re=/%20/g,Pe=/#.*$/,Le=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oe=/^(?:GET|HEAD)$/,Ie=/^\/\//,Me={},Ne={},Fe="*/".concat("*"),Be=a.createElement("a");function Ue(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(B)||[];if(y(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function He(t,e,i,n){var r={},s=t===Ne;function a(o){var l;return r[o]=!0,E.each(t[o]||[],function(t,o){var c=o(e,i,n);return"string"!=typeof c||s||r[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function je(t,e){var i,n,r=E.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&E.extend(!0,t,n),t}Be.href=Te.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Te.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?je(je(t,E.ajaxSettings),e):je(E.ajaxSettings,t)},ajaxPrefilter:Ue(Me),ajaxTransport:Ue(Ne),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,s,o,l,c,u,h,d,f,p=E.ajaxSetup({},e),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?E(g):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),b=p.statusCode||{},_={},T={},w="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(u){if(!o)for(o={};e=De.exec(s);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(t,e){return null==u&&(t=T[t.toLowerCase()]=T[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),x(0,e),this}};if(v.promise(S),p.url=((t||p.url||Te.href)+"").replace(Ie,Te.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(B)||[""],null==p.crossDomain){c=a.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Be.protocol+"//"+Be.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=E.param(p.data,p.traditional)),He(Me,p,e,S),u)return S;for(d in(h=E.event&&p.global)&&0==E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Oe.test(p.type),r=p.url.replace(Pe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Re,"+")):(f=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Ee.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Le,"$1"),f=(Ee.test(r)?"&":"?")+"_="+we+++f),p.url=r+f),p.ifModified&&(E.lastModified[r]&&S.setRequestHeader("If-Modified-Since",E.lastModified[r]),E.etag[r]&&S.setRequestHeader("If-None-Match",E.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fe+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||u))return S.abort();if(w="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),n=He(Ne,p,e,S)){if(S.readyState=1,h&&m.trigger("ajaxSend",[S,p]),u)return S;p.async&&p.timeout>0&&(l=i.setTimeout(function(){S.abort("timeout")},p.timeout));try{u=!1,n.send(_,x)}catch(t){if(u)throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,e,a,o){var c,d,f,_,T,w=e;u||(u=!0,l&&i.clearTimeout(l),n=void 0,s=o||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(_=function(t,e,i){for(var n,r,s,a,o=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in o)if(o[r]&&o[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),i[s]}(p,S,a)),_=function(t,e,i,n){var r,s,a,o,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(a=c[l+" "+s]||c["* "+s]))for(r in c)if((o=r.split(" "))[1]===s&&(a=c[l+" "+o[0]]||c["* "+o[0]])){!0===a?a=c[r]:!0!==c[r]&&(s=o[0],u.unshift(o[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(p,_,S,c),c?(p.ifModified&&((T=S.getResponseHeader("Last-Modified"))&&(E.lastModified[r]=T),(T=S.getResponseHeader("etag"))&&(E.etag[r]=T)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=_.state,d=_.data,c=!(f=_.error))):(f=w,!t&&w||(w="error",t<0&&(t=0))),S.status=t,S.statusText=(e||w)+"",c?v.resolveWith(g,[d,w,S]):v.rejectWith(g,[S,w,f]),S.statusCode(b),b=void 0,h&&m.trigger(c?"ajaxSuccess":"ajaxError",[S,p,c?d:f]),y.fireWith(g,[S,w]),h&&(m.trigger("ajaxComplete",[S,p]),--E.active||E.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,i){return E.get(t,e,i,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,e){E[e]=function(t,i,n,r){return y(i)&&(r=r||n,n=i,i=void 0),E.ajax(E.extend({url:t,type:e,dataType:r,data:i,success:n},E.isPlainObject(t)&&t))}}),E._evalUrl=function(t){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){E(this).wrapInner(t.call(this,e))}):this.each(function(){var e=E(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(i){E(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Ge=E.ajaxSettings.xhr();v.cors=!!Ge&&"withCredentials"in Ge,v.ajax=Ge=!!Ge,E.ajaxTransport(function(t){var e,n;if(v.cors||Ge&&!t.crossDomain)return{send:function(r,s){var a,o=t.xhr();if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];for(a in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===t?o.abort():"error"===t?"number"!=typeof o.status?s(0,"error"):s(o.status,o.statusText):s(ze[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=e(),n=o.onerror=o.ontimeout=e("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(t){var e,i;if(t.crossDomain)return{send:function(n,r){e=E("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){i&&i()}}});var qe,We=[],Ye=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||E.expando+"_"+we++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,n){var r,s,a,o=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||E.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===s?E(i).removeProp(r):i[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,We.push(r)),a&&y(s)&&s(a[0]),a=s=void 0}),"script"}),v.createHTMLDocument=((qe=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),E.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(v.createHTMLDocument?((n=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(n)):e=a),r=L.exec(t),s=!i&&[],r?[e.createElement(r[1])]:(r=Tt([t],e,s),s&&s.length&&E(s).remove(),E.merge([],r.childNodes)));var n,r,s},E.fn.load=function(t,e,i){var n,r,s,a=this,o=t.indexOf(" ");return o>-1&&(n=ge(t.slice(o)),t=t.slice(0,o)),y(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,a.html(n?E("<div>").append(E.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(t,e,i){var n,r,s,a,o,l,c=E.css(t,"position"),u=E(t),h={};"static"===c&&(t.style.position="relative"),o=u.offset(),s=E.css(t,"top"),l=E.css(t,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(a=(n=u.position()).top,r=n.left):(a=parseFloat(s)||0,r=parseFloat(l)||0),y(e)&&(e=e.call(t,i,E.extend({},o))),null!=e.top&&(h.top=e.top-o.top+a),null!=e.left&&(h.left=e.left-o.left+r),"using"in e?e.using.call(t,h):u.css(h)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===E.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(n,"marginTop",!0),left:e.left-r.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||wt})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;E.fn[t]=function(n){return W(this,function(t,n,r){var s;if(b(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===r)return s?s[e]:t[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):t[n]=r},t,n,arguments.length)}}),E.each(["top","left"],function(t,e){E.cssHooks[e]=qt(v.pixelPosition,function(t,i){if(i)return i=Gt(t,e),Ht.test(i)?E(t).position()[e]+"px":i})}),E.each({Height:"height",Width:"width"},function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){E.fn[n]=function(r,s){var a=arguments.length&&(i||"boolean"!=typeof r),o=i||(!0===r||!0===s?"margin":"border");return W(this,function(e,i,r){var s;return b(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?E.css(e,i,o):E.style(e,i,r,o)},e,a?r:void 0,a)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){E.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),E.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),y(t))return n=l.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(l.call(arguments)))}).guid=t.guid=t.guid||E.guid++,r},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=P,E.isFunction=y,E.isWindow=b,E.camelCase=K,E.type=w,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(n=function(){return E}.apply(e,[]))||(t.exports=n);var Xe=i.jQuery,Ve=i.$;return E.noConflict=function(t){return i.$===E&&(i.$=Ve),t&&i.jQuery===E&&(i.jQuery=Xe),E},r||(i.jQuery=i.$=E),E})},function(t,e,i){var n,r;"undefined"!=typeof window&&window,void 0===(r="function"==typeof(n=function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],r=0;r<i.length;r++){var s=i[r];n&&n[s]&&(this.off(t,s),delete n[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})?n.call(e,i,e,t):n)||(t.exports=r)},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){var n,r,s;s=window,n=[i(6)],void 0===(r=function(t){return function(t,e){"use strict";function i(t){this.bindTap(t)}var n=i.prototype=Object.create(e.prototype);return n.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},n.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},n.pointerUp=function(i,n){if(!this.isIgnoringMouseUp||"mouseup"!=i.type){var r=e.getPointerPoint(n),s=this.tapElement.getBoundingClientRect(),a=t.pageXOffset,o=t.pageYOffset;if(r.x>=s.left+a&&r.x<=s.right+a&&r.y>=s.top+o&&r.y<=s.bottom+o&&this.emitEvent("tap",[i,n]),"mouseup"!=i.type){this.isIgnoringMouseUp=!0;var l=this;setTimeout(function(){delete l.isIgnoringMouseUp},400)}}},n.destroy=function(){this.pointerDone(),this.unbindTap()},i}(s,t)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,s;s=window,n=[i(3)],void 0===(r=function(t){return function(t,e){"use strict";function i(){}var n=i.prototype=Object.create(e.prototype);n.bindStartEvent=function(t){this._bindStartEvent(t,!0)},n.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},n._bindStartEvent=function(e,i){var n=(i=void 0===i||i)?"addEventListener":"removeEventListener",r="mousedown";t.PointerEvent?r="pointerdown":"ontouchstart"in t&&(r="touchstart"),e[n](r,this)},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},n.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},n.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},n.onpointerdown=function(t){this._pointerDown(t,t)},n._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},n.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return n._bindPostStartEvents=function(e){if(e){var i=r[e.type];i.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=i}},n._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},n.onmousemove=function(t){this._pointerMove(t,t)},n.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},n.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},n._pointerMove=function(t,e){this.pointerMove(t,e)},n.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},n.onmouseup=function(t){this._pointerUp(t,t)},n.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},n.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},n._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},n._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},n._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},n.pointerDone=function(){},n.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},n.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},n._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},n.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},i.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},i}(s,t)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;window,void 0===(r="function"==typeof(n=function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n=i.length;function r(t){var i=getComputedStyle(t);return i||e("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var s,a=!1;return function e(o){if(function(){if(!a){a=!0;var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(i);var o=r(i);s=200==Math.round(t(o.width)),e.isBoxSizeOuter=s,n.removeChild(i)}}(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var l=r(o);if("none"==l.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<n;e++)t[i[e]]=0;return t}();var c={};c.width=o.offsetWidth,c.height=o.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,h=0;h<n;h++){var d=i[h],f=l[d],p=parseFloat(f);c[d]=isNaN(p)?0:p}var g=c.paddingLeft+c.paddingRight,m=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,b=c.borderLeftWidth+c.borderRightWidth,_=c.borderTopWidth+c.borderBottomWidth,T=u&&s,w=t(l.width);!1!==w&&(c.width=w+(T?0:g+b));var E=t(l.height);return!1!==E&&(c.height=E+(T?0:m+_)),c.innerWidth=c.width-(g+b),c.innerHeight=c.height-(m+_),c.outerWidth=c.width+v,c.outerHeight=c.height+y,c}}})?n.call(e,i,e,t):n)||(t.exports=r)},function(t,e){!function(e,i){var n=function(t,e){"use strict";if(e.getElementsByClassName){var i,n,r,s,a,o,l,c,u,h=e.documentElement,d=t.Date,f=t.HTMLPictureElement,p=t.addEventListener,g=t.setTimeout,m=t.requestAnimationFrame||g,v=t.requestIdleCallback,y=/^picture$/i,b=["load","error","lazyincluded","_lazyloaded"],_={},T=Array.prototype.forEach,w=function(t,e){return _[e]||(_[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),_[e].test(t.getAttribute("class")||"")&&_[e]},E=function(t,e){w(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},S=function(t,e){var i;(i=w(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(i," "))},x=function(t,e,i){var n=i?"addEventListener":"removeEventListener";i&&x(t,e),b.forEach(function(i){t[n](i,e)})},A=function(t,n,r,s,a){var o=e.createEvent("CustomEvent");return r||(r={}),r.instance=i,o.initCustomEvent(n,!s,!a,r),t.dispatchEvent(o),o},k=function(e,i){var r;!f&&(r=t.picturefill||n.pf)?r({reevaluate:!0,elements:[e]}):i&&i.src&&(e.src=i.src)},C=function(t,e){return(getComputedStyle(t,null)||{})[e]},R=function(t,e,i){for(i=i||t.offsetWidth;i<n.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},P=(o=[],l=a=[],(u=function(t,i){r&&!i?t.apply(this,arguments):(l.push(t),s||(s=!0,(e.hidden?g:m)(c)))})._lsFlush=c=function(){var t=l;for(l=a.length?o:a,r=!0,s=!1;t.length;)t.shift()();r=!1},u),L=function(t,e){return e?function(){P(t)}:function(){var e=this,i=arguments;P(function(){t.apply(e,i)})}},D=function(t){var e,i,n=function(){e=null,t()},r=function(){var t=d.now()-i;t<99?g(r,99-t):(v||n)(n)};return function(){i=d.now(),e||(e=g(r,99))}};!function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in n=t.lazySizesConfig||t.lazysizesConfig||{},i)e in n||(n[e]=i[e]);t.lazySizesConfig=n,g(function(){n.init&&U()})}();var O,I,M,N,F=function(){var r,s,a,o,l,c,u,f,m,b,_,R,O,I,M,N,F,U,H,j,z,G=/^img$/i,q=/^iframe$/i,W="onscroll"in t&&!/glebot/.test(navigator.userAgent),Y=0,X=0,V=-1,K=function(t){X--,t&&t.target&&x(t.target,K),(!t||X<0||!t.target)&&(X=0)},$=function(t,i){var n,r=t,s="hidden"==C(e.body,"visibility")||"hidden"!=C(t,"visibility");for(f-=i,_+=i,m-=i,b+=i;s&&(r=r.offsetParent)&&r!=e.body&&r!=h;)(s=(C(r,"opacity")||1)>0)&&"visible"!=C(r,"overflow")&&(n=r.getBoundingClientRect(),s=b>n.left&&m<n.right&&_>n.top-1&&f<n.bottom+1);return s},Q=function(){var t,a,l,d,p,g,v,y,T,w=i.elements;if((o=n.loadMode)&&X<8&&(t=w.length)){a=0,V++,null==O&&("expand"in n||(n.expand=h.clientHeight>500&&h.clientWidth>500?500:370),R=n.expand,O=R*n.expFactor),Y<O&&X<1&&V>2&&o>2&&!e.hidden?(Y=O,V=0):Y=o>1&&V>1&&X<6?R:0;for(;a<t;a++)if(w[a]&&!w[a]._lazyRace)if(W)if((y=w[a].getAttribute("data-expand"))&&(g=1*y)||(g=Y),T!==g&&(c=innerWidth+g*I,u=innerHeight+g,v=-1*g,T=g),l=w[a].getBoundingClientRect(),(_=l.bottom)>=v&&(f=l.top)<=u&&(b=l.right)>=v*I&&(m=l.left)<=c&&(_||b||m||f)&&(n.loadHidden||"hidden"!=C(w[a],"visibility"))&&(s&&X<3&&!y&&(o<3||V<4)||$(w[a],g))){if(rt(w[a]),p=!0,X>9)break}else!p&&s&&!d&&X<4&&V<4&&o>2&&(r[0]||n.preloadAfterLoad)&&(r[0]||!y&&(_||b||m||f||"auto"!=w[a].getAttribute(n.sizesAttr)))&&(d=r[0]||w[a]);else rt(w[a]);d&&!p&&rt(d)}},Z=(M=Q,F=0,U=n.throttleDelay,H=n.ricTimeout,j=function(){N=!1,F=d.now(),M()},z=v&&H>49?function(){v(j,{timeout:H}),H!==n.ricTimeout&&(H=n.ricTimeout)}:L(function(){g(j)},!0),function(t){var e;(t=!0===t)&&(H=33),N||(N=!0,(e=U-(d.now()-F))<0&&(e=0),t||e<9?z():g(z,e))}),J=function(t){E(t.target,n.loadedClass),S(t.target,n.loadingClass),x(t.target,et),A(t.target,"lazyloaded")},tt=L(J),et=function(t){tt({target:t.target})},it=function(t){var e,i=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},nt=L(function(t,e,i,r,s){var o,l,c,u,h,d;(h=A(t,"lazybeforeunveil",e)).defaultPrevented||(r&&(i?E(t,n.autosizesClass):t.setAttribute("sizes",r)),l=t.getAttribute(n.srcsetAttr),o=t.getAttribute(n.srcAttr),s&&(u=(c=t.parentNode)&&y.test(c.nodeName||"")),d=e.firesLoad||"src"in t&&(l||o||u),h={target:t},d&&(x(t,K,!0),clearTimeout(a),a=g(K,2500),E(t,n.loadingClass),x(t,et,!0)),u&&T.call(c.getElementsByTagName("source"),it),l?t.setAttribute("srcset",l):o&&!u&&(q.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(i){t.src=e}}(t,o):t.src=o),s&&(l||u)&&k(t,{src:o})),t._lazyRace&&delete t._lazyRace,S(t,n.lazyClass),P(function(){(!d||t.complete&&t.naturalWidth>1)&&(d?K(h):X--,J(h))},!0)}),rt=function(t){var e,i=G.test(t.nodeName),r=i&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),a="auto"==r;(!a&&s||!i||!t.getAttribute("src")&&!t.srcset||t.complete||w(t,n.errorClass)||!w(t,n.lazyClass))&&(e=A(t,"lazyunveilread").detail,a&&B.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,X++,nt(t,e,a,r,i))},st=function(){if(!s)if(d.now()-l<999)g(st,999);else{var t=D(function(){n.loadMode=3,Z()});s=!0,n.loadMode=3,Z(),p("scroll",function(){3==n.loadMode&&(n.loadMode=2),t()},!0)}};return{_:function(){l=d.now(),i.elements=e.getElementsByClassName(n.lazyClass),r=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),I=n.hFac,p("scroll",Z,!0),p("resize",Z,!0),t.MutationObserver?new MutationObserver(Z).observe(h,{childList:!0,subtree:!0,attributes:!0}):(h.addEventListener("DOMNodeInserted",Z,!0),h.addEventListener("DOMAttrModified",Z,!0),setInterval(Z,999)),p("hashchange",Z,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,Z,!0)}),/d$|^c/.test(e.readyState)?st():(p("load",st),e.addEventListener("DOMContentLoaded",Z),g(st,2e4)),i.elements.length?(Q(),P._lsFlush()):Z()},checkElems:Z,unveil:rt}}(),B=(I=L(function(t,e,i,n){var r,s,a;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),y.test(e.nodeName||""))for(s=0,a=(r=e.getElementsByTagName("source")).length;s<a;s++)r[s].setAttribute("sizes",n);i.detail.dataAttr||k(t,i.detail)}),M=function(t,e,i){var n,r=t.parentNode;r&&(i=R(t,r,i),(n=A(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&I(t,r,n,i))},{_:function(){O=e.getElementsByClassName(n.autosizesClass),p("resize",N)},checkElems:N=D(function(){var t,e=O.length;if(e)for(t=0;t<e;t++)M(O[t])}),updateElem:M}),U=function(){U.i||(U.i=!0,B._(),F._())};return i={cfg:n,autoSizer:B,loader:F,init:U,uP:k,aC:E,rC:S,hC:w,fire:A,gW:R,rAF:P}}}(e,e.document);e.lazySizes=n,"object"==typeof t&&t.exports&&(t.exports=n)}(window)},function(t,e,i){var n,r,s;!function(i,a){"use strict";r=[],void 0===(s="function"==typeof(n=function(){var t,e,i,n,r,s=!1,a=window.navigator.userAgent,o=/([+-]?[0-9.]+)(vh|vw|vmin|vmax)/g,l=/(https?:)?\/\//,c=[].forEach,u=/MSIE [0-9]\./i.test(a),h=/MSIE [0-8]\./i.test(a),d=a.indexOf("Opera Mini")>-1,f=/(iPhone|iPod|iPad).+AppleWebKit/i.test(a)&&(r=a.match(/OS (\d)/))&&r.length>1&&parseInt(r[1])<10,p=a.indexOf(" Android ")>-1&&a.indexOf("Version/")>-1&&parseFloat((a.match("Android ([0-9.]+)")||[])[1])<=4.4;u||(u=!!navigator.userAgent.match(/MSIE 10\.|Trident.*rv[ :]*1[01]\.| Edge\/1\d\./));try{new g("test")}catch(t){var g=function(t,e){var i;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(i=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i};g.prototype=window.Event.prototype,window.CustomEvent=g}function m(){s&&(v(),setTimeout(function(){n.textContent=b(),n.parentNode.appendChild(n),window.dispatchEvent(new g("viewport-units-buggyfill-style"))},1))}function v(){return i=[],c.call(document.styleSheets,function(t){var e=function(t){try{if(!t.cssRules)return}catch(t){if("SecurityError"!==t.name)throw t;return}for(var e=[],i=0;i<t.cssRules.length;i++){var n=t.cssRules[i];e.push(n)}return e}(t);e&&"patched-viewport"!==t.ownerNode.id&&"ignore"!==t.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(t.media&&t.media.mediaText&&window.matchMedia&&!window.matchMedia(t.media.mediaText).matches||c.call(e,y))}),i}function y(e){if(7===e.type){var n;try{n=e.cssText}catch(t){return}return o.lastIndex=0,void(o.test(n)&&!l.test(n)&&(i.push([e,null,n]),t.hacks&&t.hacks.findDeclarations(i,e,null,n)))}if(e.style)c.call(e.style,function(n){var r=e.style.getPropertyValue(n);e.style.getPropertyPriority(n)&&(r+=" !important"),o.lastIndex=0,o.test(r)&&(i.push([e,n,r]),t.hacks&&t.hacks.findDeclarations(i,e,n,r))});else{if(!e.cssRules)return;c.call(e.cssRules,function(t){y(t)})}}function b(){var n,r;n=window.innerHeight,r=window.innerWidth,e={vh:n,vw:r,vmax:Math.max(r,n),vmin:Math.min(r,n)};var s,a,l=[],c=[];return i.forEach(function(e){var i=function(e,i,n){var r,s=[];r=n.replace(o,_),t.hacks&&(r=t.hacks.overwriteDeclaration(e,i,r)),i&&(s.push(e.selectorText),r=i+": "+r+";");for(var a=e.parentRule;a;)a.media?s.unshift("@media "+a.media.mediaText):a.conditionText&&s.unshift("@supports "+a.conditionText),a=a.parentRule;return{selector:s,content:r}}.apply(null,e),n=i.selector.length?i.selector.join(" {\n")+" {\n":"",r=new Array(i.selector.length+1).join("\n}");if(!n||n!==s)return c.length&&(l.push(s+c.join("\n")+a),c.length=0),void(n?(s=n,a=r,c.push(i.content)):(l.push(i.content),s=null,a=null));n&&!s&&(s=n,a=r),c.push(i.content)}),c.length&&l.push(s+c.join("\n")+a),d&&l.push("* { content: normal !important; }"),l.join("\n\n")}function _(t,i,n){var r=e[n];return parseFloat(i)/100*r+"px"}function T(t){var e=0,i=function(){--e||t()};c.call(document.styleSheets,function(t){t.href&&w(t.href)!==w(location.href)&&"ignore"!==t.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(e++,function(t,e){!function(t,e,i){var n=new XMLHttpRequest;if("withCredentials"in n)n.open("GET",t,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");(n=new XDomainRequest).open("GET",t)}n.onload=e,n.onerror=i,n.send()}(t.href,function(){var i=document.createElement("style");i.media=t.media,i.setAttribute("data-href",t.href),i.textContent=this.responseText,t.parentNode.replaceChild(i,t),e()},e)}(t.ownerNode,i))}),e||t()}function w(t){return t.slice(0,t.indexOf("/",t.indexOf("://")+3))}return{version:"0.6.1",findProperties:v,getCss:b,init:function(e){if(!s){if(!0===e&&(e={force:!0}),(t=e||{}).isMobileSafari=f,t.isBadStockAndroid=p,!t.ignoreVmax||t.force||h||(u=!1),h||!t.force&&!f&&!u&&!p&&!d&&(!t.hacks||!t.hacks.required(t)))return window.console&&h&&console.info("viewport-units-buggyfill requires a proper CSSOM and basic viewport unit support, which are not available in IE8 and below"),{init:function(){}};window.dispatchEvent(new g("viewport-units-buggyfill-init")),t.hacks&&t.hacks.initialize(t),s=!0,(n=document.createElement("style")).id="patched-viewport",document[t.appendToBody?"body":"head"].appendChild(n),T(function(){var e,i,n,r=(e=m,i=t.refreshDebounceWait||100,function(){var t=this,r=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(t,r)},i)});window.addEventListener("orientationchange",r,!0),window.addEventListener("pageshow",r,!0),(t.force||u||function(){try{return window.self!==window.top}catch(t){return!0}}())&&(window.addEventListener("resize",r,!0),t._listeningToResize=!0),t.hacks&&t.hacks.initializeEvents(t,m,r),m()})}},refresh:m}})?n.apply(e,r):n)||(t.exports=s)}()},function(t,e,i){!function(e,n){var r=function(t){n(e.lazySizes,t),e.removeEventListener("lazyunveilread",r,!0)};n=n.bind(null,e,e.document),"object"==typeof t&&t.exports?n(i(8)):e.lazySizes?r():e.addEventListener("lazyunveilread",r,!0)}(window,function(t,e,i,n){"use strict";var r=e.createElement("a").style,s="objectFit"in r,a=/object-fit["']*\s*:\s*["']*(contain|cover)/,o=/object-position["']*\s*:\s*["']*(.+?)(?=($|,|'|"|;))/,l="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",c=/\(|\)|'/,u={center:"center","50% 50%":"center"};if(!s||!(s&&"objectPosition"in r)){var h=function(t){if(t.detail.instance==i){var e=t.target,n=function(t){var e=(getComputedStyle(t,null)||{}).fontFamily||"",i=e.match(a)||"",n=i&&e.match(o)||"";return n&&(n=n[1]),{fit:i&&i[1]||"",position:u[n]||n||"center"}}(e);!n.fit||s&&"center"==n.position||function(t,e){var n,r,s=i.cfg,a=t.cloneNode(!1),o=a.style,u=function(){var e=t.currentSrc||t.src;e&&r!==e&&(r=e,o.backgroundImage="url("+(c.test(e)?JSON.stringify(e):e)+")",n||(n=!0,i.rC(a,s.loadingClass),i.aC(a,s.loadedClass)))},h=function(){i.rAF(u)};t._lazysizesParentFit=e.fit,t.addEventListener("lazyloaded",h,!0),t.addEventListener("load",h,!0),a.addEventListener("load",function(){var t=a.currentSrc||a.src;t&&t!=l&&(a.src=l,a.srcset="")}),i.rAF(function(){var n=t,r=t.parentNode;"PICTURE"==r.nodeName.toUpperCase()&&(n=r,r=r.parentNode),i.rC(a,s.loadedClass),i.rC(a,s.lazyClass),i.aC(a,s.loadingClass),i.aC(a,s.objectFitClass||"lazysizes-display-clone"),a.getAttribute(s.srcsetAttr)&&a.setAttribute(s.srcsetAttr,""),a.getAttribute(s.srcAttr)&&a.setAttribute(s.srcAttr,""),a.src=l,a.srcset="",o.backgroundRepeat="no-repeat",o.backgroundPosition=e.position,o.backgroundSize=e.fit,n.style.display="none",t.setAttribute("data-parent-fit",e.fit),t.setAttribute("data-parent-container","prev"),r.insertBefore(a,n),t._lazysizesParentFit&&delete t._lazysizesParentFit,t.complete&&u()})}(e,n)}};t.addEventListener("lazyunveilread",h,!0),n&&n.detail&&h(n)}})},function(t,e,i){var n,r;!function(s,a){"use strict";n=[i(2)],void 0===(r=function(t){return function(t,e,i,n,r){var s="fullpage-wrapper",a="."+s,o="fp-responsive",l="fp-notransition",c="fp-destroyed",u="fp-enabled",h="fp-viewing",d="active",f="."+d,p="fp-completely",g="."+p,m="fp-section",v="."+m,y=v+f,b=v+":first",_=v+":last",T="fp-tableCell",w="."+T,E="fp-auto-height",S="fp-normal-scroll",x="fp-nav",A="#"+x,k="fp-tooltip",C="fp-slide",R="."+C,P=R+f,L="fp-slides",D="."+L,O="fp-slidesContainer",I="."+O,M="fp-table",N="fp-slidesNav",F="."+N,B=F+" a",U=".fp-controlArrow",H="fp-prev",j="fp-controlArrow "+H,z=U+"."+H,G=U+".fp-next",q=t(e),W=t(i);t.fn.fullpage=function(Y){if(t("html").hasClass(u))qe();else{var X=t("html, body"),V=t("body"),K=t.fn.fullpage;Y=t.extend({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowReset:!1,scrollOverflowHandler:t.fn.fp_scrolloverflow?t.fn.fp_scrolloverflow.iscrollHandler:null,scrollOverflowOptions:null,touchSensitivity:5,normalScrollElementTouchThreshold:5,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},sectionSelector:".section",slideSelector:".slide",afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,lazyLoading:!0},Y);var $,Q,Z,J,tt=!1,et=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),it="ontouchstart"in e||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,nt=t(this),rt=q.height(),st=!1,at=!0,ot=!0,lt=[],ct={m:{up:!0,down:!0,left:!0,right:!0}};ct.k=t.extend(!0,{},ct.m);var ut,ht,dt,ft,pt,gt,mt,vt=e.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"},yt={touchmove:"ontouchmove"in e?"touchmove":vt.move,touchstart:"ontouchstart"in e?"touchstart":vt.down},bt='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',_t=t.extend(!0,{},Y);qe(),t.extend(t.easing,{easeInOutCubic:function(t,e,i,n,r){return(e/=r/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i}}),t(this).length&&(K.version="2.9.6",K.setAutoScrolling=Lt,K.setRecordHistory=Dt,K.setScrollingSpeed=Ot,K.setFitToSection=It,K.setLockAnchors=function(t){Y.lockAnchors=t},K.setMouseWheelScrolling=Mt,K.setAllowScrolling=Nt,K.setKeyboardScrolling=Ft,K.moveSectionUp=Bt,K.moveSectionDown=Ut,K.silentMoveTo=Ht,K.moveTo=jt,K.moveSlideRight=zt,K.moveSlideLeft=Gt,K.fitToSection=Vt,K.reBuild=qt,K.setResponsive=Wt,K.destroy=function(e){Lt(!1,"internal"),Nt(!1),Ft(!1),nt.addClass(c),clearTimeout(ft),clearTimeout(dt),clearTimeout(ht),clearTimeout(pt),clearTimeout(gt),q.off("scroll",Xt).off("hashchange",fe).off("resize",we),W.off("keydown",ge).off("keyup",me).off("click touchstart",A+" a").off("mouseenter",A+" li").off("mouseleave",A+" li").off("click touchstart",B).off("mouseover",Y.normalScrollElements).off("mouseout",Y.normalScrollElements),t(v).off("click touchstart",U),clearTimeout(ft),clearTimeout(dt),e&&function(){He(0),nt.find("img[data-src], source[data-src], audio[data-src], iframe[data-src]").each(function(){ae(t(this),"src")}),nt.find("img[data-srcset]").each(function(){ae(t(this),"srcset")}),t(A+", "+F+", "+U).remove(),t(v).css({height:"","background-color":"",padding:""}),t(R).css({width:""}),nt.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),X.css({overflow:"",height:""}),t("html").removeClass(u),V.removeClass(o),t.each(V.get(0).className.split(/\s+/),function(t,e){0===e.indexOf(h)&&V.removeClass(e)}),t(v+", "+R).each(function(){Y.scrollOverflowHandler&&Y.scrollOverflowHandler.remove(t(this)),t(this).removeClass(M+" "+d),t(this).attr("style",t(this).data("fp-styles"))}),xe(nt),nt.find(w+", "+I+", "+D).each(function(){t(this).replaceWith(this.childNodes)}),nt.css({"-webkit-transition":"none",transition:"none"}),X.scrollTop(0);var e=[m,C,O];t.each(e,function(e,i){t("."+i).removeClass(i)})}()},K.shared={afterRenderActions:Yt},function(){var n;Y.css3&&(Y.css3=function(){var t,n=i.createElement("p"),s={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var a in i.body.insertBefore(n,null),s)n.style[a]!==r&&(n.style[a]="translate3d(1px,1px,1px)",t=e.getComputedStyle(n).getPropertyValue(s[a]));return i.body.removeChild(n),t!==r&&t.length>0&&"none"!==t}()),Y.scrollBar=Y.scrollBar||Y.hybrid,n=nt.find(Y.sectionSelector),Y.anchors.length||(Y.anchors=n.filter("[data-anchor]").map(function(){return t(this).data("anchor").toString()}).get()),Y.navigationTooltips.length||(Y.navigationTooltips=n.filter("[data-tooltip]").map(function(){return t(this).data("tooltip").toString()}).get()),nt.css({height:"100%",position:"relative"}),nt.addClass(s),t("html").addClass(u),rt=q.height(),nt.removeClass(c),nt.find(Y.sectionSelector).addClass(m),nt.find(Y.slideSelector).addClass(C),t(v).each(function(e){var i=t(this),n=i.find(R),r=n.length;i.data("fp-styles",i.attr("style")),function(e,i){i||0!==t(y).length||e.addClass(d),J=t(y),e.css("height",rt+"px"),Y.paddingTop&&e.css("padding-top",Y.paddingTop),Y.paddingBottom&&e.css("padding-bottom",Y.paddingBottom),void 0!==Y.sectionsColor[i]&&e.css("background-color",Y.sectionsColor[i]),void 0!==Y.anchors[i]&&e.attr("data-anchor",Y.anchors[i])}(i,e),function(e,i){void 0!==Y.anchors[i]&&e.hasClass(d)&&Ae(Y.anchors[i],i),Y.menu&&Y.css3&&t(Y.menu).closest(a).length&&t(Y.menu).appendTo(V)}(i,e),r>0?function(e,i,n){var r=100*n,s=100/n;i.wrapAll('<div class="'+O+'" />'),i.parent().wrap('<div class="'+L+'" />'),e.find(I).css("width",r+"%"),n>1&&(Y.controlArrows&&function(t){t.find(D).after('<div class="'+j+'"></div><div class="fp-controlArrow fp-next"></div>'),"#fff"!=Y.controlArrowColor&&(t.find(G).css("border-color","transparent transparent transparent "+Y.controlArrowColor),t.find(z).css("border-color","transparent "+Y.controlArrowColor+" transparent transparent")),Y.loopHorizontal||t.find(z).hide()}(e),Y.slidesNavigation&&function(t,e){t.append('<div class="'+N+'"><ul></ul></div>');var i=t.find(F);i.addClass(Y.slidesNavPosition);for(var n=0;n<e;n++)i.find("ul").append('<li><a href="#"><span></span></a></li>');i.css("margin-left","-"+i.width()/2+"px"),i.find("li").first().find("a").addClass(d)}(e,n)),i.each(function(e){t(this).css("width",s+"%"),Y.verticalCentered&&Ce(t(this))});var a=e.find(P);a.length&&(0!==t(y).index(v)||0===t(y).index(v)&&0!==a.index())?Ue(a,"internal"):i.eq(0).addClass(d)}(i,n,r):Y.verticalCentered&&Ce(i)}),Y.fixedElements&&Y.css3&&t(Y.fixedElements).appendTo(V),Y.navigation&&function(){V.append('<div id="'+x+'"><ul></ul></div>');var e=t(A);e.addClass(function(){return Y.showActiveTooltip?"fp-show-active "+Y.navigationPosition:Y.navigationPosition});for(var i=0;i<t(v).length;i++){var n="";Y.anchors.length&&(n=Y.anchors[i]);var r='<li><a href="#'+n+'"><span></span></a>',s=Y.navigationTooltips[i];void 0!==s&&""!==s&&(r+='<div class="'+k+" "+Y.navigationPosition+'">'+s+"</div>"),r+="</li>",e.find("ul").append(r)}t(A).css("margin-top","-"+t(A).height()/2+"px"),t(A).find("li").eq(t(y).index(v)).find("a").addClass(d)}(),nt.find('iframe[src*="youtube.com/embed/"]').each(function(){var e,i,n;i="enablejsapi=1",n=(e=t(this)).attr("src"),e.attr("src",n+(/\?/.test(n)?"&":"?")+i)}),Y.scrollOverflow?ut=Y.scrollOverflowHandler.init(Y):Yt(),Nt(!0),Lt(Y.autoScrolling,"internal"),Ee(),Fe(),"complete"===i.readyState&&de(),q.on("load",de)}(),q.on("scroll",Xt).on("hashchange",fe).blur(function(){at=!1,Z=!1}).resize(we),W.keydown(ge).keyup(me).on("click touchstart",A+" a",function(e){e.preventDefault();var i=t(this).parent().index();re(t(v).eq(i))}).on("click touchstart",B,function(e){e.preventDefault();var i=t(this).closest(v).find(D),n=i.find(R).eq(t(this).closest("li").index());_e(i,n)}).on("click",".fp-tooltip",function(){t(this).prev().trigger("click")}),t(v).on("click touchstart",U,function(){var e=t(this).closest(v);t(this).hasClass(H)?ct.m.left&&Gt(e):ct.m.right&&zt(e)}),Y.normalScrollElements&&(W.on("mouseenter touchstart",Y.normalScrollElements,function(){Nt(!1)}),W.on("mouseleave touchend",Y.normalScrollElements,function(){Nt(!0)})));var Tt=!1,wt=0,Et=0,St=0,xt=0,At=0,kt=(new Date).getTime(),Ct=0,Rt=0,Pt=rt}function Lt(e,i){e||He(0),Ge("autoScrolling",e,i);var n=t(y);Y.autoScrolling&&!Y.scrollBar?(X.css({overflow:"hidden",height:"100%"}),Dt(_t.recordHistory,"internal"),nt.css({"-ms-touch-action":"none","touch-action":"none"}),n.length&&He(n.position().top)):(X.css({overflow:"visible",height:"initial"}),Dt(!1,"internal"),nt.css({"-ms-touch-action":"","touch-action":""}),n.length&&X.scrollTop(n.position().top))}function Dt(t,e){Ge("recordHistory",t,e)}function Ot(t,e){Ge("scrollingSpeed",t,e)}function It(t,e){Ge("fitToSection",t,e)}function Mt(t){t?(function(){var t,n="";e.addEventListener?t="addEventListener":(t="attachEvent",n="on");var s="onwheel"in i.createElement("div")?"wheel":i.onmousewheel!==r?"mousewheel":"DOMMouseScroll";"DOMMouseScroll"==s?i[t](n+"MozMousePixelScroll",ee,!1):i[t](n+s,ee,!1)}(),nt.on("mousedown",ve).on("mouseup",ye)):(i.addEventListener?(i.removeEventListener("mousewheel",ee,!1),i.removeEventListener("wheel",ee,!1),i.removeEventListener("MozMousePixelScroll",ee,!1)):i.detachEvent("onmousewheel",ee),nt.off("mousedown",ve).off("mouseup",ye))}function Nt(e,i){void 0!==i?(i=i.replace(/ /g,"").split(","),t.each(i,function(t,i){ze(e,i,"m")})):(ze(e,"all","m"),e?(Mt(!0),(et||it)&&(Y.autoScrolling&&V.off(yt.touchmove).on(yt.touchmove,$t),t(a).off(yt.touchstart).on(yt.touchstart,Jt).off(yt.touchmove).on(yt.touchmove,Qt))):(Mt(!1),(et||it)&&(Y.autoScrolling&&V.off(yt.touchmove),t(a).off(yt.touchstart).off(yt.touchmove))))}function Ft(e,i){void 0!==i?(i=i.replace(/ /g,"").split(","),t.each(i,function(t,i){ze(e,i,"k")})):(ze(e,"all","k"),Y.keyboardScrolling=e)}function Bt(){var e=t(y).prev(v);e.length||!Y.loopTop&&!Y.continuousVertical||(e=t(v).last()),e.length&&re(e,null,!0)}function Ut(){var e=t(y).next(v);e.length||!Y.loopBottom&&!Y.continuousVertical||(e=t(v).first()),e.length&&re(e,null,!1)}function Ht(t,e){Ot(0,"internal"),jt(t,e),Ot(_t.scrollingSpeed,"internal")}function jt(t,e){var i=Le(t);void 0!==e?De(t,e):i.length>0&&re(i)}function zt(t){ie("right",t)}function Gt(t){ie("left",t)}function qt(e){if(!nt.hasClass(c)){st=!0,rt=q.height(),t(v).each(function(){var e=t(this).find(D),i=t(this).find(R);Y.verticalCentered&&t(this).find(w).css("height",Re(t(this))+"px"),t(this).css("height",rt+"px"),i.length>1&&_e(e,e.find(P))}),Y.scrollOverflow&&ut.createScrollBarForAll();var i=t(y).index(v);i&&Ht(i+1),st=!1,t.isFunction(Y.afterResize)&&e&&Y.afterResize.call(nt),t.isFunction(Y.afterReBuild)&&!e&&Y.afterReBuild.call(nt)}}function Wt(e){var i=V.hasClass(o);e?i||(Lt(!1,"internal"),It(!1,"internal"),t(A).hide(),V.addClass(o),t.isFunction(Y.afterResponsive)&&Y.afterResponsive.call(nt,e)):i&&(Lt(_t.autoScrolling,"internal"),It(_t.autoScrolling,"internal"),t(A).show(),V.removeClass(o),t.isFunction(Y.afterResponsive)&&Y.afterResponsive.call(nt,e))}function Yt(){var e,i=t(y);i.addClass(p),oe(i),le(i),Y.scrollOverflow&&Y.scrollOverflowHandler.afterLoad(),(!(e=Le(pe().section))||e.length&&e.index()===J.index())&&t.isFunction(Y.afterLoad)&&Y.afterLoad.call(i,i.data("anchor"),i.index(v)+1),t.isFunction(Y.afterRender)&&Y.afterRender.call(nt)}function Xt(){var e;if(!Y.autoScrolling||Y.scrollBar){var n=q.scrollTop(),r=function(t){var e=n>wt?"down":"up";return wt=n,Ct=n,e}(),s=0,a=n+q.height()/2,o=V.height()-q.height()===n,l=i.querySelectorAll(v);if(o)s=l.length-1;else if(n)for(var c=0;c<l.length;++c){l[c].offsetTop<=a&&(s=c)}else s=0;if(function(e){var i=t(y).position().top,n=i+q.height();return"up"==e?n>=q.scrollTop()+q.height():i<=q.scrollTop()}(r)&&(t(y).hasClass(p)||t(y).addClass(p).siblings().removeClass(p)),!(e=t(l).eq(s)).hasClass(d)){Tt=!0;var u,h,f=t(y),g=f.index(v)+1,m=ke(e),b=e.data("anchor"),_=e.index(v)+1,T=e.find(P);T.length&&(h=T.data("anchor"),u=T.index()),ot&&(e.addClass(d).siblings().removeClass(d),t.isFunction(Y.onLeave)&&Y.onLeave.call(f,g,_,m),t.isFunction(Y.afterLoad)&&Y.afterLoad.call(e,b,_),ue(f),oe(e),le(e),Ae(b,_-1),Y.anchors.length&&($=b),Ie(u,h,b,_)),clearTimeout(pt),pt=setTimeout(function(){Tt=!1},100)}Y.fitToSection&&(clearTimeout(gt),gt=setTimeout(function(){Y.fitToSection&&t(y).outerHeight()<=rt&&Vt()},Y.fitToSectionDelay))}}function Vt(){ot&&(st=!0,re(t(y)),st=!1)}function Kt(e){if(ct.m[e]){var i="down"===e?Ut:Bt;if(Y.scrollOverflow){var n=Y.scrollOverflowHandler.scrollable(t(y)),r="down"===e?"bottom":"top";if(n.length>0){if(!Y.scrollOverflowHandler.isScrolled(r,n))return!0;i()}else i()}else i()}}function $t(t){var e=t.originalEvent;Y.autoScrolling&&Zt(e)&&t.preventDefault()}function Qt(e){var i=e.originalEvent,r=t(i.target).closest(v);if(Zt(i)){Y.autoScrolling&&e.preventDefault();var s=Be(i);xt=s.y,At=s.x,r.find(D).length&&n.abs(St-At)>n.abs(Et-xt)?!tt&&n.abs(St-At)>q.outerWidth()/100*Y.touchSensitivity&&(St>At?ct.m.right&&zt(r):ct.m.left&&Gt(r)):Y.autoScrolling&&ot&&n.abs(Et-xt)>q.height()/100*Y.touchSensitivity&&(Et>xt?Kt("down"):xt>Et&&Kt("up"))}}function Zt(t){return void 0===t.pointerType||"mouse"!=t.pointerType}function Jt(t){var e=t.originalEvent;if(Y.fitToSection&&X.stop(),Zt(e)){var i=Be(e);Et=i.y,St=i.x}}function te(t,e){for(var i=0,r=t.slice(n.max(t.length-e,1)),s=0;s<r.length;s++)i+=r[s];return n.ceil(i/e)}function ee(i){var r=(new Date).getTime(),s=t(g).hasClass(S);if(Y.autoScrolling&&!Z&&!s){var a=(i=i||e.event).wheelDelta||-i.deltaY||-i.detail,o=n.max(-1,n.min(1,a)),l=void 0!==i.wheelDeltaX||void 0!==i.deltaX,c=n.abs(i.wheelDeltaX)<n.abs(i.wheelDelta)||n.abs(i.deltaX)<n.abs(i.deltaY)||!l;lt.length>149&&lt.shift(),lt.push(n.abs(a)),Y.scrollBar&&(i.preventDefault?i.preventDefault():i.returnValue=!1);var u=r-kt;if(kt=r,u>200&&(lt=[]),ot)te(lt,10)>=te(lt,70)&&c&&Kt(o<0?"down":"up");return!1}Y.fitToSection&&X.stop()}function ie(e,i){var n=(void 0===i?t(y):i).find(D),r=n.find(R).length;if(!(!n.length||tt||r<2)){var s=n.find(P),a=null;if(!(a="left"===e?s.prev(R):s.next(R)).length){if(!Y.loopHorizontal)return;a="left"===e?s.siblings(":last"):s.siblings(":first")}tt=!0,_e(n,a,e)}}function ne(){t(P).each(function(){Ue(t(this),"internal")})}function re(e,i,r){if(void 0!==e){var s,o,l=function(t){var e=t.position(),i=e.top,n=e.top>Ct,r=i-rt+t.outerHeight(),s=Y.bigSectionsDestination;return t.outerHeight()>rt?(n||s)&&"bottom"!==s||(i=r):(n||st&&t.is(":last-child"))&&(i=r),Ct=i,i}(e),c={element:e,callback:i,isMovementUp:r,dtop:l,yMovement:ke(e),anchorLink:e.data("anchor"),sectionIndex:e.index(v),activeSlide:e.find(P),activeSection:t(y),leavingSection:t(y).index(v)+1,localIsResizing:st};if(!(c.activeSection.is(e)&&!st||Y.scrollBar&&q.scrollTop()===c.dtop&&!e.hasClass(E))){if(c.activeSlide.length&&(s=c.activeSlide.data("anchor"),o=c.activeSlide.index()),t.isFunction(Y.onLeave)&&!c.localIsResizing){var u=c.yMovement;if(void 0!==r&&(u=r?"up":"down"),!1===Y.onLeave.call(c.activeSection,c.leavingSection,c.sectionIndex+1,u))return}Y.autoScrolling&&Y.continuousVertical&&void 0!==c.isMovementUp&&(!c.isMovementUp&&"up"==c.yMovement||c.isMovementUp&&"down"==c.yMovement)&&(c=function(e){return e.isMovementUp?t(y).before(e.activeSection.nextAll(v)):t(y).after(e.activeSection.prevAll(v).get().reverse()),He(t(y).position().top),ne(),e.wrapAroundElements=e.activeSection,e.dtop=e.element.position().top,e.yMovement=ke(e.element),e.leavingSection=e.activeSection.index(v)+1,e.sectionIndex=e.element.index(v),e}(c)),c.localIsResizing||ue(c.activeSection),Y.scrollOverflow&&Y.scrollOverflowHandler.beforeLeave(),e.addClass(d).siblings().removeClass(d),oe(e),Y.scrollOverflow&&Y.scrollOverflowHandler.onLeave(),ot=!1,Ie(o,s,c.anchorLink,c.sectionIndex),function(e){if(Y.css3&&Y.autoScrolling&&!Y.scrollBar){Pe("translate3d(0px, -"+n.round(e.dtop)+"px, 0px)",!0),Y.scrollingSpeed?(clearTimeout(dt),dt=setTimeout(function(){se(e)},Y.scrollingSpeed)):se(e)}else{var i=function(t){var e={};return Y.autoScrolling&&!Y.scrollBar?(e.options={top:-t.dtop},e.element=a):(e.options={scrollTop:t.dtop},e.element="html, body"),e}(e);t(i.element).animate(i.options,Y.scrollingSpeed,Y.easing).promise().done(function(){Y.scrollBar?setTimeout(function(){se(e)},30):se(e)})}}(c),$=c.anchorLink,Ae(c.anchorLink,c.sectionIndex)}}}function se(e){!function(e){e.wrapAroundElements&&e.wrapAroundElements.length&&(e.isMovementUp?t(b).before(e.wrapAroundElements):t(_).after(e.wrapAroundElements),He(t(y).position().top),ne())}(e),t.isFunction(Y.afterLoad)&&!e.localIsResizing&&Y.afterLoad.call(e.element,e.anchorLink,e.sectionIndex+1),Y.scrollOverflow&&Y.scrollOverflowHandler.afterLoad(),e.localIsResizing||le(e.element),e.element.addClass(p).siblings().removeClass(p),ot=!0,t.isFunction(e.callback)&&e.callback.call(this)}function ae(t,e){t.attr(e,t.data(e)).removeAttr("data-"+e)}function oe(e){var i;Y.lazyLoading&&he(e).find("img[data-src], img[data-srcset], source[data-src], source[data-srcset], video[data-src], audio[data-src], iframe[data-src]").each(function(){if(i=t(this),t.each(["src","srcset"],function(t,e){var n=i.attr("data-"+e);void 0!==n&&n&&ae(i,e)}),i.is("source")){var e=i.closest("video").length?"video":"audio";i.closest(e).get(0).load()}})}function le(e){var i=he(e);i.find("video, audio").each(function(){var e=t(this).get(0);e.hasAttribute("data-autoplay")&&"function"==typeof e.play&&e.play()}),i.find('iframe[src*="youtube.com/embed/"]').each(function(){var e=t(this).get(0);e.hasAttribute("data-autoplay")&&ce(e),e.onload=function(){e.hasAttribute("data-autoplay")&&ce(e)}})}function ce(t){t.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function ue(e){var i=he(e);i.find("video, audio").each(function(){var e=t(this).get(0);e.hasAttribute("data-keepplaying")||"function"!=typeof e.pause||e.pause()}),i.find('iframe[src*="youtube.com/embed/"]').each(function(){var e=t(this).get(0);/youtube\.com\/embed\//.test(t(this).attr("src"))&&!e.hasAttribute("data-keepplaying")&&t(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function he(e){var i=e.find(P);return i.length&&(e=t(i)),e}function de(){var t=pe(),e=t.section,i=t.slide;e&&(Y.animateAnchor?De(e,i):Ht(e,i))}function fe(){if(!Tt&&!Y.lockAnchors){var t=pe(),e=t.section,i=t.slide,n=void 0===$,r=void 0===$&&void 0===i&&!tt;e&&e.length&&(e&&e!==$&&!n||r||!tt&&Q!=i)&&De(e,i)}}function pe(){var t,i,n=e.location.hash;if(n.length){var r=n.replace("#","").split("/"),s=n.indexOf("#/")>-1;t=s?"/"+r[1]:decodeURIComponent(r[0]);var a=s?r[2]:r[1];a&&a.length&&(i=decodeURIComponent(a))}return{section:t,slide:i}}function ge(e){clearTimeout(mt);var i=t(":focus"),n=e.which;9===n?function(e){var i=e.shiftKey,n=t(":focus"),r=t(y),s=r.find(P),a=(s.length?s:r).find(bt).not('[tabindex="-1"]');function o(t){return t.preventDefault(),a.first().focus()}n.length?n.closest(y,P).length||(n=o(e)):o(e),(!i&&n.is(a.last())||i&&n.is(a.first()))&&e.preventDefault()}(e):i.is("textarea")||i.is("input")||i.is("select")||"true"===i.attr("contentEditable")||""===i.attr("contentEditable")||!Y.keyboardScrolling||!Y.autoScrolling||(t.inArray(n,[40,38,32,33,34])>-1&&e.preventDefault(),Z=e.ctrlKey,mt=setTimeout(function(){!function(e){var i=e.shiftKey;if(ot||!([37,39].indexOf(e.which)<0))switch(e.which){case 38:case 33:ct.k.up&&Bt();break;case 32:if(i&&ct.k.up){Bt();break}case 40:case 34:ct.k.down&&Ut();break;case 36:ct.k.up&&jt(1);break;case 35:ct.k.down&&jt(t(v).length);break;case 37:ct.k.left&&Gt();break;case 39:ct.k.right&&zt()}}(e)},150))}function me(t){at&&(Z=t.ctrlKey)}function ve(t){2==t.which&&(Rt=t.pageY,nt.on("mousemove",be))}function ye(t){2==t.which&&nt.off("mousemove")}function be(t){ot&&(t.pageY<Rt&&ct.m.up?Bt():t.pageY>Rt&&ct.m.down&&Ut()),Rt=t.pageY}function _e(e,i,r){var s=e.closest(v),a={slides:e,destiny:i,direction:r,destinyPos:i.position(),slideIndex:i.index(),section:s,sectionIndex:s.index(v),anchorLink:s.data("anchor"),slidesNav:s.find(F),slideAnchor:Ne(i),prevSlide:s.find(P),prevSlideIndex:s.find(P).index(),localIsResizing:st};a.xMovement=function(t,e){return t==e?"none":t>e?"left":"right"}(a.prevSlideIndex,a.slideIndex),a.localIsResizing||(ot=!1),Y.onSlideLeave&&!a.localIsResizing&&"none"!==a.xMovement&&t.isFunction(Y.onSlideLeave)&&!1===Y.onSlideLeave.call(a.prevSlide,a.anchorLink,a.sectionIndex+1,a.prevSlideIndex,a.direction,a.slideIndex)?tt=!1:(i.addClass(d).siblings().removeClass(d),a.localIsResizing||(ue(a.prevSlide),oe(i)),!Y.loopHorizontal&&Y.controlArrows&&(s.find(z).toggle(0!==a.slideIndex),s.find(G).toggle(!i.is(":last-child"))),s.hasClass(d)&&!a.localIsResizing&&Ie(a.slideIndex,a.slideAnchor,a.anchorLink,a.sectionIndex),function(t,e,i){var r=e.destinyPos;if(Y.css3){var s="translate3d(-"+n.round(r.left)+"px, 0px, 0px)";Se(t.find(I)).css(je(s)),ft=setTimeout(function(){Te(e)},Y.scrollingSpeed,Y.easing)}else t.animate({scrollLeft:n.round(r.left)},Y.scrollingSpeed,Y.easing,function(){Te(e)})}(e,a))}function Te(e){var i,n;i=e.slidesNav,n=e.slideIndex,i.find(f).removeClass(d),i.find("li").eq(n).find("a").addClass(d),e.localIsResizing||(t.isFunction(Y.afterSlideLoad)&&Y.afterSlideLoad.call(e.destiny,e.anchorLink,e.sectionIndex+1,e.slideAnchor,e.slideIndex),ot=!0,le(e.destiny)),tt=!1}function we(){if(Ee(),et){var e=t(i.activeElement);if(!e.is("textarea")&&!e.is("input")&&!e.is("select")){var r=q.height();n.abs(r-Pt)>20*n.max(Pt,r)/100&&(qt(!0),Pt=r)}}else clearTimeout(ht),ht=setTimeout(function(){qt(!0)},350)}function Ee(){var t=Y.responsive||Y.responsiveWidth,e=Y.responsiveHeight,i=t&&q.outerWidth()<t,n=e&&q.height()<e;t&&e?Wt(i||n):t?Wt(i):e&&Wt(n)}function Se(t){var e="all "+Y.scrollingSpeed+"ms "+Y.easingcss3;return t.removeClass(l),t.css({"-webkit-transition":e,transition:e})}function xe(t){return t.addClass(l)}function Ae(e,i){var n;n=e,Y.menu&&(t(Y.menu).find(f).removeClass(d),t(Y.menu).find('[data-menuanchor="'+n+'"]').addClass(d)),function(e,i){Y.navigation&&(t(A).find(f).removeClass(d),e?t(A).find('a[href="#'+e+'"]').addClass(d):t(A).find("li").eq(i).find("a").addClass(d))}(e,i)}function ke(e){var i=t(y).index(v),n=e.index(v);return i==n?"none":i>n?"up":"down"}function Ce(e){if(!e.hasClass(M)){var i=t('<div class="'+T+'" />').height(Re(e));e.addClass(M).wrapInner(i)}}function Re(t){var e=rt;if(Y.paddingTop||Y.paddingBottom){var i=t;i.hasClass(m)||(i=t.closest(v));var n=parseInt(i.css("padding-top"))+parseInt(i.css("padding-bottom"));e=rt-n}return e}function Pe(t,e){e?Se(nt):xe(nt),nt.css(je(t)),setTimeout(function(){nt.removeClass(l)},10)}function Le(e){var i=nt.find(v+'[data-anchor="'+e+'"]');if(!i.length){var n=void 0!==e?e-1:0;i=t(v).eq(n)}return i}function De(t,e){var i=Le(t);if(i.length){var n=function(t,e){var i=e.find(R+'[data-anchor="'+t+'"]');return i.length||(t=void 0!==t?t:0,i=e.find(R).eq(t)),i}(e,i);t===$||i.hasClass(d)?Oe(n):re(i,function(){Oe(n)})}}function Oe(t){t.length&&_e(t.closest(D),t)}function Ie(t,e,i,n){var r="";Y.anchors.length&&!Y.lockAnchors&&(t?(void 0!==i&&(r=i),void 0===e&&(e=t),Q=e,Me(r+"/"+e)):void 0!==t?(Q=e,Me(i)):Me(i)),Fe()}function Me(t){if(Y.recordHistory)location.hash=t;else if(et||it)e.history.replaceState(r,r,"#"+t);else{var i=e.location.href.split("#")[0];e.location.replace(i+"#"+t)}}function Ne(t){var e=t.data("anchor"),i=t.index();return void 0===e&&(e=i),e}function Fe(){var e=t(y),i=e.find(P),n=Ne(e),r=Ne(i),s=String(n);i.length&&(s=s+"-"+r),s=s.replace("/","-").replace("#","");var a=new RegExp("\\b\\s?"+h+"-[^\\s]+\\b","g");V[0].className=V[0].className.replace(a,""),V.addClass(h+"-"+s)}function Be(t){var e=[];return e.y=void 0!==t.pageY&&(t.pageY||t.pageX)?t.pageY:t.touches[0].pageY,e.x=void 0!==t.pageX&&(t.pageY||t.pageX)?t.pageX:t.touches[0].pageX,it&&Zt(t)&&(Y.scrollBar||!Y.autoScrolling)&&(e.y=t.touches[0].pageY,e.x=t.touches[0].pageX),e}function Ue(t,e){Ot(0,"internal"),void 0!==e&&(st=!0),_e(t.closest(D),t),void 0!==e&&(st=!1),Ot(_t.scrollingSpeed,"internal")}function He(t){var e=n.round(t);Y.css3&&Y.autoScrolling&&!Y.scrollBar?Pe("translate3d(0px, -"+e+"px, 0px)",!1):Y.autoScrolling&&!Y.scrollBar?nt.css("top",-e):X.scrollTop(e)}function je(t){return{"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,transform:t}}function ze(e,i,n){"all"!==i?ct[n][i]=e:t.each(Object.keys(ct[n]),function(t,i){ct[n][i]=e})}function Ge(t,e,i){Y[t]=e,"internal"!==i&&(_t[t]=e)}function qe(){t("html").hasClass(u)?We("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(Y.continuousVertical&&(Y.loopTop||Y.loopBottom)&&(Y.continuousVertical=!1,We("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),Y.scrollBar&&Y.scrollOverflow&&We("warn","Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"),!Y.continuousVertical||!Y.scrollBar&&Y.autoScrolling||(Y.continuousVertical=!1,We("warn","Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),Y.scrollOverflow&&!Y.scrollOverflowHandler&&(Y.scrollOverflow=!1,We("error","The option `scrollOverflow:true` requires the file `scrolloverflow.min.js`. Please include it before fullPage.js.")),t.each(["fadingEffect","continuousHorizontal","scrollHorizontally","interlockedSlides","resetSliders","responsiveSlides","offsetSections","dragAndMove","scrollOverflowReset","parallax"],function(t,e){Y[e]&&We("warn","fullpage.js extensions require jquery.fullpage.extensions.min.js file instead of the usual jquery.fullpage.js. Requested: "+e)}),t.each(Y.anchors,function(e,i){var n=W.find("[name]").filter(function(){return t(this).attr("name")&&t(this).attr("name").toLowerCase()==i.toLowerCase()}),r=W.find("[id]").filter(function(){return t(this).attr("id")&&t(this).attr("id").toLowerCase()==i.toLowerCase()});(r.length||n.length)&&(We("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE)."),r.length&&We("error",'"'+i+'" is is being used by another element `id` property'),n.length&&We("error",'"'+i+'" is is being used by another element `name` property'))}))}function We(t,e){console&&console[t]&&console[t]("fullPage: "+e)}}}(t,s,s.document,s.Math)}.apply(e,n))||(t.exports=r)}("undefined"!=typeof window?window:this)},function(t,e,i){"use strict";(function(n){var r;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(n,a,o){var l=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},c=function(){var t={},e=a.createElement("div").style,i=function(){for(var t=["t","webkitT","MozT","msT","OT"],i=0,n=t.length;i<n;i++)if(t[i]+"ransform"in e)return t[i].substr(0,t[i].length-1);return!1}();function r(t){return!1!==i&&(""===i?t:i+t.charAt(0).toUpperCase()+t.substr(1))}t.getTime=Date.now||function(){return(new Date).getTime()},t.extend=function(t,e){for(var i in e)t[i]=e[i]},t.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},t.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},t.prefixPointerEvent=function(t){return n.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},t.momentum=function(t,e,i,n,r,s){var a,l,c=t-e,u=o.abs(c)/i;return l=u/(s=void 0===s?6e-4:s),(a=t+u*u/(2*s)*(c<0?-1:1))<n?(a=r?n-r/2.5*(u/8):n,l=(c=o.abs(a-t))/u):a>0&&(a=r?r/2.5*(u/8):0,l=(c=o.abs(t)+a)/u),{destination:o.round(a),duration:l}};var l=r("transform");return t.extend(t,{hasTransform:!1!==l,hasPerspective:r("perspective")in e,hasTouch:"ontouchstart"in n,hasPointer:!(!n.PointerEvent&&!n.MSPointerEvent),hasTransition:r("transition")in e}),t.isBadAndroid=function(){var t=n.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var e=t.match(/Safari\/(\d+.\d)/);return!(e&&"object"===s(e)&&e.length>=2)||parseFloat(e[1])<535.19}return!1}(),t.extend(t.style={},{transform:l,transitionTimingFunction:r("transitionTimingFunction"),transitionDuration:r("transitionDuration"),transitionDelay:r("transitionDelay"),transformOrigin:r("transformOrigin")}),t.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},t.addClass=function(e,i){if(!t.hasClass(e,i)){var n=e.className.split(" ");n.push(i),e.className=n.join(" ")}},t.removeClass=function(e,i){if(t.hasClass(e,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");e.className=e.className.replace(n," ")}},t.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},t.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return o.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*o.pow(2,-10*t)*o.sin((t-.055)*(2*o.PI)/.22)+1}}}),t.tap=function(t,e){var i=a.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},t.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=new MouseEvent("click",{view:t.view||n,detail:1,screenX:i.screenX||0,screenY:i.screenY||0,clientX:i.clientX||0,clientY:i.clientY||0,ctrlKey:!!t.ctrlKey,altKey:!!t.altKey,shiftKey:!!t.shiftKey,metaKey:!!t.metaKey,button:0,relatedTarget:null,_constructed:!0}),i.dispatchEvent(e))},t}();function u(t,e,i){var n=a.createElement("div"),r=a.createElement("div");return!0===i&&(n.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0);border:1px solid rgba(255,255,255,0);border-radius:3px"),r.className="iScrollIndicator","h"==t?(!0===i&&(n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),n.className="iScrollHorizontalScrollbar"):(!0===i&&(n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),n.className="iScrollVerticalScrollbar"),n.style.cssText+=";overflow:hidden",e||(n.style.pointerEvents="none"),n.appendChild(r),n}function h(t,e){for(var i in this.wrapper="string"==typeof e.el?a.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},e)this.options[i]=e[i];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(c.addEvent(this.indicator,"touchstart",this),c.addEvent(n,"touchend",this)),this.options.disablePointer||(c.addEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.addEvent(n,c.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(c.addEvent(this.indicator,"mousedown",this),c.addEvent(n,"mouseup",this))),this.options.fade){this.wrapperStyle[c.style.transform]=this.scroller.translateZ;var r=c.style.transitionDuration;if(!r)return;this.wrapperStyle[r]=c.isBadAndroid?"0.0001ms":"0ms";var s=this;c.isBadAndroid&&l(function(){"0.0001ms"===s.wrapperStyle[r]&&(s.wrapperStyle[r]="0s")}),this.wrapperStyle.opacity="0"}}n.IScroll=function(t,e){for(var i in this.wrapper="string"==typeof t?a.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!c.hasPointer,disableTouch:c.hasPointer||!c.hasTouch,disableMouse:c.hasPointer||c.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL|A)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===n.onmousedown},e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&c.hasPerspective?" translateZ(0)":"",this.options.useTransition=c.hasTransition&&this.options.useTransition,this.options.useTransform=c.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?c.ease[this.options.bounceEasing]||c.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()},IScroll.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==c.eventType[t.type]||0===(t.which?t.button:t.button<2?0:4==t.button?1:2))&&this.enabled&&(!this.initiated||c.eventType[t.type]===this.initiated)){!this.options.preventDefault||c.isBadAndroid||c.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=c.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=c.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(o.round(e.x),o.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,r,s=t.touches?t.touches[0]:t,a=s.pageX-this.pointX,l=s.pageY-this.pointY,u=c.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=a,this.distY+=l,n=o.abs(this.distX),r=o.abs(this.distY),!(u-this.endTime>300&&n<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(n>r+this.options.directionLockThreshold?this.directionLocked="h":r>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,l=this.hasVerticalScroll?l:0,e=this.x+a,i=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:i>0?0:this.maxScrollY),this.directionX=a>0?-1:a<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){this.options.preventDefault&&!c.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),t.changedTouches&&t.changedTouches[0];var e,i,n=c.getTime()-this.startTime,r=o.round(this.x),s=o.round(this.y),a=o.abs(r-this.startX),l=o.abs(s-this.startY),u=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=c.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,s),!this.moved)return this.options.tap&&c.tap(t,this.options.tap),this.options.click&&c.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&a<100&&l<100)this._execEvent("flick");else{if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?c.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},i=this.hasVerticalScroll?c.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},r=e.destination,s=i.destination,u=o.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var d=this._nearestSnap(r,s);this.currentPage=d,u=this.options.snapSpeed||o.max(o.max(o.min(o.abs(r-d.x),1e3),o.min(o.abs(s-d.y),1e3)),300),r=d.x,s=d.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}if(r!=this.x||s!=this.y)return(r>0||r<this.maxScrollX||s>0||s<this.maxScrollY)&&(h=c.ease.quadratic),void this.scrollTo(r,s,u,h);this._execEvent("scrollEnd")}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=c.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||c.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var r=this.options.useTransition&&n.style;!i||r?(r&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,n,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=c.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,!0===i&&(i=o.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===n&&(n=o.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=i||0,s.top-=n||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?o.max(o.abs(this.x-s.left),o.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,r)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=c.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+"ms",!t&&c.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;l(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[c.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[c.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=o.round(t),e=o.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(t){var e=t?c.removeEvent:c.addEvent,i=this.options.bindToWrapper?this.wrapper:n;e(n,"orientationchange",this),e(n,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),c.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,c.prefixPointerEvent("pointerdown"),this),e(i,c.prefixPointerEvent("pointermove"),this),e(i,c.prefixPointerEvent("pointercancel"),this),e(i,c.prefixPointerEvent("pointerup"),this)),c.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,i=n.getComputedStyle(this.scroller,null);return this.options.useTransform?(t=+((i=i[c.style.transform].split(")")[0].split(", "))[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_initIndicators:function(){var t,e=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,n=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:u("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:u("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators));for(var s=n.length;s--;)this.indicators.push(new h(this,n[s]));function a(t){if(r.indicators)for(var e=r.indicators.length;e--;)t.call(r.indicators[e])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){a(function(){this.fade()})}),this.on("scrollCancel",function(){a(function(){this.fade()})}),this.on("scrollStart",function(){a(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){a(function(){this.fade(1,!0)})})),this.on("refresh",function(){a(function(){this.refresh()})}),this.on("destroy",function(){a(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"wheel",this),c.addEvent(this.wrapper,"mousewheel",this),c.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,c.removeEvent(this.wrapper,"wheel",this),c.removeEvent(this.wrapper,"mousewheel",this),c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){var e,i,n,r,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s.options.snap||s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return n=this.currentPage.pageX,r=this.currentPage.pageY,e>0?n--:e<0&&n++,i>0?r--:i<0&&r++,void this.goToPage(n,r);n=this.x+o.round(this.hasHorizontalScroll?e:0),r=this.y+o.round(this.hasVerticalScroll?i:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=i>0?-1:i<0?1:0,n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(n,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,r,s,a=0,l=0,c=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(i=o.round(u/2),n=o.round(h/2);c>-this.scrollerWidth;){for(this.pages[a]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[a][t]={x:o.max(c,this.maxScrollX),y:o.max(r,this.maxScrollY),width:u,height:h,cx:c-i,cy:r-n},r-=h,t++;c-=u,a++}else for(t=(s=this.options.snap).length,e=-1;a<t;a++)(0===a||s[a].offsetLeft<=s[a-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),c=o.max(-s[a].offsetLeft,this.maxScrollX),r=o.max(-s[a].offsetTop,this.maxScrollY),i=c-o.round(s[a].offsetWidth/2),n=r-o.round(s[a].offsetHeight/2),this.pages[l][e]={x:c,y:r,width:s[a].offsetWidth,height:s[a].offsetHeight,cx:i,cy:n},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.x-this.startX),1e3),o.min(o.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,r=0;if(o.abs(t-this.absStartX)<this.snapThresholdX&&o.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<n;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;r<n;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return i==this.currentPage.pageX&&((i+=this.directionX)<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),r==this.currentPage.pageY&&((r+=this.directionY)<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:i,pageY:r}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var r=this.pages[t][e].x,s=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||o.max(o.max(o.min(o.abs(r-this.x),1e3),o.min(o.abs(s-this.y),1e3)),300):i,this.currentPage={x:r,y:s,pageX:t,pageY:e},this.scrollTo(r,s,i,n)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(t){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==s(this.options.keyBindings))for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];c.addEvent(n,"keydown",this),this.on("destroy",function(){c.removeEvent(n,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,r=i?this.currentPage.pageY:this.y,s=c.getTime(),a=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(o.round(e.x),o.round(e.y)),this.isInTransition=!1),this.keyAcceleration=s-a<200?o.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:r+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:r-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,r=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,r=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=i?1:5+this.keyAcceleration>>0;break;default:return}i?this.goToPage(n,r):(n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,r,0),this.keyTime=s)}},_animate:function(t,e,i,n){var r=this,s=this.x,a=this.y,o=c.getTime(),u=o+i;this.isAnimating=!0,function h(){var d,f,p,g=c.getTime();if(g>=u)return r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"));p=n(g=(g-o)/i),d=(t-s)*p+s,f=(e-a)*p+a,r._translate(d,f),r.isAnimating&&l(h)}()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},h.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(c.removeEvent(this.indicator,"touchstart",this),c.removeEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.removeEvent(this.indicator,"mousedown",this),c.removeEvent(n,"touchmove",this),c.removeEvent(n,c.prefixPointerEvent("pointermove"),this),c.removeEvent(n,"mousemove",this),c.removeEvent(n,"touchend",this),c.removeEvent(n,c.prefixPointerEvent("pointerup"),this),c.removeEvent(n,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=c.getTime(),this.options.disableTouch||c.addEvent(n,"touchmove",this),this.options.disablePointer||c.addEvent(n,c.prefixPointerEvent("pointermove"),this),this.options.disableMouse||c.addEvent(n,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,r,s=t.touches?t.touches[0]:t;c.getTime(),this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,n=this.x+e,r=this.y+i,this._pos(n,r),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),c.removeEvent(n,"touchmove",this),c.removeEvent(n,c.prefixPointerEvent("pointermove"),this),c.removeEvent(n,"mousemove",this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.scroller.x-e.x),1e3),o.min(o.abs(this.scroller.y-e.y),1e3)),300);this.scroller.x==e.x&&this.scroller.y==e.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=c.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+"ms",!t&&c.isBadAndroid)){this.indicatorStyle[e]="0.0001ms";var i=this;l(function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[c.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(c.addClass(this.wrapper,"iScrollBothScrollbars"),c.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(c.removeClass(this.wrapper,"iScrollBothScrollbars"),c.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=o.max(o.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=o.max(o.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&o.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&o.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=o.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=o.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=o.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=o.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[c.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?o.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?o.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[c.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},IScroll.utils=c,void 0!==t&&t.exports?t.exports=IScroll:void 0===(r=function(){return IScroll}.call(e,i,e,t))||(t.exports=r)}(window,document,Math),function(t,e){"undefined"!=typeof IScroll&&(IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this),this.wrapper.addEventListener("mousewheel",this),this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this),this.wrapper.removeEventListener("mousewheel",this),this.wrapper.removeEventListener("DOMMouseScroll",this)}),t.iscrollHandler={refreshId:null,iScrollInstances:[],toggleWheel:function(t){e(".fp-section.active").find(".fp-scrollable").each(function(){var i=e(this).data("iscrollInstance");void 0!==i&&i&&(t?i.wheelOn():i.wheelOff())})},onLeave:function(){iscrollHandler.toggleWheel(!1)},beforeLeave:function(){iscrollHandler.onLeave()},afterLoad:function(){iscrollHandler.toggleWheel(!0)},create:function(t,i,n){var r=t.find(".fp-scrollable");r.height(i),r.each(function(){var t=e(this),i=t.data("iscrollInstance");i&&e.each(iscrollHandler.iScrollInstances,function(){e(this).destroy()}),(i=new IScroll(t.get(0),n)).on("scrollEnd",function(){this.fp_isAtTop=this.y>-30,this.fp_isAtEnd=this.y-this.maxScrollY<30}),iscrollHandler.iScrollInstances.push(i),i.wheelOff(),t.data("iscrollInstance",i)})},isScrolled:function(t,e){var i=e.data("iscrollInstance");return!i||("top"===t?i.y>=0&&!e.scrollTop():"bottom"===t?0-i.y+e.scrollTop()+1+e.innerHeight()>=e[0].scrollHeight:void 0)},scrollable:function(t){return t.find(".fp-slides").length?t.find(".fp-slide.active").find(".fp-scrollable"):t.find(".fp-scrollable")},scrollHeight:function(t){return t.find(".fp-scrollable").children().first().get(0).scrollHeight},remove:function(t){var e=t.find(".fp-scrollable");if(e.length){var i=e.data("iscrollInstance");i&&i.destroy(),e.data("iscrollInstance",null)}t.find(".fp-scrollable").children().first().children().first().unwrap().unwrap()},update:function(t,i){clearTimeout(iscrollHandler.refreshId),iscrollHandler.refreshId=setTimeout(function(){e.each(iscrollHandler.iScrollInstances,function(){e(this).get(0).refresh()})},150),t.find(".fp-scrollable").css("height",i+"px").parent().css("height",i+"px")},wrapContent:function(){return'<div class="fp-scrollable"><div class="fp-scroller"></div></div>'}}}(window,n),function(t,e,i){i.fn.fp_scrolloverflow=function(){var n=".fp-section",r=n+".active",s=".fp-slide",a=s+".active",o=".fp-tableCell",l="fp-responsive",c="fp-auto-height-responsive";function u(){var r=this;function a(){var t;i("body").hasClass(l)?(t=r.options.scrollOverflowHandler,h(function(e){e.closest(n).hasClass(c)&&t.remove(e)})):h(u)}function u(e){if(!e.hasClass("fp-noscroll")){e.css("overflow","hidden");var s,a=r.options.scrollOverflowHandler,l=a.wrapContent(),c=e.closest(n),u=a.scrollable(e),h=parseInt(c.css("padding-bottom"))+parseInt(c.css("padding-top"));u.length?s=a.scrollHeight(e):(s=e.get(0).scrollHeight-h,r.options.verticalCentered&&(s=e.find(o).get(0).scrollHeight-h));var d=i(t).height()-h;s>d?u.length?a.update(e,d):(r.options.verticalCentered?e.find(o).wrapInner(l):e.wrapInner(l),a.create(e,d,r.iscrollOptions)):a.remove(e),e.css("overflow","")}}function h(t){i(n).each(function(){var e=i(this).find(s);e.length?e.each(function(){t(i(this))}):t(i(this))})}r.options=null,r.init=function(n,s){return r.options=n,r.iscrollOptions=s,"complete"===e.readyState&&(a(),i.fn.fullpage.shared.afterRenderActions()),i(t).on("load",function(){a(),i.fn.fullpage.shared.afterRenderActions()}),r},r.createScrollBarForAll=a}IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this),this.wrapper.addEventListener("mousewheel",this),this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this),this.wrapper.removeEventListener("mousewheel",this),this.wrapper.removeEventListener("DOMMouseScroll",this)};var h={refreshId:null,iScrollInstances:[],iscrollOptions:{scrollbars:!0,mouseWheel:!0,hideScrollbars:!1,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!0},init:function(e){var n="ontouchstart"in t||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints;return h.iscrollOptions.click=n,h.iscrollOptions=i.extend(h.iscrollOptions,e.scrollOverflowOptions),(new u).init(e,h.iscrollOptions)},toggleWheel:function(t){i(r).find(".fp-scrollable").each(function(){var e=i(this).data("iscrollInstance");void 0!==e&&e&&(t?e.wheelOn():e.wheelOff())})},onLeave:function(){h.toggleWheel(!1)},beforeLeave:function(){h.onLeave()},afterLoad:function(){h.toggleWheel(!0)},create:function(t,e,n){var r=t.find(".fp-scrollable");r.height(e),r.each(function(){var t=i(this),e=t.data("iscrollInstance");e&&i.each(h.iScrollInstances,function(){i(this).destroy()}),e=new IScroll(t.get(0),n),h.iScrollInstances.push(e),e.wheelOff(),t.data("iscrollInstance",e)})},isScrolled:function(t,e){var i=e.data("iscrollInstance");return!i||("top"===t?i.y>=0&&!e.scrollTop():"bottom"===t?0-i.y+e.scrollTop()+1+e.innerHeight()>=e[0].scrollHeight:void 0)},scrollable:function(t){return t.find(".fp-slides").length?t.find(a).find(".fp-scrollable"):t.find(".fp-scrollable")},scrollHeight:function(t){return t.find(".fp-scrollable").children().first().get(0).scrollHeight},remove:function(t){var e=t.find(".fp-scrollable");e.length&&(e.data("iscrollInstance").destroy(),e.data("iscrollInstance",null)),t.find(".fp-scrollable").children().first().children().first().unwrap().unwrap()},update:function(t,e){clearTimeout(h.refreshId),h.refreshId=setTimeout(function(){i.each(h.iScrollInstances,function(){i(this).get(0).refresh()})},150),t.find(".fp-scrollable").css("height",e+"px").parent().css("height",e+"px")},wrapContent:function(){return'<div class="fp-scrollable"><div class="fp-scroller"></div></div>'}};return{iscrollHandler:h}}()}(window,document,n)}).call(this,i(2))},function(t,e,i){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=9)}([function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return l});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(){}var s={trace:r,debug:r,log:r,warn:r,info:r,error:r},a=s;var o=function(t){if(!0===t||"object"===(void 0===t?"undefined":n(t))){!function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];i.forEach(function(e){a[e]=t[e]?t[e].bind(t):function(t){var e=self.console[t];return e?function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];n[0]&&(n[0]=function(t,e){return"["+t+"] > "+e}(t,n[0])),e.apply(self.console,n)}:r}(e)})}(t,"debug","log","info","warn","error");try{a.log()}catch(t){a=s}}else a=s},l=s},function(t,e,i){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r});var n={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,i){var n,r,s,a,o;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/;?#]*)(.*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var n=o.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=o.normalizePath(n.path),o.buildURLFromParts(n)}var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=r.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(c.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var u=a.path,h=u.substring(0,u.lastIndexOf("/")+1)+s.path;c.path=o.normalizePath(h)}else c.path=a.path,s.params||(c.params=a.params,s.query||(c.query=a.query));return null===c.path&&(c.path=i.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(c)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(s,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o},function(t,e,i){"use strict";i.d(e,"b",function(){return r});var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,i){for(var n=i,r=0;t.isHeader(e,i);)r+=10,r+=t._readSize(e,i+6),t.isFooter(e,i+10)&&(r+=10),i+=r;if(r>0)return e.subarray(n,n+r)},t._readSize=function(t,e){var i=0;return i=(127&t[e])<<21,i|=(127&t[e+1])<<14,(i|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var i=t.getID3Frames(e),n=0;n<i.length;n++){var r=i[n];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var i=String.fromCharCode(e[0],e[1],e[2],e[3]),n=t._readSize(e,4);return{type:i,size:n,data:e.subarray(10,10+n)}},t.getID3Frames=function(e){for(var i=0,n=[];t.isHeader(e,i);){for(var r=t._readSize(e,i+6),s=(i+=10)+r;i+8<s;){var a=t._getFrameData(e.subarray(i)),o=t._decodeFrame(a);o&&n.push(o),i+=a.size+10}t.isFooter(e,i)&&(i+=10)}return n},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),i=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,i&&(n+=47721858.84),Math.round(n)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var i=t._utf8ArrayToStr(e.data,!0),n=new Uint8Array(e.data.subarray(i.length+1));return{key:e.type,info:i,data:n.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var s=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:s}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var s=t._utf8ArrayToStr(e.data);return{key:e.type,data:s}},t._utf8ArrayToStr=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.length,n=void 0,r=void 0,s=void 0,a="",o=0;o<i;){if(0===(n=t[o++])&&e)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=t[o++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t[o++],s=t[o++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&s)<<0)}}return a},t}(),r=n._utf8ArrayToStr;e.a=n},function(t,e,i){"use strict";var n=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subtle=e,this.aesIV=i}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subtle=e,this.key=i}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),i=new Uint32Array(4),n=0;n<4;n++)i[n]=e.getUint32(4*n);return i},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,i=this.subMix,n=i[0],r=i[1],s=i[2],a=i[3],o=this.invSubMix,l=o[0],c=o[1],u=o[2],h=o[3],d=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)d[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,t[f]=m,e[m]=f;var v=d[f],y=d[v],b=d[y],_=257*d[m]^16843008*m;n[f]=_<<24|_>>>8,r[f]=_<<16|_>>>16,s[f]=_<<8|_>>>24,a[f]=_,_=16843009*b^65537*y^257*v^16843008*f,l[m]=_<<24|_>>>8,c[m]=_<<16|_>>>16,u[m]=_<<8|_>>>24,h[m]=_,f?(f=v^d[d[d[b^v]]],p^=d[d[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),i=!0,n=0;n<e.length&&i;)i=e[n]===this.key[n],n++;if(!i){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var s=this.ksRows=4*(r+6+1),a=void 0,o=void 0,l=this.keySchedule=new Uint32Array(s),c=this.invKeySchedule=new Uint32Array(s),u=this.sBox,h=this.rcon,d=this.invSubMix,f=d[0],p=d[1],g=d[2],m=d[3],v=void 0,y=void 0;for(a=0;a<s;a++)a<r?v=l[a]=e[a]:(y=v,a%r==0?(y=u[(y=y<<8|y>>>24)>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=h[a/r|0]<<24):r>6&&a%r==4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),l[a]=v=(l[a-r]^y)>>>0);for(o=0;o<s;o++)a=s-o,y=3&o?l[a]:l[a-4],c[o]=o<4||a<=4?y:f[u[y>>>24]]^p[u[y>>>16&255]]^g[u[y>>>8&255]]^m[u[255&y]],c[o]=c[o]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,i,n){for(var r,s,a,o=this.keySize+6,l=this.invKeySchedule,c=this.invSBox,u=this.invSubMix,h=u[0],d=u[1],f=u[2],p=u[3],g=this.uint8ArrayToUint32Array_(i),m=g[0],v=g[1],y=g[2],b=g[3],_=new Int32Array(t),T=new Int32Array(_.length),w=void 0,E=void 0,S=void 0,x=void 0,A=void 0,k=void 0,C=void 0,R=void 0,P=void 0,L=void 0,D=void 0,O=void 0,I=void 0,M=void 0,N=this.networkToHostOrderSwap;e<_.length;){for(P=N(_[e]),L=N(_[e+1]),D=N(_[e+2]),O=N(_[e+3]),A=P^l[0],k=O^l[1],C=D^l[2],R=L^l[3],I=4,M=1;M<o;M++)w=h[A>>>24]^d[k>>16&255]^f[C>>8&255]^p[255&R]^l[I],E=h[k>>>24]^d[C>>16&255]^f[R>>8&255]^p[255&A]^l[I+1],S=h[C>>>24]^d[R>>16&255]^f[A>>8&255]^p[255&k]^l[I+2],x=h[R>>>24]^d[A>>16&255]^f[k>>8&255]^p[255&C]^l[I+3],A=w,k=E,C=S,R=x,I+=4;w=c[A>>>24]<<24^c[k>>16&255]<<16^c[C>>8&255]<<8^c[255&R]^l[I],E=c[k>>>24]<<24^c[C>>16&255]<<16^c[R>>8&255]<<8^c[255&A]^l[I+1],S=c[C>>>24]<<24^c[R>>16&255]<<16^c[A>>8&255]<<8^c[255&k]^l[I+2],x=c[R>>>24]<<24^c[A>>16&255]<<16^c[k>>8&255]<<8^c[255&C]^l[I+3],I+=3,T[e]=N(w^m),T[e+1]=N(x^v),T[e+2]=N(S^y),T[e+3]=N(E^b),m=P,v=L,y=D,b=O,e+=4}return n?(a=(s=(r=T.buffer).byteLength)&&new DataView(r).getUint8(s-1))?r.slice(0,s-a):r:T.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),a=i(2),o=i(0),l=function(){function t(e,i){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).removePKCS7Padding,r=void 0===n||n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logEnabled=!0,this.observer=e,this.config=i,this.removePKCS7Padding=r,r)try{var s=crypto||self.crypto;this.subtle=s.subtle||s.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,i,a){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(o.b.log("JS AES decrypt"),this.logEnabled=!1);var c=this.decryptor;c||(this.decryptor=c=new s),c.expandKey(e),a(c.decrypt(t,0,i,this.removePKCS7Padding))}else{this.logEnabled&&(o.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var u=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new r(u,e)),this.fastAesKey.expandKey().then(function(r){new n(u,i).decrypt(t,r).catch(function(n){l.onWebCryptoError(n,t,e,i,a)}).then(function(t){a(t)})}).catch(function(n){l.onWebCryptoError(n,t,e,i,a)})}},t.prototype.onWebCryptoError=function(t,e,i,n,r){this.config.enableSoftwareAES?(o.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,i,n,r)):(o.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=l},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,a,o,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(s(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(r(i))for(o=Array.prototype.slice.call(arguments,1),a=(c=i.slice()).length,l=0;l<a;l++)c[l].apply(this,o);return!0},i.prototype.addListener=function(t,e){var a;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(a=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},i.prototype.removeListener=function(t,e){var i,s,a,o;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(i=this._events[t]).length,s=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(o=a;o-- >0;)if(i[o]===e||i[o].listener&&i[o].listener===e){s=o;break}if(s<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(s,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){"use strict";var n=i(0),r=i(1),s=Math.pow(2,32)-1,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.remuxer=i}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,i,n,s){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==i&&(i="mp4a.40.5"),null==n&&(n="avc1.42e01e");var o={};a.audio&&a.video?o.audiovideo={container:"video/mp4",codec:i+","+n,initSegment:s?e:null}:(a.audio&&(o.audio={container:"audio/mp4",codec:i,initSegment:s?e:null}),a.video&&(o.video={container:"video/mp4",codec:n,initSegment:s?e:null})),this.observer.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else i&&(this.audioCodec=i),n&&(this.videoCodec=n)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<8|t[e+1];return i<0?65536+i:i},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return i<0?4294967296+i:i},t.writeUint32=function(t,e,i){t.data&&(e+=t.start,t=t.data),t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i},t.findBox=function(e,i){var n=[],r=void 0,s=void 0,a=void 0,o=void 0,l=void 0,c=void 0,u=void 0;if(e.data?(c=e.start,o=e.end,e=e.data):(c=0,o=e.byteLength),!i.length)return null;for(r=c;r<o;)s=t.readUint32(e,r),a=t.bin2str(e.subarray(r+4,r+8)),u=s>1?r+s:o,a===i[0]&&(1===i.length?n.push({data:e,start:r+8,end:u}):(l=t.findBox({data:e,start:r+8,end:u},i.slice(1))).length&&(n=n.concat(l))),r=u;return n},t.parseSegmentIndex=function(e){var i=t.findBox(e,["moov"])[0],n=i?i.end:null,r=0,s=t.findBox(e,["sidx"]),a=void 0;if(!s||!s[0])return null;a=[];var o=(s=s[0]).data[0];r=0===o?8:16;var l=t.readUint32(s,r);r+=4,r+=0===o?8:16,r+=2;var c=s.end+0,u=t.readUint16(s,r);r+=2;for(var h=0;h<u;h++){var d=r,f=t.readUint32(s,d);d+=4;var p=2147483647&f;if(1==(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(s,d);d+=4,a.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/l,start:c,end:c+p-1}}),c+=p,r=d+=4}return{earliestPresentationTime:0,timescale:l,version:o,referencesCount:u,references:a,moovEndOffset:n}},t.parseInitSegment=function(e){var i=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var s=r.data[r.start],a=0===s?12:20,o=t.readUint32(r,a),l=t.findBox(e,["mdia","mdhd"])[0];if(l){a=0===(s=l.data[l.start])?12:20;var c=t.readUint32(l,a),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var h={soun:"audio",vide:"video"}[t.bin2str(u.data.subarray(u.start+8,u.start+12))];if(h){var d=t.findBox(e,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var f=t.bin2str(d.data.subarray(d.start+12,d.start+16));n.b.log("MP4Demuxer:"+h+":"+f+" found")}i[o]={timescale:c,type:h},i[h]={timescale:c,id:o}}}}}}),i},t.getStartDTS=function(e,i){var n,r,s=void 0;return s=t.findBox(i,["moof","traf"]),n=[].concat.apply([],s.map(function(i){return t.findBox(i,["tfhd"]).map(function(n){var r,s;return r=t.readUint32(n,4),s=e[r].timescale||9e4,t.findBox(i,["tfdt"]).map(function(e){var i,n=void 0;return i=e.data[e.start],n=t.readUint32(e,4),1===i&&(n*=Math.pow(2,32),n+=t.readUint32(e,8)),n})[0]/s})})),r=Math.min.apply(null,n),isFinite(r)?r:0},t.offsetStartDTS=function(e,i,n){t.findBox(i,["moof","traf"]).map(function(i){return t.findBox(i,["tfhd"]).map(function(r){var a=t.readUint32(r,4),o=e[a].timescale||9e4;t.findBox(i,["tfdt"]).map(function(e){var i=e.data[e.start],r=t.readUint32(e,4);if(0===i)t.writeUint32(e,4,r-n*o);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=n*o,r=Math.max(r,0);var a=Math.floor(r/(s+1)),l=Math.floor(r%(s+1));t.writeUint32(e,4,a),t.writeUint32(e,8,l)}})})})},t.prototype.append=function(e,i,n,s){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var o,l=this.initPTS;if(void 0===l){var c=t.getStartDTS(a,e);this.initPTS=l=c-i,this.observer.trigger(r.a.INIT_PTS_FOUND,{initPTS:l})}t.offsetStartDTS(a,e,l),o=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,o,n,s,e)},t.prototype.destroy=function(){},t}();e.a=a},function(t,e,i){"use strict";var n=i(1),r=i(2),s=i(5),a=i(0);function o(t,e){return 255===t[e]&&240==(246&t[e+1])}function l(t,e){return 1&t[e+1]?7:9}function c(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function u(t,e){return!!(e+1<t.length&&o(t,e))}function h(t,e){if(e+1<t.length&&o(t,e)){var i=l(t,e);e+5<t.length&&(i=c(t,e));var n=e+i;if(n===t.length||n+1<t.length&&o(t,n))return!0}return!1}function d(t,e,i,n,s){if(!t.samplerate){var o=function(t,e,i,n){var s,o=void 0,l=void 0,c=void 0,u=void 0,h=navigator.userAgent.toLowerCase(),d=n,f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&e[i+2])>>>6),!((s=(60&e[i+2])>>>2)>f.length-1))return c=(1&e[i+2])<<2,c|=(192&e[i+3])>>>6,a.b.log("manifest codec:"+n+",ADTS data:type:"+o+",sampleingIndex:"+s+"["+f[s]+"Hz],channelConfig:"+c),/firefox/i.test(h)?s>=6?(o=5,u=new Array(4),l=s-3):(o=2,u=new Array(2),l=s):-1!==h.indexOf("android")?(o=2,u=new Array(2),l=s):(o=5,u=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&s>=6?l=s-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(s>=6&&1===c||/vivaldi/i.test(h))||!n&&1===c)&&(o=2,u=new Array(2)),l=s)),u[0]=o<<3,u[0]|=(14&s)>>1,u[1]|=(1&s)<<7,u[1]|=c<<3,5===o&&(u[1]|=(14&l)>>1,u[2]=(1&l)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:f[s],channelCount:c,codec:"mp4a.40."+o,manifestCodec:d};t.trigger(Event.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})}(e,i,n,s);t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,a.b.log("parsed codec:"+t.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function f(t){return 9216e4/t}function p(t,e,i,n,r){var s=function(t,e,i,n,r){var s,a=void 0,o=t.length;if(s=l(t,e),a=c(t,e),(a-=s)>0&&e+s+a<=o)return{headerLength:s,frameLength:a,stamp:i+n*r}}(e,i,n,r,f(t.samplerate));if(s){var a=s.stamp,o=s.headerLength,u=s.frameLength,h={unit:e.subarray(i+o,i+o+u),pts:a,dts:a};return t.samples.push(h),t.len+=u,{sample:h,length:u+o}}}var g=i(4),m=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=n,this.remuxer=i}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(g.a.getID3Data(t,0)||[]).length,i=t.length;e<i;e++)if(h(t,e))return a.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,n){for(var r=this._audioTrack,s=g.a.getID3Data(t,0)||[],o=g.a.getTimeStamp(s),l=o?90*o:9e4*e,c=0,h=l,f=t.length,m=s.length,v=[{pts:h,dts:h,data:s}];m<f-1;)if(u(t,m)&&m+5<f){d(r,this.observer,t,m,r.manifestCodec);var y=p(r,t,m,l,c);if(!y){a.b.log("Unable to parse AAC frame");break}m+=y.length,h=y.sample.pts,c++}else g.a.isHeader(t,m)?(s=g.a.getID3Data(t,m),v.push({pts:h,dts:h,data:s}),m+=s.length):m++;this.remuxer.remux(r,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},e,i,n)},t.prototype.destroy=function(){},t}(),v=i(7),y={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,i,n,r){if(!(i+24>e.length)){var s=this.parseHeader(e,i);if(s&&i+s.frameLength<=e.length){var a=n+r*(9e4*s.samplesPerFrame/s.sampleRate),o={unit:e.subarray(i,i+s.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(o),t.len+=s.frameLength,{sample:o,length:s.frameLength}}}},parseHeader:function(t,e){var i=t[e+1]>>3&3,n=t[e+1]>>1&3,r=t[e+2]>>4&15,s=t[e+2]>>2&3,a=t[e+2]>>1&1;if(1!==i&&0!==r&&15!==r&&3!==s){var o=3===i?3-n:3===n?3:4,l=1e3*y.BitratesMap[14*o+r-1],c=3===i?0:2===i?1:2,u=y.SamplingRateMap[3*c+s],h=t[e+3]>>6==3?1:2,d=y.SamplesCoefficients[i][n],f=y.BytesInSlot[n],p=8*d*f;return{sampleRate:u,channelCount:h,frameLength:parseInt(d*l/u+a,10)*f,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var i=this.parseHeader(t,e),n=4;i&&i.frameLength&&(n=i.frameLength);var r=e+n;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},b=y,_=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,i=t.byteLength-e,n=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");n.set(t.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},t.prototype.skipBits=function(t){var e=void 0;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),i=this.word>>>32-e;return t>32&&a.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?i<<e|this.readBits(e):i},t.prototype.skipLZ=function(){var t=void 0;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e=8,i=8,n=void 0;for(n=0;n<t;n++)0!==i&&(i=(e+this.readEG()+256)%256),e=0===i?e:i},t.prototype.readSPS=function(){var t,e,i,n,r=0,s=0,a=0,o=0,l=void 0,c=void 0,u=void 0,h=this.readUByte.bind(this),d=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(h(),t=h(),d(5),g(3),h(),v(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=f();if(3===b&&g(1),v(),v(),g(1),p())for(c=3!==b?8:12,u=0;u<c;u++)p()&&y(u<6?16:64)}v();var _=f();if(0===_)f();else if(1===_)for(g(1),m(),m(),l=f(),u=0;u<l;u++)m();v(),g(1),e=f(),i=f(),0===(n=d(1))&&g(1),g(1),p()&&(r=f(),s=f(),a=f(),o=f());var T=[1,1];if(p()&&p())switch(h()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[h()<<8|h(),h()<<8|h()]}return{width:Math.ceil(16*(e+1)-2*r-2*s),height:(2-n)*(i+1)*16-(n?2:4)*(a+o),pixelRatio:T}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),T=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.decryptdata=n,this.discardEPB=r,this.decrypter=new s.a(e,i,{removePKCS7Padding:!1})}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,i,n){var r=t[e].unit,s=r.subarray(16,r.length-r.length%16),a=s.buffer.slice(s.byteOffset,s.byteOffset+s.length),o=this;this.decryptBuffer(a,function(s){s=new Uint8Array(s),r.set(s,16),n||o.decryptAacSamples(t,e+1,i)})},t.prototype.decryptAacSamples=function(t,e,i){for(;;e++){if(e>=t.length)return void i();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,i,n),!n)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,i=new Int8Array(e),n=0,r=32;r<=t.length-16;r+=160,n+=16)i.set(t.subarray(r,r+16),n);return i},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var i=0,n=32;n<=t.length-16;n+=160,i+=16)t.set(e.subarray(i,i+16),n);return t},t.prototype.decryptAvcSample=function(t,e,i,n,r,s){var a=this.discardEPB(r.data),o=this.getAvcEncryptedData(a),l=this;this.decryptBuffer(o.buffer,function(o){r.data=l.getAvcDecryptedUnit(a,o),s||l.decryptAvcSamples(t,e,i+1,n)})},t.prototype.decryptAvcSamples=function(t,e,i,n){for(;;e++,i=0){if(e>=t.length)return void n();for(var r=t[e].units;!(i>=r.length);i++){var s=r[i];if(!(s.length<=48||1!==s.type&&5!==s.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,i,n,s,a),!a)return}}}},t}(),w={video:0,audio:1,id3:2,text:3},E=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=i,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new T(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var i=t._syncOffset(e);return!(i<0||(i&&a.b.warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),i=0;i<e;){if(71===t[i]&&71===t[i+188]&&71===t[i+376])return i;i++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:w[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,i,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=n,this._duration=r},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,i,s,o){var l=void 0,c=e.length,u=void 0,h=void 0,d=void 0,f=void 0,p=!1;this.contiguous=s;var g=this.pmtParsed,m=this._avcTrack,v=this._audioTrack,y=this._id3Track,b=m.pid,_=v.pid,T=y.pid,w=this._pmtId,E=m.pesData,S=v.pesData,x=y.pesData,A=this._parsePAT,k=this._parsePMT,C=this._parsePES,R=this._parseAVCPES.bind(this),P=this._parseAACPES.bind(this),L=this._parseMPEGPES.bind(this),D=this._parseID3PES.bind(this),O=t._syncOffset(e);for(c-=(c+O)%188,l=O;l<c;l+=188)if(71===e[l]){if(u=!!(64&e[l+1]),h=((31&e[l+1])<<8)+e[l+2],(48&e[l+3])>>4>1){if((d=l+5+e[l+4])===l+188)continue}else d=l+4;switch(h){case b:u&&(E&&(f=C(E))&&void 0!==f.pts&&R(f,!1),E={data:[],size:0}),E&&(E.data.push(e.subarray(d,l+188)),E.size+=l+188-d);break;case _:u&&(S&&(f=C(S))&&void 0!==f.pts&&(v.isAAC?P(f):L(f)),S={data:[],size:0}),S&&(S.data.push(e.subarray(d,l+188)),S.size+=l+188-d);break;case T:u&&(x&&(f=C(x))&&void 0!==f.pts&&D(f),x={data:[],size:0}),x&&(x.data.push(e.subarray(d,l+188)),x.size+=l+188-d);break;case 0:u&&(d+=e[d]+1),w=this._pmtId=A(e,d);break;case w:u&&(d+=e[d]+1);var I=k(e,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=I.avc)>0&&(m.pid=b),(_=I.audio)>0&&(v.pid=_,v.isAAC=I.isAAC),(T=I.id3)>0&&(y.pid=T),p&&!g&&(a.b.log("reparse from beginning"),p=!1,l=O-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(n.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});E&&(f=C(E))&&void 0!==f.pts?(R(f,!0),m.pesData=null):m.pesData=E,S&&(f=C(S))&&void 0!==f.pts?(v.isAAC?P(f):L(f),v.pesData=null):(S&&S.size&&a.b.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=S),x&&(f=C(x))&&void 0!==f.pts?(D(f),y.pesData=null):y.pesData=x,null==this.sampleAes?this.remuxer.remux(v,m,y,this._txtTrack,i,s,o):this.decryptAndRemux(v,m,y,this._txtTrack,i,s,o)},t.prototype.decryptAndRemux=function(t,e,i,n,r,s,a){if(t.samples&&t.isAAC){var o=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){o.decryptAndRemuxAvc(t,e,i,n,r,s,a)})}else this.decryptAndRemuxAvc(t,e,i,n,r,s,a)},t.prototype.decryptAndRemuxAvc=function(t,e,i,n,r,s,a){if(e.samples){var o=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){o.remuxer.remux(t,e,i,n,r,s,a)})}else this.remuxer.remux(t,e,i,n,r,s,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,i,n){var r,s=void 0,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(s=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!n){a.b.log("unkown stream type:"+t[e]);break}case 15:-1===o.audio&&(o.audio=s);break;case 21:-1===o.id3&&(o.id3=s);break;case 219:if(!n){a.b.log("unkown stream type:"+t[e]);break}case 27:-1===o.avc&&(o.avc=s);break;case 3:case 4:i?-1===o.audio&&(o.audio=s,o.isAAC=!1):a.b.log("MPEG audio found, not supported in this browser for now");break;case 36:a.b.warn("HEVC stream type found, not supported for now");break;default:a.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return o},t.prototype._parsePES=function(t){var e=0,i=void 0,n=void 0,r=void 0,s=void 0,o=void 0,l=void 0,c=void 0,u=void 0,h=t.data;if(!t||0===t.size)return null;for(;h[0].length<19&&h.length>1;){var d=new Uint8Array(h[0].length+h[1].length);d.set(h[0]),d.set(h[1],h[0].length),h[0]=d,h.splice(1,1)}if(1===((i=h[0])[0]<<16)+(i[1]<<8)+i[2]){if((r=(i[4]<<8)+i[5])&&r>t.size-6)return null;192&(n=i[7])&&((l=536870912*(14&i[9])+4194304*(255&i[10])+16384*(254&i[11])+128*(255&i[12])+(254&i[13])/2)>4294967295&&(l-=8589934592),64&n?((c=536870912*(14&i[14])+4194304*(255&i[15])+16384*(254&i[16])+128*(255&i[17])+(254&i[18])/2)>4294967295&&(c-=8589934592),l-c>54e5&&(a.b.warn(Math.round((l-c)/9e4)+"s delta between PTS and DTS, align them"),l=c)):c=l),u=(s=i[8])+9,t.size-=u,o=new Uint8Array(t.size);for(var f=0,p=h.length;f<p;f++){var g=(i=h[f]).byteLength;if(u){if(u>g){u-=g;continue}i=i.subarray(u),g-=u,u=0}o.set(i,e),e+=g}return r&&(r-=s+3),{data:o,pts:l,dts:c,len:r}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var i=e.samples,n=i.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(n||this.contiguous)?(t.id=n,i.push(t)):e.dropped++}t.debug.length&&a.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var i=this,n=this._avcTrack,r=this._parseAVCNALu(t.data),s=void 0,a=this.avcSample,o=void 0,l=!1,c=void 0,u=this.pushAccesUnit.bind(this),h=function(t,e,i,n){return{key:t,pts:e,dts:i,units:[],debug:n}};t.data=null,a&&r.length&&!n.audFound&&(u(a,n),a=this.avcSample=h(!1,t.pts,t.dts,"")),r.forEach(function(e){switch(e.type){case 1:o=!0,a||(a=i.avcSample=h(!0,t.pts,t.dts,"")),a.frame=!0;var r=e.data;if(l&&r.length>4){var d=new _(r).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(a.key=!0)}break;case 5:o=!0,a||(a=i.avcSample=h(!0,t.pts,t.dts,"")),a.key=!0,a.frame=!0;break;case 6:o=!0,(s=new _(i.discardEPB(e.data))).readUByte();for(var f=0,p=0,g=!1,m=0;!g&&s.bytesAvailable>1;){f=0;do{f+=m=s.readUByte()}while(255===m);p=0;do{p+=m=s.readUByte()}while(255===m);if(4===f&&0!==s.bytesAvailable){if(g=!0,181===s.readUByte()&&49===s.readUShort()&&1195456820===s.readUInt()&&3===s.readUByte()){var v=s.readUByte(),y=31&v,b=[v,s.readUByte()];for(c=0;c<y;c++)b.push(s.readUByte()),b.push(s.readUByte()),b.push(s.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(p<s.bytesAvailable)for(c=0;c<p;c++)s.readUByte()}break;case 7:if(o=!0,l=!0,!n.sps){var T=(s=new _(e.data)).readSPS();n.width=T.width,n.height=T.height,n.pixelRatio=T.pixelRatio,n.sps=[e.data],n.duration=i._duration;var w=e.data.subarray(1,4),E="avc1.";for(c=0;c<3;c++){var S=w[c].toString(16);S.length<2&&(S="0"+S),E+=S}n.codec=E}break;case 8:o=!0,n.pps||(n.pps=[e.data]);break;case 9:o=!1,n.audFound=!0,a&&u(a,n),a=i.avcSample=h(!1,t.pts,t.dts,"");break;case 12:o=!1;break;default:o=!1,a&&(a.debug+="unknown NAL "+e.type+" ")}a&&o&&a.units.push(e)}),e&&a&&(u(a,n),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var i=t.length;if(i>0){if(e.pts>=t[i-1].pts)t.push(e);else for(var n=i-1;n>=0;n--)if(e.pts<t[n].pts){t.splice(n,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var i=this._avcTrack.samples;t=i[i.length-1]}if(t){var n=t.units;e=n[n.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e=0,i=t.byteLength,n=void 0,r=void 0,s=this._avcTrack,a=s.naluState||0,o=a,l=[],c=void 0,u=-1,h=void 0;for(-1===a&&(u=0,h=31&t[0],a=0,e=1);e<i;)if(n=t[e++],a)if(1!==a)if(n)if(1===n){if(u>=0)c={data:t.subarray(u,e-a-1),type:h},l.push(c);else{var d=this._getLastNalUnit();if(d&&(o&&e<=4-o&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-o)),(r=e-a-1)>0)){var f=new Uint8Array(d.data.byteLength+r);f.set(d.data,0),f.set(t.subarray(0,r),d.data.byteLength),d.data=f}}e<i?(u=e,h=31&t[e],a=0):a=-1}else a=0;else a=3;else a=n?0:2;else a=n?0:1;if(u>=0&&a>=0&&(c={data:t.subarray(u,i),type:h,state:a},l.push(c)),0===l.length){var p=this._getLastNalUnit();if(p){var g=new Uint8Array(p.data.byteLength+t.byteLength);g.set(p.data,0),g.set(t,p.data.byteLength),p.data=g}}return s.naluState=a,l},t.prototype.discardEPB=function(t){for(var e,i=t.byteLength,n=[],r=1,s=void 0;r<i-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;e=i-n.length,s=new Uint8Array(e);var a=0;for(r=0;r<e;a++,r++)a===n[0]&&(a++,n.shift()),s[r]=t[a];return s},t.prototype._parseAACPES=function(t){var e,i,s=this._audioTrack,o=t.data,l=t.pts,c=this.aacOverFlow,h=this.aacLastPTS,g=void 0,m=void 0,v=void 0;if(c){var y=new Uint8Array(c.byteLength+o.byteLength);y.set(c,0),y.set(o,c.byteLength),o=y}for(m=0,i=o.length;m<i-1&&!u(o,m);m++);if(m){var b=void 0,_=void 0;if(m<i-1?(b="AAC PES did not start with ADTS header,offset:"+m,_=!1):(b="no ADTS header found in AAC PES",_=!0),a.b.warn("parsing error:"+b),this.observer.trigger(n.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:_,reason:b}),_)return}if(d(s,this.observer,o,m,this.audioCodec),g=0,e=f(s.samplerate),c&&h){var T=h+e;Math.abs(T-l)>1&&(a.b.log("AAC: align PTS for overlapping frames by "+Math.round((T-l)/90)),l=T)}for(;m<i;)if(u(o,m)&&m+5<i){var w=p(s,o,m,l,g);if(!w)break;m+=w.length,v=w.sample.pts,g++}else m++;c=m<i?o.subarray(m,i):null,this.aacOverFlow=c,this.aacLastPTS=v},t.prototype._parseMPEGPES=function(t){for(var e=t.data,i=e.length,n=0,r=0,s=t.pts;r<i;)if(b.isHeader(e,r)){var a=b.appendFrame(this._audioTrack,e,r,s,n);if(!a)break;r+=a.length,n++}else r++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),S=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=n,this.remuxer=i}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e=void 0,i=void 0,n=g.a.getID3Data(t,0);if(n&&void 0!==g.a.getTimeStamp(n))for(e=n.length,i=Math.min(t.length-1,e+100);e<i;e++)if(b.probe(t,e))return a.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,n){for(var r=g.a.getID3Data(t,0),s=g.a.getTimeStamp(r),a=s?90*s:9e4*e,o=r.length,l=t.length,c=0,u=0,h=this._audioTrack,d=[{pts:a,dts:a,data:r}];o<l;)if(b.isHeader(t,o)){var f=b.appendFrame(h,t,o,a,c);if(!f)break;o+=f.length,u=f.sample.pts,c++}else g.a.isHeader(t,o)?(r=g.a.getID3Data(t,o),d.push({pts:u,dts:u,data:r}),o+=r.length):o++;this.remuxer.remux(h,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},e,i,n)},t.prototype.destroy=function(){},t}(),x=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),A=Math.pow(2,32)-1,k=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.init=function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e=void 0;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=s,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,l,a,o),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e=Array.prototype.slice.call(arguments,1),i=8,n=e.length,r=n,s=void 0;n--;)i+=e[n].byteLength;for((s=new Uint8Array(i))[0]=i>>24&255,s[1]=i>>16&255,s[2]=i>>8&255,s[3]=255&i,s.set(t,4),n=0,i=8;n<r;n++)s.set(e[n],i),i+=e[n].byteLength;return s},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,i){i*=e;var n=Math.floor(i/(A+1)),r=Math.floor(i%(A+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,i,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,i))},t.moov=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trak(e[i]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))},t.mvex=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trex(e[i]);return t.box.apply(null,[t.types.mvex].concat(n))},t.mvhd=function(e,i){i*=e;var n=Math.floor(i/(A+1)),r=Math.floor(i%(A+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,s)},t.sdtp=function(e){var i=e.samples||[],n=new Uint8Array(4+i.length),r=void 0,s=void 0;for(s=0;s<i.length;s++)r=i[s].flags,n[s+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t.box(t.types.sdtp,n)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var i=[],n=[],r=void 0,s=void 0,a=void 0;for(r=0;r<e.sps.length;r++)a=(s=e.sps[r]).byteLength,i.push(a>>>8&255),i.push(255&a),i=i.concat(Array.prototype.slice.call(s));for(r=0;r<e.pps.length;r++)a=(s=e.pps[r]).byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(s));var o=t.box(t.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(n))),l=e.width,c=e.height,u=e.pixelRatio[0],h=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,h>>24,h>>16&255,h>>8&255,255&h])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var i=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var i=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var i=e.id,n=e.duration*e.timescale,r=e.width,s=e.height,a=Math.floor(n/(A+1)),o=Math.floor(n%(A+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,s>>8&255,255&s,0,0]))},t.traf=function(e,i){var n=t.sdtp(e),r=e.id,s=Math.floor(i/(A+1)),a=Math.floor(i%(A+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,a>>24,a>>16&255,a>>8&255,255&a])),t.trun(e,n.length+16+20+8+16+8+8),n)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var i=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,i){var n=e.samples||[],r=n.length,s=12+16*r,a=new Uint8Array(s),o=void 0,l=void 0,c=void 0,u=void 0,h=void 0,d=void 0;for(i+=8+s,a.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),o=0;o<r;o++)c=(l=n[o]).duration,u=l.size,h=l.flags,d=l.cts,a.set([c>>>24&255,c>>>16&255,c>>>8&255,255&c,u>>>24&255,u>>>16&255,u>>>8&255,255&u,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.paddingValue<<1|h.isNonSync,61440&h.degradPrio,15&h.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*o);return t.box(t.types.trun,a)},t.initSegment=function(e){t.types||t.init();var i=t.moov(e),n=void 0;return(n=new Uint8Array(t.FTYP.byteLength+i.byteLength)).set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}(),C=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.config=i,this.typeSupported=n;var s=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&s&&!s.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,i,r,s,o,l){if(this.ISGenerated||this.generateIS(t,e,s),this.ISGenerated){var c=t.samples.length,u=e.samples.length,h=s,d=s;if(c&&u){var f=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;h+=Math.max(0,f),d+=Math.max(0,-f)}if(c){t.timescale||(a.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,s));var p=this.remuxAudio(t,h,o,l);if(u){var g=void 0;p&&(g=p.endPTS-p.startPTS),e.timescale||(a.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,s)),this.remuxVideo(e,d,o,g,l)}}else if(u){var m=this.remuxVideo(e,d,o,0,l);m&&t.codec&&this.remuxEmptyAudio(t,h,o,m)}}i.samples.length&&this.remuxID3(i,s),r.samples.length&&this.remuxText(r,s),this.observer.trigger(n.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,i){var s=this.observer,o=t.samples,l=e.samples,c=this.typeSupported,u="audio/mp4",h={},d={tracks:h},f=void 0===this._initPTS,p=void 0,g=void 0;if(f&&(p=g=1/0),t.config&&o.length&&(t.timescale=t.samplerate,a.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(c.mpeg?(u="audio/mpeg",t.codec=""):c.mp3&&(t.codec="mp3")),h.audio={container:u,codec:t.codec,initSegment:!t.isAAC&&c.mpeg?new Uint8Array:k.initSegment([t]),metadata:{channelCount:t.channelCount}},f&&(p=g=o[0].pts-t.inputTimeScale*i)),e.sps&&e.pps&&l.length){var m=e.inputTimeScale;e.timescale=m,h.video={container:"video/mp4",codec:e.codec,initSegment:k.initSegment([e]),metadata:{width:e.width,height:e.height}},f&&(p=Math.min(p,l[0].pts-m*i),g=Math.min(g,l[0].dts-m*i),this.observer.trigger(n.a.INIT_PTS_FOUND,{initPTS:p}))}Object.keys(h).length?(s.trigger(n.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,f&&(this._initPTS=p,this._initDTS=g)):s.trigger(n.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,i,s,o){var l,c,u,h=8,d=t.timescale,f=void 0,p=void 0,g=void 0,m=void 0,v=t.samples,y=[],b=v.length,_=this._PTSNormalize,T=this._initDTS,w=this.nextAvcDts,E=this.isSafari;if(0!==b){E&&(i|=v.length&&w&&(o&&Math.abs(e-w/d)<.1||Math.abs(v[0].pts-w-T)<d/5)),i||(w=e*d),v.forEach(function(t){t.pts=_(t.pts-T,w),t.dts=_(t.dts-T,w)}),v.sort(function(t,e){var i=t.dts-e.dts,n=t.pts-e.pts;return i||n||t.id-e.id});var S=v.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(S<0){a.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(S/90)+" ms to overcome this issue");for(var x=0;x<v.length;x++)v[x].dts+=S}var A=v[0];m=Math.max(A.dts,0),g=Math.max(A.pts,0);var C=Math.round((m-w)/90);i&&C&&(C>1?a.b.log("AVC:"+C+" ms hole between fragments detected,filling it"):C<-1&&a.b.log("AVC:"+-C+" ms overlapping between fragments detected"),m=w,v[0].dts=m,g=Math.max(g-C,w),v[0].pts=g,a.b.log("Video/PTS/DTS adjusted: "+Math.round(g/90)+"/"+Math.round(m/90)+",delta:"+C+" ms")),A=v[v.length-1],u=Math.max(A.dts,0),c=Math.max(A.pts,0,u),E&&(f=Math.round((u-m)/(v.length-1)));for(var R=0,P=0,L=0;L<b;L++){for(var D=v[L],O=D.units,I=O.length,M=0,N=0;N<I;N++)M+=O[N].data.length;P+=M,R+=I,D.length=M,D.dts=E?m+L*f:Math.max(D.dts,m),D.pts=Math.max(D.pts,D.dts)}var F=P+4*R+8;try{p=new Uint8Array(F)}catch(t){return void this.observer.trigger(n.a.ERROR,{type:r.b.MUX_ERROR,details:r.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating video mdat "+F})}var B=new DataView(p.buffer);B.setUint32(0,F),p.set(k.types.mdat,4);for(var U=0;U<b;U++){for(var H=v[U],j=H.units,z=0,G=void 0,q=0,W=j.length;q<W;q++){var Y=j[q],X=Y.data,V=Y.data.byteLength;B.setUint32(h,V),h+=4,p.set(X,h),h+=V,z+=4+V}if(E)G=Math.max(0,f*Math.round((H.pts-H.dts)/f));else{if(U<b-1)f=v[U+1].dts-H.dts;else{var K=this.config,$=H.dts-v[U>0?U-1:U].dts;if(K.stretchShortVideoTrack){var Q=K.maxBufferHole,Z=Math.floor(Q*d),J=(s?g+s*d:this.nextAudioPts)-H.pts;J>Z?((f=J-$)<0&&(f=$),a.b.log("It is approximately "+J/90+" ms to the next segment; using duration "+f/90+" ms for the last video frame.")):f=$}else f=$}G=Math.round(H.pts-H.dts)}y.push({size:z,duration:f,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:H.key?2:1,isNonSync:H.key?0:1}})}this.nextAvcDts=u+f;var tt=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var et=y[0].flags;et.dependsOn=2,et.isNonSync=0}t.samples=y,l=k.moof(t.sequenceNumber++,m,t),t.samples=[];var it={data1:l,data2:p,startPTS:g/d,endPTS:(c+f)/d,startDTS:m/d,endDTS:this.nextAvcDts/d,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:tt};return this.observer.trigger(n.a.FRAG_PARSING_DATA,it),it}},t.prototype.remuxAudio=function(t,e,i,s){var o=t.inputTimeScale,l=t.timescale,c=o/l,u=(t.isAAC?1024:1152)*c,h=this._PTSNormalize,d=this._initDTS,f=!t.isAAC&&this.typeSupported.mpeg,p=void 0,g=void 0,m=void 0,v=void 0,y=void 0,b=void 0,_=void 0,T=t.samples,w=[],E=this.nextAudioPts;if(i|=T.length&&E&&(s&&Math.abs(e-E/o)<.1||Math.abs(T[0].pts-E-d)<20*u),T.forEach(function(t){t.pts=t.dts=h(t.pts-d,e*o)}),0!==(T=T.filter(function(t){return t.pts>=0})).length){if(i||(E=s?e*o:T[0].pts),t.isAAC)for(var S=this.config.maxAudioFramesDrift,A=0,C=E;A<T.length;){var R,P=T[A];R=P.pts-C;var L=Math.abs(1e3*R/o);if(R<=-S*u)a.b.warn("Dropping 1 audio frame @ "+(C/o).toFixed(3)+"s due to "+Math.round(L)+" ms overlap."),T.splice(A,1),t.len-=P.unit.length;else if(R>=S*u&&L<1e4&&C){var D=Math.round(R/u);a.b.warn("Injecting "+D+" audio frame @ "+(C/o).toFixed(3)+"s due to "+Math.round(1e3*R/o)+" ms gap.");for(var O=0;O<D;O++){var I=Math.max(C,0);(m=x.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(a.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),m=P.unit.subarray()),T.splice(A,0,{unit:m,pts:I,dts:I}),t.len+=m.length,C+=u,A++}P.pts=P.dts=C,C+=u,A++}else Math.abs(R),P.pts=P.dts=C,C+=u,A++}for(var M=0,N=T.length;M<N;M++){var F=T[M],B=F.unit,U=F.pts;if(void 0!==_)g.duration=Math.round((U-_)/c);else{var H=Math.round(1e3*(U-E)/o),j=0;if(i&&t.isAAC&&H){if(H>0&&H<1e4)j=Math.round((U-E)/u),a.b.log(H+" ms hole between AAC samples detected,filling it"),j>0&&((m=x.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(m=B.subarray()),t.len+=j*m.length);else if(H<-12){a.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(E/o).toFixed(3)+"s/"+(U/o).toFixed(3)+"s/"+-H+"ms"),t.len-=B.byteLength;continue}U=E}if(b=U,!(t.len>0))return;var z=f?t.len:t.len+8;p=f?0:8;try{v=new Uint8Array(z)}catch(t){return void this.observer.trigger(n.a.ERROR,{type:r.b.MUX_ERROR,details:r.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:z,reason:"fail allocating audio mdat "+z})}f||(new DataView(v.buffer).setUint32(0,z),v.set(k.types.mdat,4));for(var G=0;G<j;G++)(m=x.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(a.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),m=B.subarray()),v.set(m,p),p+=m.byteLength,g={size:m.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(g)}v.set(B,p);var q=B.byteLength;p+=q,g={size:q,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(g),_=U}var W=0,Y=w.length;if(Y>=2&&(W=w[Y-2].duration,g.duration=W),Y){this.nextAudioPts=E=_+c*W,t.len=0,t.samples=w,y=f?new Uint8Array:k.moof(t.sequenceNumber++,b/c,t),t.samples=[];var X=b/o,V=E/o,K={data1:y,data2:v,startPTS:X,endPTS:V,startDTS:X,endDTS:V,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.observer.trigger(n.a.FRAG_PARSING_DATA,K),K}return null}},t.prototype.remuxEmptyAudio=function(t,e,i,n){var r=t.inputTimeScale,s=r/(t.samplerate?t.samplerate:r),o=this.nextAudioPts,l=(void 0!==o?o:n.startDTS*r)+this._initDTS,c=n.endDTS*r+this._initDTS,u=1024*s,h=Math.ceil((c-l)/u),d=x.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(a.b.warn("remux empty Audio"),d){for(var f=[],p=0;p<h;p++){var g=l+p*u;f.push({unit:d,pts:g,dts:g}),t.len+=d.length}t.samples=f,this.remuxAudio(t,e,i)}else a.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t,e){var i=t.samples.length,r=void 0,s=t.inputTimeScale,a=this._initPTS,o=this._initDTS;if(i){for(var l=0;l<i;l++)(r=t.samples[l]).pts=(r.pts-a)/s,r.dts=(r.dts-o)/s;this.observer.trigger(n.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var i=t.samples.length,r=void 0,s=t.inputTimeScale,a=this._initPTS;if(i){for(var o=0;o<i;o++)(r=t.samples[o]).pts=(r.pts-a)/s;this.observer.trigger(n.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var i;if(void 0===e)return t;for(i=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=i;return t},t}(),R=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,i,r,s,a,o,l){var c=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),c.trigger(n.a.FRAG_PARSING_DATA,{data1:l,startPTS:s,startDTS:s,type:u,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),c.trigger(n.a.FRAG_PARSED)},t}(),P=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observer=e,this.typeSupported=i,this.config=n,this.vendor=r}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,i,r,a,o,l,c,u,h,d,f){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var p=this.decrypter;null==p&&(p=this.decrypter=new s.a(this.observer,this.config));var g=this,m=void 0;try{m=performance.now()}catch(t){m=Date.now()}p.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var s=void 0;try{s=performance.now()}catch(t){s=Date.now()}g.observer.trigger(n.a.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:s}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),r,a,o,l,c,u,h,d,f)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),r,a,o,l,c,u,h,d,f)},t.prototype.pushDecrypted=function(t,e,i,s,a,o,l,c,u,h,d,f){var p=this.demuxer;if(!p||(l||c)&&!this.probe(t)){for(var g=this.observer,y=this.typeSupported,b=this.config,_=[{demux:E,remux:C},{demux:v.a,remux:R},{demux:m,remux:C},{demux:S,remux:C}],T=0,w=_.length;T<w;T++){var x=_[T],A=x.demux.probe;if(A(t)){var k=this.remuxer=new x.remux(g,b,y,this.vendor);p=new x.demux(g,k,b,y),this.probe=A;break}}if(!p)return void g.trigger(n.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=p}var P=this.remuxer;(l||c)&&(p.resetInitSegment(i,s,a,h),P.resetInitSegment()),l&&(p.resetTimeStamp(f),P.resetTimeStamp(f)),"function"==typeof p.setDecryptData&&p.setDecryptData(e),p.append(t,o,u,d)},t}();e.a=P},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};i.d(n,"newCue",function(){return Ot});var r=i(3),s=i.n(r),a=i(2),o=i(1),l=i(0),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=new Set(["hlsEventGeneric","hlsHandlerDestroying","hlsHandlerDestroyed"]),h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.prototype.onHandlerDestroying=function(){},t.prototype.onHandlerDestroyed=function(){},t.prototype.isEventHandler=function(){return"object"===c(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if(u.has(t))throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var i="on"+t.replace("hls","");if("function"!=typeof this[i])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,e)}).call(this,t,e).call()}catch(e){l.b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(o.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}(),d=i(7),f=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return f(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=s.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}(),g=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),m=function(){function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return t.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},t.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var i=t;return t&&t.method&&t.uri&&!t.iv&&((i=new p).method=t.method,i.baseuri=t.baseuri,i.reluri=t.reluri,i.iv=this.createInitializationVector(e)),i},g(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=s.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var i=this.lastByteRangeEndOffset;t[0]=i||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}],[{key:"ElementaryStreamTypes",get:function(){return{AUDIO:"audio",VIDEO:"video"}}}]),t}(),v=/^(\d+)x(\d+)$/,y=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,b=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(i)&&(this[i]=e[i])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var i=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)i[n]=parseInt(e.slice(2*n,2*n+2),16);return i}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=v.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e=void 0,i={};for(y.lastIndex=0;null!==(e=y.exec(t));){var n=e[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),i[e[1]]=n}return i},t}(),_={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function T(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var w=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,E=/#EXT-X-MEDIA:(.*)/g,S=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),x=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,A=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.findGroup=function(t,e){if(!t)return null;for(var i=null,n=0;n<t.length;n++){var r=t[n];r.id===e&&(i=r)}return i},t.convertAVC1ToAVCOTI=function(t){var e=void 0,i=t.split(".");return i.length>2?(e=i.shift()+".",e+=parseInt(i.shift()).toString(16),e+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return s.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,i){var n=[],r=void 0;function s(t,e){["video","audio"].forEach(function(i){var n=t.filter(function(t){return function(t,e){var i=_[e];return!!i&&!0===i[t.slice(0,4)]}(t,i)});if(n.length){var r=n.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[i+"Codec"]=r.length>0?r[0]:n[0],t=t.filter(function(t){return-1===n.indexOf(t)})}}),e.unknownCodecs=t}for(w.lastIndex=0;null!=(r=w.exec(e));){var a={},o=a.attrs=new b(r[1]);a.url=t.resolve(r[2],i);var l=o.decimalResolution("RESOLUTION");l&&(a.width=l.width,a.height=l.height),a.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),a.name=o.NAME,s([].concat((o.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=t.convertAVC1ToAVCOTI(a.videoCodec)),n.push(a)}return n},t.parseMasterPlaylistMedia=function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=void 0,a=[],o=0;for(E.lastIndex=0;null!==(s=E.exec(e));){var l={},c=new b(s[1]);if(c.TYPE===n){if(l.groupId=c["GROUP-ID"],l.name=c.NAME,l.type=n,l.default="YES"===c.DEFAULT,l.autoselect="YES"===c.AUTOSELECT,l.forced="YES"===c.FORCED,c.URI&&(l.url=t.resolve(c.URI,i)),l.lang=c.LANGUAGE,l.name||(l.name=l.lang),r.length){var u=t.findGroup(r,l.groupId);l.audioCodec=u?u.codec:r[0].codec}l.id=o++,a.push(l)}}return a},t.parseLevelPlaylist=function(t,e,i,n){var r=0,s=0,a={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},o=new p,c=0,u=null,h=new m,d=void 0,f=void 0;for(S.lastIndex=0;null!==(d=S.exec(t));){var g=d[1];if(g){h.duration=parseFloat(g);var v=(" "+d[2]).slice(1);h.title=v||null,h.tagList.push(v?["INF",g,v]:["INF",g])}else if(d[3]){if(!isNaN(h.duration)){var y=r++;h.type=n,h.start=s,h.levelkey=o,h.sn=y,h.level=i,h.cc=c,h.baseurl=e,h.relurl=(" "+d[3]).slice(1),a.programDateTime&&(u?h.rawProgramDateTime?h.pdt=Date.parse(h.rawProgramDateTime):h.pdt=u.pdt+1e3*u.duration:h.pdt=Date.parse(a.programDateTime),h.endPdt=h.pdt+1e3*h.duration),a.fragments.push(h),u=h,s+=h.duration,h=new m}}else if(d[4]){if(h.rawByteRange=(" "+d[4]).slice(1),u){var _=u.byteRangeEndOffset;_&&(h.lastByteRangeEndOffset=_)}}else if(d[5])h.rawProgramDateTime=(" "+d[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),void 0===a.programDateTime&&(a.programDateTime=new Date(new Date(Date.parse(d[5]))-1e3*s));else{for(d=d[0].match(x),f=1;f<d.length&&void 0===d[f];f++);var T=(" "+d[f+1]).slice(1),w=(" "+d[f+2]).slice(1);switch(d[f]){case"#":h.tagList.push(w?[T,w]:[T]);break;case"PLAYLIST-TYPE":a.type=T.toUpperCase();break;case"MEDIA-SEQUENCE":r=a.startSN=parseInt(T);break;case"TARGETDURATION":a.targetduration=parseFloat(T);break;case"VERSION":a.version=parseInt(T);break;case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"DIS":c++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(T);break;case"KEY":var E=new b(T),A=E.enumeratedString("METHOD"),k=E.URI,C=E.hexadecimalInteger("IV");A&&(o=new p,k&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(A)>=0&&(o.method=A,o.baseuri=e,o.reluri=k,o.key=null,o.iv=C));break;case"START":var R=new b(T).decimalFloatingPoint("TIME-OFFSET");isNaN(R)||(a.startTimeOffset=R);break;case"MAP":var P=new b(T);h.relurl=P.URI,h.rawByteRange=P.BYTERANGE,h.baseurl=e,h.level=i,h.type=n,h.sn="initSegment",a.initSegment=h,h=new m;break;default:l.b.warn("line parsed but not handled: "+d)}}}return(h=u)&&!h.relurl&&(a.fragments.pop(),s-=h.duration),a.totalduration=s,a.averagetargetduration=s/a.fragments.length,a.endSN=r-1,a.startCC=a.fragments[0]?a.fragments[0].cc:0,a.endCC=c,!a.initSegment&&a.fragments.length&&a.fragments.every(function(t){return t.relurl.endsWith(".mp4")})&&(l.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(h=new m).relurl=a.fragments[0].relurl,h.baseurl=e,h.level=i,h.type=n,h.sn="initSegment",a.initSegment=h,a.needSidxRanges=!0),a},t}(),k=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),C={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},R={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},P=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MANIFEST_LOADING,o.a.LEVEL_LOADING,o.a.AUDIO_TRACK_LOADING,o.a.SUBTITLE_TRACK_LOADING));return n.loaders={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.canHaveQualityLevels=function(t){return t!==C.AUDIO_TRACK&&t!==C.SUBTITLE_TRACK},e.mapContextToLevelType=function(t){switch(t.type){case C.AUDIO_TRACK:return R.AUDIO;case C.SUBTITLE_TRACK:return R.SUBTITLE;default:return R.MAIN}},e.getResponseUrl=function(t,e){var i=t.url;return void 0!==i&&0!==i.indexOf("data:")||(i=e.url),i},e.prototype.createInternalLoader=function(t){var e=this.hls.config,i=e.pLoader,n=e.loader,r=new(i||n)(e);return t.loader=r,this.loaders[t.type]=r,r},e.prototype.getInternalLoader=function(t){return this.loaders[t.type]},e.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:C.MANIFEST})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:C.LEVEL,level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:C.AUDIO_TRACK,id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:C.SUBTITLE_TRACK,id:t.id})},e.prototype.load=function(t,e){var i=this.hls.config,n=this.getInternalLoader(e);if(n){var r=n.context;if(r&&r.url===t)return l.b.trace("playlist request ongoing"),!1;l.b.warn("aborting previous loader for type: "+e.type),n.abort()}var s,a,o=void 0,c=void 0,u=void 0,h=void 0;switch(e.type){case C.MANIFEST:o=i.manifestLoadingMaxRetry,c=i.manifestLoadingTimeOut,u=i.manifestLoadingRetryDelay,h=i.manifestLoadingMaxRetryTimeout;break;case C.LEVEL:o=0,c=i.levelLoadingTimeOut;break;default:o=i.levelLoadingMaxRetry,c=i.levelLoadingTimeOut,u=i.levelLoadingRetryDelay,h=i.levelLoadingMaxRetryTimeout,l.b.log("Playlist loader for "+e.type+" "+(e.level||e.id))}return n=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"",s={timeout:c,maxRetry:o,retryDelay:u,maxRetryDelay:h},a={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(e,s,a),!0},e.prototype.loadsuccess=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(i.isSidxRequest)return this._handleSidxRequest(t,i),void this._handlePlaylistLoaded(t,e,i,n);this.resetInternalLoader(i.type);var r=t.data;e.tload=performance.now(),0===r.indexOf("#EXTM3U")?r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,i,n):this._handleMasterPlaylist(t,e,i,n):this._handleManifestParsingError(t,i,"no EXTM3U delimiter",n)},e.prototype.loaderror=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(e,i)},e.prototype.loadtimeout=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(e,i,!0)},e.prototype._handleMasterPlaylist=function(t,i,n,r){var s=this.hls,a=t.data,c=e.getResponseUrl(t,n),u=A.parseMasterPlaylist(a,c);if(u.length){var h=u.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),d=A.parseMasterPlaylistMedia(a,c,"AUDIO",h),f=A.parseMasterPlaylistMedia(a,c,"SUBTITLES");if(d.length){var p=!1;d.forEach(function(t){t.url||(p=!0)}),!1===p&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(l.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),d.unshift({type:"main",name:"main"}))}s.trigger(o.a.MANIFEST_LOADED,{levels:u,audioTracks:d,subtitles:f,url:c,stats:i,networkDetails:r})}else this._handleManifestParsingError(t,n,"no level found in manifest",r)},e.prototype._handleTrackOrLevelPlaylist=function(t,i,n,r){var s=this.hls,a=n.id,l=n.level,c=n.type,u=e.getResponseUrl(t,n),h=isNaN(l)?isNaN(a)?0:a:l,d=e.mapContextToLevelType(n),f=A.parseLevelPlaylist(t.data,u,h,d);if(f.tload=i.tload,c===C.MANIFEST){var p={url:u,details:f};s.trigger(o.a.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:u,stats:i,networkDetails:r})}if(i.tparsed=performance.now(),f.needSidxRanges){var g=f.initSegment.url;this.load(g,{isSidxRequest:!0,type:c,level:l,levelDetails:f,id:a,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=f,this._handlePlaylistLoaded(t,i,n,r)},e.prototype._handleSidxRequest=function(t,e){var i=d.a.parseSegmentIndex(new Uint8Array(t.data));i.references.forEach(function(t,i){var n=t.info,r=e.levelDetails.fragments[i];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))}),e.levelDetails.initSegment.rawByteRange=String(i.moovEndOffset)+"@0"},e.prototype._handleManifestParsingError=function(t,e,i,n){this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:i,networkDetails:n})},e.prototype._handleNetworkError=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=void 0,r=void 0,s=this.getInternalLoader(t);switch(t.type){case C.MANIFEST:n=i?a.a.MANIFEST_LOAD_TIMEOUT:a.a.MANIFEST_LOAD_ERROR,r=!0;break;case C.LEVEL:n=i?a.a.LEVEL_LOAD_TIMEOUT:a.a.LEVEL_LOAD_ERROR,r=!1;break;case C.AUDIO_TRACK:n=i?a.a.AUDIO_TRACK_LOAD_TIMEOUT:a.a.AUDIO_TRACK_LOAD_ERROR,r=!1;break;default:r=!1}s&&(s.abort(),this.resetInternalLoader(t.type)),this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:n,fatal:r,url:s.url,loader:s,context:t,networkDetails:e})},e.prototype._handlePlaylistLoaded=function(t,i,n,r){var s=n.type,a=n.level,l=n.id,c=n.levelDetails;if(c.targetduration)if(e.canHaveQualityLevels(n.type))this.hls.trigger(o.a.LEVEL_LOADED,{details:c,level:a||0,id:l||0,stats:i,networkDetails:r});else switch(s){case C.AUDIO_TRACK:this.hls.trigger(o.a.AUDIO_TRACK_LOADED,{details:c,id:l,stats:i,networkDetails:r});break;case C.SUBTITLE_TRACK:this.hls.trigger(o.a.SUBTITLE_TRACK_LOADED,{details:c,id:l,stats:i,networkDetails:r})}else this._handleManifestParsingError(t,n,"invalid target duration",r)},k(e,null,[{key:"ContextType",get:function(){return C}},{key:"LevelType",get:function(){return R}}]),e}(h),L=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.FRAG_LOADING));return n.loaders={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){var e=this.loaders;for(var i in e){var n=e[i];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,i=e.type,n=this.loaders,r=this.hls.config,s=r.fLoader,a=r.loader;e.loaded=0;var o=n[i];o&&(l.b.warn("abort previous fragment loader for type: "+i),o.abort()),o=n[i]=e.loader=r.fLoader?new s(r):new a(r);var c,u,h=void 0;h={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var d=e.byteRangeStartOffset,f=e.byteRangeEndOffset;isNaN(d)||isNaN(f)||(h.rangeStart=d,h.rangeEnd=f),c={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},o.load(h,c,u)},e.prototype.loadsuccess=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.data,s=i.frag;s.loader=void 0,this.loaders[s.type]=void 0,this.hls.trigger(o.a.FRAG_LOADED,{payload:r,frag:s,stats:e,networkDetails:n})},e.prototype.loaderror=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:i})},e.prototype.loadtimeout=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:i})},e.prototype.loadprogress=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.frag;r.loaded=t.loaded,this.hls.trigger(o.a.FRAG_LOAD_PROGRESS,{frag:r,stats:t,networkDetails:n})},e}(h),D=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},h.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,i=e.type,n=this.loaders[i],r=e.decryptdata,s=r.uri;if(s!==this.decrypturl||null===this.decryptkey){var a,c,u,h=this.hls.config;n&&(l.b.warn("abort previous key loader for type:"+i),n.abort()),e.loader=this.loaders[i]=new h.loader(h),this.decrypturl=s,this.decryptkey=null,a={url:s,frag:e,responseType:"arraybuffer"},c={timeout:h.fragLoadingTimeOut,maxRetry:h.fragLoadingMaxRetry,retryDelay:h.fragLoadingRetryDelay,maxRetryDelay:h.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(a,c,u)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(o.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,i){var n=i.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(t.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(o.a.KEY_LOADED,{frag:n})},e.prototype.loaderror=function(t,e){var i=e.frag,n=i.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.KEY_LOAD_ERROR,fatal:!1,frag:i,response:t})},e.prototype.loadtimeout=function(t,e){var i=e.frag,n=i.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},e}(h),O=function(t,e){for(var i=0,n=t.length-1,r=null,s=null;i<=n;){var a=e(s=t[r=(i+n)/2|0]);if(a>0)i=r+1;else{if(!(a<0))return s;n=r-1}}return null},I={isBuffered:function(t,e){try{if(t)for(var i=t.buffered,n=0;n<i.length;n++)if(e>=i.start(n)&&e<=i.end(n))return!0}catch(t){}return!1},bufferInfo:function(t,e,i){try{if(t){var n=t.buffered,r=[],s=void 0;for(s=0;s<n.length;s++)r.push({start:n.start(s),end:n.end(s)});return this.bufferedInfo(r,e,i)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,i){var n=[],r=void 0,s=void 0,a=void 0,o=void 0,l=void 0;for(t.sort(function(t,e){return t.start-e.start||e.end-t.end}),l=0;l<t.length;l++){var c=n.length;if(c){var u=n[c-1].end;t[l].start-u<i?t[l].end>u&&(n[c-1].end=t[l].end):n.push(t[l])}else n.push(t[l])}for(l=0,r=0,s=a=e;l<n.length;l++){var h=n[l].start,d=n[l].end;if(e+i>=h&&e<d)s=h,r=(a=d)-e;else if(e+i<h){o=h;break}}return{len:r,start:s,end:a,nextStart:o}}},M=i(8),N=i(6),F=i.n(N),B=i(10),U=i.n(B);function H(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}var j=H(),z=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.id=i;var n=this.observer=new F.a,r=e.config;n.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.emit.apply(n,[t,t].concat(i))},n.off=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.removeListener.apply(n,[t].concat(i))};var s=function(t,i){(i=i||{}).frag=this.frag,i.id=this.id,e.trigger(t,i)}.bind(this);n.on(o.a.FRAG_DECRYPTED,s),n.on(o.a.FRAG_PARSING_INIT_SEGMENT,s),n.on(o.a.FRAG_PARSING_DATA,s),n.on(o.a.FRAG_PARSED,s),n.on(o.a.ERROR,s),n.on(o.a.FRAG_PARSING_METADATA,s),n.on(o.a.FRAG_PARSING_USERDATA,s),n.on(o.a.INIT_PTS_FOUND,s);var c={mp4:j.isTypeSupported("video/mp4"),mpeg:j.isTypeSupported("audio/mpeg"),mp3:j.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(r.enableWorker&&"undefined"!=typeof Worker){l.b.log("demuxing in webworker");var h=void 0;try{h=this.w=U()(11),this.onwmsg=this.onWorkerMessage.bind(this),h.addEventListener("message",this.onwmsg),h.onerror=function(t){e.trigger(o.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},h.postMessage({cmd:"init",typeSupported:c,vendor:u,id:i,config:JSON.stringify(r)})}catch(t){l.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),h&&URL.revokeObjectURL(h.objectURL),this.demuxer=new M.a(n,c,r,u),this.w=void 0}}else this.demuxer=new M.a(n,c,r,u)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var i=this.observer;i&&(i.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,i,n,r,s,a,o){var c=this.w,u=isNaN(r.startDTS)?r.start:r.startDTS,h=r.decryptdata,d=this.frag,f=!(d&&r.cc===d.cc),p=!(d&&r.level===d.level),g=d&&r.sn===d.sn+1,m=!p&&g;if(f&&l.b.log(this.id+":discontinuity detected"),p&&l.b.log(this.id+":switch detected"),this.frag=r,c)c.postMessage({cmd:"demux",data:t,decryptdata:h,initSegment:e,audioCodec:i,videoCodec:n,timeOffset:u,discontinuity:f,trackSwitch:p,contiguous:m,duration:s,accurateTimeOffset:a,defaultInitPTS:o},t instanceof ArrayBuffer?[t]:[]);else{var v=this.demuxer;v&&v.push(t,h,e,i,n,u,f,p,m,s,a,o)}},t.prototype.onWorkerMessage=function(t){var e=t.data,i=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case o.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}},t}(),G="NOT_LOADED",q="APPENDING",W=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.BUFFER_APPENDED,o.a.FRAG_BUFFERED,o.a.FRAG_LOADED));return n.bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=i.config,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,h.prototype.destroy.call(this),t.prototype.destroy.call(this)},e.prototype.getBufferedFrag=function(t,e){var i=this.fragments,n=Object.keys(i).filter(function(n){var r=i[n];if(r.body.type!==e)return!1;if(!r.buffered)return!1;var s=r.body;return s.startPTS<=t&&t<=s.endPTS});if(0===n.length)return null;var r=n.pop();return i[r].body},e.prototype.detectEvictedFragments=function(t,e){var i=this,n=void 0,r=void 0;Object.keys(this.fragments).forEach(function(s){var a=i.fragments[s];if(!0===a.buffered){var o=a.range[t];if(o){n=o.time;for(var l=0;l<n.length;l++)if(r=n[l],!1===i.isTimeBuffered(r.startPTS,r.endPTS,e)){i.removeFragment(a.body);break}}}})},e.prototype.detectPartialFragments=function(t){var e=this,i=this.getFragmentKey(t),n=this.fragments[i];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach(function(i){if(!0===t.hasElementaryStream(i)){var r=e.timeRanges[i];n.range[i]=e.getBufferedTimes(t.startPTS,t.endPTS,r)}}))},e.prototype.getBufferedTimes=function(t,e,i){for(var n=[],r=void 0,s=void 0,a=!1,o=0;o<i.length;o++){if(r=i.start(o)-this.bufferPadding,s=i.end(o)+this.bufferPadding,t>=r&&e<=s){n.push({startPTS:Math.max(t,i.start(o)),endPTS:Math.min(e,i.end(o))});break}if(t<s&&e>r)n.push({startPTS:Math.max(t,i.start(o)),endPTS:Math.min(e,i.end(o))}),a=!0;else if(e<=r)break}return{time:n,partial:a}},e.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.sn},e.prototype.getPartialFragment=function(t){var e=this,i=void 0,n=void 0,r=void 0,s=null,a=0;return Object.keys(this.fragments).forEach(function(o){var l=e.fragments[o];e.isPartial(l)&&(n=l.body.startPTS-e.bufferPadding,r=l.body.endPTS+e.bufferPadding,t>=n&&t<=r&&(i=Math.min(t-n,r-t),a<=i&&(s=l.body,a=i)))}),s},e.prototype.getState=function(t){var e=this.getFragmentKey(t),i=this.fragments[e],n=G;return void 0!==i&&(n=i.buffered?!0===this.isPartial(i)?"PARTIAL":"OK":q),n},e.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},e.prototype.isTimeBuffered=function(t,e,i){for(var n=void 0,r=void 0,s=0;s<i.length;s++){if(n=i.start(s)-this.bufferPadding,r=i.end(s)+this.bufferPadding,t>=n&&e<=r)return!0;if(e<=n)return!1}return!1},e.prototype.onFragLoaded=function(t){var e=t.frag;if(!isNaN(e.sn)){var i=this.getFragmentKey(e),n={body:e,range:Object.create(null),buffered:!1};this.fragments[i]=n}},e.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach(function(t){var i=e.timeRanges[t];e.detectEvictedFragments(t,i)})},e.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},e.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},e.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},e.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},e}(h);function Y(t,e,i){var n=t[e],r=t[i],s=r.startPTS;isNaN(s)?r.start=i>e?n.start+n.duration:Math.max(n.start-r.duration,0):i>e?(n.duration=s-n.start,n.duration<0&&l.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(r.duration=n.start-s,r.duration<0&&l.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}function X(t,e,i,n,r,s){var a=i;if(!isNaN(e.startPTS)){var o=Math.abs(e.startPTS-i);isNaN(e.deltaPTS)?e.deltaPTS=o:e.deltaPTS=Math.max(o,e.deltaPTS),a=Math.max(i,e.startPTS),i=Math.min(i,e.startPTS),n=Math.max(n,e.endPTS),r=Math.min(r,e.startDTS),s=Math.max(s,e.endDTS)}var l=i-e.start;e.start=e.startPTS=i,e.maxStartPTS=a,e.endPTS=n,e.startDTS=r,e.endDTS=s,e.duration=n-i;var c=e.sn;if(!t||c<t.startSN||c>t.endSN)return 0;var u,h,d=void 0;for(u=c-t.startSN,(h=t.fragments)[u]=e,d=u;d>0;d--)Y(h,d,d-1);for(d=u;d<h.length-1;d++)Y(h,d,d+1);return t.PTSKnown=!0,l}function V(t,e){var i=Math.max(t.startSN,e.startSN)-e.startSN,n=Math.min(t.endSN,e.endSN)-e.startSN,r=e.startSN-t.startSN,s=t.fragments,a=e.fragments,o=0,c=void 0;if(e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment),n<i)e.PTSKnown=!1;else{for(var u=i;u<=n;u++){var h=s[r+u],d=a[u];d&&h&&(o=h.cc-d.cc,isNaN(h.startPTS)||(d.start=d.startPTS=h.startPTS,d.endPTS=h.endPTS,d.duration=h.duration,d.backtracked=h.backtracked,d.dropped=h.dropped,c=d))}if(o)for(l.b.log("discontinuity sliding from playlist, take drift into account"),u=0;u<a.length;u++)a[u].cc+=o;if(c)X(e,c,c.startPTS,c.endPTS,c.startDTS,c.endDTS);else if(r>=0&&r<s.length){var f=s[r].start;for(u=0;u<a.length;u++)a[u].start+=f}e.PTSKnown=t.PTSKnown}}var K=function(t){for(var e="",i=t.length,n=0;n<i;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e};function $(t,e){e.fragments.forEach(function(e){if(e){var i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}}),e.PTSKnown=!0}function Q(t,e,i){if(function(t,e,i){var n=!1;return e&&e.details&&i&&(i.endCC>i.startCC||t&&t.cc<i.startCC)&&(n=!0),n}(t,e,i)){var n=function(t,e){var i=t.fragments,n=e.fragments;if(n.length&&i.length){var r=function(t,e){for(var i=null,n=0;n<t.length;n+=1){var r=t[n];if(r&&r.cc===e){i=r;break}}return i}(i,n[0].cc);if(r&&(!r||r.startPTS))return r;l.b.log("No frag in previous level to align on")}else l.b.log("No fragments to align")}(e.details,i);n&&(l.b.log("Adjusting PTS using last level due to CC increase within current level"),$(n.start,i))}if(!1===i.PTSKnown&&e&&e.details&&e.details.fragments&&e.details.fragments.length){var r=e.details.programDateTime,s=(i.programDateTime-r)/1e3+e.details.fragments[0].start;isNaN(s)||(l.b.log("adjusting PTS using programDateTime delta, sliding:"+s.toFixed(3)),$(s,i))}}var Z=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call.apply(t,[this,i].concat(r)));return a._tickInterval=null,a._tickCallCount=0,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.clearInterval(),t.prototype.destroy.call(this)},e.prototype.hasInterval=function(){return null!==this._tickInterval},e.prototype.setInterval=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this.tick.bind(this,!1),t),!0)}),e.prototype.clearInterval=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)}),e.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&setTimeout(this.tick.bind(this),0),this._tickCallCount=0)},e.prototype.doTick=function(){throw new Error("TaskLoop is abstract and `doLoop` must be implemented")},e}(h),J=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),tt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},et=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHED,o.a.MEDIA_DETACHING,o.a.MANIFEST_LOADING,o.a.MANIFEST_PARSED,o.a.LEVEL_LOADED,o.a.KEY_LOADED,o.a.FRAG_LOADED,o.a.FRAG_LOAD_EMERGENCY_ABORTED,o.a.FRAG_PARSING_INIT_SEGMENT,o.a.FRAG_PARSING_DATA,o.a.FRAG_PARSED,o.a.ERROR,o.a.AUDIO_TRACK_SWITCHING,o.a.AUDIO_TRACK_SWITCHED,o.a.BUFFER_CREATED,o.a.BUFFER_APPENDED,o.a.BUFFER_FLUSHED));return r.fragmentTracker=n,r.config=i.config,r.audioCodecSwap=!1,r._state=tt.STOPPED,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.stopLoad()},e.prototype.onHandlerDestroyed=function(){this.state=tt.STOPPED,this.fragmentTracker=null},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=i.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(l.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=tt.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=tt.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=tt.STOPPED,this.forceStartLoad=!1},e.prototype.doTick=function(){switch(this.state){case tt.BUFFER_FLUSHING:this.fragLoadError=0;break;case tt.IDLE:this._doTickIdle();break;case tt.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=tt.IDLE);break;case tt.FRAG_LOADING_WAITING_RETRY:var e=performance.now(),i=this.retryDate;(!i||e>=i||this.media&&this.media.seeking)&&(l.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=tt.IDLE);break;case tt.ERROR:case tt.STOPPED:case tt.FRAG_LOADING:case tt.PARSING:case tt.PARSED:case tt.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,i=this.media;if(void 0!==this.levelLastLoaded&&(i||!this.startFragRequested&&e.startFragPrefetch)){var n;n=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,s=this.levels[r];if(s){var a=s.bitrate,c=void 0;c=a?Math.max(8*e.maxBufferSize/a,e.maxBufferLength):e.maxBufferLength,c=Math.min(c,e.maxMaxBufferLength);var u=I.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,n,e.maxBufferHole),h=u.len;if(!(h>=c)){l.b.trace("buffer length of "+h.toFixed(3)+" is below max of "+c.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var d=s.details;if(void 0===d||!0===d.live&&this.levelLastLoaded!==r)this.state=tt.WAITING_LEVEL;else{var f=this.fragPrevious;if(!d.live&&f&&!f.backtracked&&f.sn===d.endSN&&!u.nextStart&&Math.min(i.duration,f.start+f.duration)-Math.max(u.end,f.start)<=Math.max(.2,f.duration)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(o.a.BUFFER_EOS,p),void(this.state=tt.ENDED)}this._fetchPayloadOrEos(n,u,d)}}}}},e.prototype._fetchPayloadOrEos=function(t,e,i){var n=this.fragPrevious,r=this.level,s=i.fragments,a=s.length;if(0!==a){var o=s[0].start,c=s[a-1].start+s[a-1].duration,u=e.end,h=void 0;if(i.initSegment&&!i.initSegment.data)h=i.initSegment;else if(i.live){var d=this.config.initialLiveManifestSize;if(a<d)return void l.b.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(h=this._ensureFragmentAtLivePoint(i,u,o,c,n,s,a)))return}else u<o&&(h=s[0]);h||(h=this._findFragment(o,n,a,s,u,c,i)),h&&this._loadFragmentOrKey(h,r,i,t,u)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,i,n,r,s,a){var o=this.hls.config,c=this.media,u=void 0,h=void 0!==o.liveMaxLatencyDuration?o.liveMaxLatencyDuration:o.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(i-o.maxFragLookUpTolerance,n-h)){var d=this.liveSyncPosition=this.computeLivePosition(i,t);l.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),e=d,c&&c.readyState&&c.duration>d&&(c.currentTime=d),this.nextLoadPosition=d}if(t.PTSKnown&&e>n&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(r)if(t.programDateTime)u=this._findFragmentByPDT(s,r.endPdt+1);else{var f=r.sn+1;if(f>=t.startSN&&f<=t.endSN){var p=s[f-t.startSN];r.cc===p.cc&&(u=p,l.b.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=O(s,function(t){return r.cc-t.cc}))&&l.b.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=s[Math.min(a-1,Math.round(a/2))],l.b.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},e.prototype._findFragmentByPDT=function(t,e){if(!t||void 0===e)return null;if(e<t[0].pdt)return null;if(e>=t[t.length-1].endPdt)return null;for(var i=0;i<t.length;++i){var n=t[i];if(e<n.endPdt)return n}return null},e.prototype._findFragmentBySN=function(t,e,i,n){var r=void 0,s=this.hls.config.maxFragLookUpTolerance,a=t?e[t.sn-e[0].sn+1]:void 0,o=function(t){var e=Math.min(s,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=i?1:t.start-e>i&&t.start?-1:0};return i<n&&(i>n-s&&(s=0),r=a&&!o(a)?a:O(e,o)),r},e.prototype._findFragment=function(t,e,i,n,r,s,a){var o,c=this.hls.config,u=void 0;if(o=r<s?a.programDateTime?this._findFragmentByPDT(n,1e3*r+(a.programDateTime?Date.parse(a.programDateTime):0)-1e3*t):this._findFragmentBySN(e,n,r,s):n[i-1]){var h=(u=o).sn-a.startSN,d=e&&u.level===e.level,f=n[h-1],p=n[h+1];if(e&&u.sn===e.sn)if(d&&!u.backtracked)if(u.sn<a.endSN){var g=e.deltaPTS;g&&g>c.maxBufferHole&&e.dropped&&h?(u=f,l.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(u=p,l.b.log("SN just loaded, load next one: "+u.sn))}else u=null;else u.backtracked&&(p&&p.backtracked?(l.b.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+u.sn+". Loading fragment "+p.sn),u=p):(l.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,f?(u=f).backtracked=!0:h&&(u=null)))}return u},e.prototype._loadFragmentOrKey=function(t,e,i,n,r){if(t.decryptdata&&null!=t.decryptdata.uri&&null==t.decryptdata.key)l.b.log("Loading key for "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+e),this.state=tt.KEY_LOADING,this.hls.trigger(o.a.KEY_LOADING,{frag:t});else{l.b.log("Loading "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+e+", currentTime:"+n.toFixed(3)+",bufferEnd:"+r.toFixed(3));var s=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),t.backtracked||s===G?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(o.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new z(this.hls,"main")),this.state=tt.FRAG_LOADING):s===q&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)}},e.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,P.LevelType.MAIN)},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t=void 0,e=void 0,i=this.media;if(i&&i.readyState&&!1===i.seeking&&((e=i.currentTime)>i.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),I.isBuffered(i,e)?t=this.getBufferedFrag(e):I.isBuffered(i,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var n=t;if(n!==this.fragPlaying){this.hls.trigger(o.a.FRAG_CHANGED,{frag:n});var r=n.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(o.a.LEVEL_SWITCHED,{level:r}),this.fragPlaying=n}}},e.prototype.immediateLevelSwitch=function(){if(l.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,I.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,i=void 0,n=void 0;if((e=this.getBufferedFrag(t.currentTime))&&e.startPTS>1&&this.flushMainBuffer(0,e.startPTS-1),t.paused)i=0;else{var r=this.hls.nextLoadLevel,s=this.levels[r],a=this.fragLastKbps;i=a&&this.fragCurrent?this.fragCurrent.duration*s.bitrate/(1e3*a)+1:0}if((n=this.getBufferedFrag(t.currentTime+i))&&(n=this.followingBufferedFrag(n))){var o=this.fragCurrent;o&&o.loader&&o.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=tt.BUFFER_FLUSHING;var i={startOffset:t,endOffset:e};this.altAudio&&(i.type="video"),this.hls.trigger(o.a.BUFFER_FLUSHING,i)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(l.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,i=this.config;isNaN(e)||l.b.log("media seeking to "+e.toFixed(3));var n=this.mediaBuffer?this.mediaBuffer:t,r=I.bufferInfo(n,e,this.config.maxBufferHole);if(this.state===tt.FRAG_LOADING){var s=this.fragCurrent;if(0===r.len&&s){var a=i.maxFragLookUpTolerance,o=s.start-a,c=s.start+s.duration+a;e<o||e>c?(s.loader&&(l.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),s.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=tt.IDLE):l.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===tt.ENDED&&(0===r.len&&(this.fragPrevious=0),this.state=tt.IDLE);t&&(this.lastCurrentTime=e),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||l.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){l.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){l.b.log("trigger BUFFER_RESET"),this.hls.trigger(o.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e=!1,i=!1,n=void 0;t.levels.forEach(function(t){(n=t.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(e=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=e&&i,this.audioCodecSwitch&&l.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,i=t.level,n=this.levels[this.levelLastLoaded],r=this.levels[i],s=e.totalduration,a=0;if(l.b.log("level "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+s),e.live){var c=r.details;c&&e.fragments.length>0?(V(c,e),a=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,c),e.PTSKnown&&!isNaN(a)?l.b.log("live playlist sliding:"+a.toFixed(3)):(l.b.log("live playlist - outdated PTS, unknown sliding"),Q(this.fragPrevious,n,e))):(l.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,Q(this.fragPrevious,n,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=i,this.hls.trigger(o.a.LEVEL_UPDATED,{details:e,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=e.startTimeOffset;isNaN(u)?e.live?(this.startPosition=this.computeLivePosition(a,e),l.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(u<0&&(l.b.log("negative start time offset "+u+", count from end of last fragment"),u=a+s+u),l.b.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===tt.WAITING_LEVEL&&(this.state=tt.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===tt.KEY_LOADING&&(this.state=tt.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===tt.FRAG_LOADING&&e&&"main"===i.type&&i.level===e.level&&i.sn===e.sn){var n=t.stats,r=this.levels[e.level],s=r.details;if(l.b.log("Loaded  "+e.sn+" of ["+s.startSN+" ,"+s.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=n,!0===i.bitrateTest&&this.hls.nextLoadLevel)this.state=tt.IDLE,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(o.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=tt.IDLE,n.tparsed=n.tbuffered=performance.now(),s.initSegment.data=t.payload,this.hls.trigger(o.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.tick();else{this.state=tt.PARSING;var a=s.totalduration,c=e.level,u=e.sn,h=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(l.b.log("swapping playlist audio codec"),void 0===h&&(h=this.lastAudioCodec),h&&(h=-1!==h.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,l.b.log("Parsing "+u+" of ["+s.startSN+" ,"+s.endSN+"],level "+c+", cc "+e.cc);var d=this.demuxer;d||(d=this.demuxer=new z(this.hls,"main"));var f=this.media,p=!(f&&f.seeking)&&(s.PTSKnown||!s.live),g=s.initSegment?s.initSegment.data:[];d.push(t.payload,g,h,r.videoCodec,e,a,p,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===tt.PARSING){var n=t.tracks,r=void 0,s=void 0;if(n.audio&&this.altAudio&&delete n.audio,s=n.audio){var a=this.levels[this.level].audioCodec,c=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(l.b.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==s.metadata.channelCount&&-1===c.indexOf("firefox")&&(a="mp4a.40.5"),-1!==c.indexOf("android")&&"audio/mpeg"!==s.container&&(a="mp4a.40.2",l.b.log("Android: force audio codec to "+a)),s.levelCodec=a,s.id=t.id}for(r in(s=n.video)&&(s.levelCodec=this.levels[this.level].videoCodec,s.id=t.id),this.hls.trigger(o.a.BUFFER_CODECS,n),n){s=n[r],l.b.log("main track:"+r+",container:"+s.container+",codecs[level/parsed]=["+s.levelCodec+"/"+s.codec+"]");var u=s.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(o.a.BUFFER_APPENDING,{type:r,data:u,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,i=this.fragCurrent,n=t.frag;if(i&&"main"===t.id&&n.sn===i.sn&&n.level===i.level&&("audio"!==t.type||!this.altAudio)&&this.state===tt.PARSING){var r=this.levels[this.level],s=i;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),!0===t.hasAudio&&s.addElementaryStream(m.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&s.addElementaryStream(m.ElementaryStreamTypes.VIDEO),l.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(s.dropped=t.dropped,s.dropped)if(s.backtracked)l.b.warn("Already backtracked on this fragment, appending with the gap");else{var a=r.details;if(!a||s.sn!==a.startSN)return l.b.warn("missing video frame(s), backtracking fragment"),this.fragmentTracker.removeFragment(s),s.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=tt.IDLE,this.fragPrevious=s,void this.tick();l.b.warn("missing video frame(s) on first frag, appending with gap")}else s.backtracked=!1;var c=X(r.details,s,t.startPTS,t.endPTS,t.startDTS,t.endDTS),u=this.hls;u.trigger(o.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:c,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(i){i&&i.length&&e.state===tt.PARSING&&(e.appended=!0,e.pendingBuffering=!0,u.trigger(o.a.BUFFER_APPENDING,{type:t.type,data:i,parent:"main",content:"data"}))}),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===tt.PARSING&&(this.stats.tparsed=performance.now(),this.state=tt.PARSED,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,i=t.id;if(!e){if(this.mediaBuffer!==this.media){l.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(l.b.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=tt.IDLE}var r=this.hls;r.trigger(o.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(o.a.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,i=!!this.hls.audioTracks[e].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(l.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,i=void 0,n=void 0,r=!1;for(var s in e){var a=e[s];"main"===a.id?(n=s,i=a,"video"===s&&(this.videoBuffer=e[s].buffer)):r=!0}r&&i?(l.b.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==tt.PARSING&&e!==tt.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==tt.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;l.b.log("main buffered : "+K(e.buffered)),this.fragPrevious=t;var i=this.stats;i.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(o.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.state=tt.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var i=!!this.media&&I.isBuffered(this.media,this.media.currentTime)&&I.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);l.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=tt.FRAG_LOADING_WAITING_RETRY}else l.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=tt.ERROR;break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:this.state!==tt.ERROR&&(t.fatal?(this.state=tt.ERROR,l.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==tt.WAITING_LEVEL||(this.state=tt.IDLE));break;case a.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==tt.PARSING&&this.state!==tt.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=tt.IDLE):(l.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,l.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var i=t.currentTime,n=(this.mediaBuffer?this.mediaBuffer:t).buffered;if(!this.loadedmetadata&&n.length){this.loadedmetadata=!0;var r=t.seeking?i:this.startPosition;i!==r&&(l.b.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time"+i+" "),t.currentTime=r)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var s=I.bufferInfo(t,i,e.maxBufferHole),c=!(t.paused&&t.readyState>1||t.ended||0===t.buffered.length);if(i!==this.lastCurrentTime)this.stallReported&&(l.b.warn("playback not stuck anymore @"+i+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(c){var u=performance.now(),h=this.hls;if(this.stalled){var d=u-this.stalled,f=s.len,p=this.nudgeRetry||0,g=this.fragmentTracker.getPartialFragment(i);if(null!==g)for(var m=0,v=0;v<t.buffered.length;v++){var y=t.buffered.start(v);if(i>=m&&i<y)return t.currentTime=Math.max(y,t.currentTime+.1),l.b.warn("skipping hole, adjusting currentTime from "+i+" to "+t.currentTime),this.stalled=void 0,void h.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+t.currentTime,frag:g});m=t.buffered.end(v)}if(f>.5&&d>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,l.b.warn("playback stalling in high buffer @"+i),h.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:f})),this.stalled=void 0,this.nudgeRetry=++p,p<e.nudgeMaxRetry){var b=t.currentTime,_=b+p*e.nudgeOffset;l.b.log("adjust currentTime from "+b+" to "+_),t.currentTime=_,h.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else l.b.error("still stuck in high buffer @"+i+" after "+e.nudgeMaxRetry+", raise fatal error"),h.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=u,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=tt.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this.fragmentTracker.detectEvictedFragments(m.ElementaryStreamTypes.VIDEO,t.buffered),this.state=tt.IDLE,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-i)},J(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,l.b.log("main stream:"+e+"->"+t),this.hls.trigger(o.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(Z),it=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),nt=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MANIFEST_LOADED,o.a.LEVEL_LOADED,o.a.FRAG_LOADED,o.a.ERROR));return n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.cleanTimer(),this.manualLevelIndex=-1},e.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],i=void 0,n={},r=null,s=!1,c=!1,u=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),h=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,s=s||!!t.videoCodec,c=c||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===u&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),void 0===(r=n[t.bitrate])?(t.url=[t.url],t.urlId=0,n[t.bitrate]=t,e.push(t)):r.url.push(t.url)}),!0===s&&!0===c&&(e=e.filter(function(t){return!!t.videoCodec})),e=e.filter(function(t){var e=t.audioCodec,i=t.videoCodec;return(!e||T(e))&&(!i||T(i))}),t.audioTracks&&(h=t.audioTracks.filter(function(t){return!t.audioCodec||T(t.audioCodec,"audio")})),e.length>0){i=e[0].bitrate,e.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=e;for(var d=0;d<e.length;d++)if(e[d].bitrate===i){this._firstLevel=d,l.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+i);break}this.hls.trigger(o.a.MANIFEST_PARSED,{levels:e,audioTracks:h,firstLevel:this._firstLevel,stats:t.stats,audio:c,video:s,altAudio:h.length>0})}else this.hls.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,i=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this.currentLevelIndex!==t){l.b.log("switching to level "+t),this.currentLevelIndex=t;var n=e[t];n.level=t,i.trigger(o.a.LEVEL_SWITCHING,n)}var r=e[t],s=r.details;if(!s||!0===s.live){var c=r.urlId;i.trigger(o.a.LEVEL_LOADING,{url:r.url[c],level:t,id:c})}}else i.trigger(o.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(!0!==t.fatal){var e=!1,i=!1,n=void 0;switch(t.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:n=t.frag.level,i=!0;break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:n=t.context.level,e=!0;break;case a.a.REMUX_ALLOC_ERROR:n=t.level,e=!0}void 0!==n&&this.recoverLevel(t,n,e,i)}else t.type===a.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.recoverLevel=function(t,e,i,n){var r=this,s=this.hls.config,a=t.details,o=this._levels[e],c=void 0,u=void 0,h=void 0;if(o.loadError++,o.fragmentError=n,!0===i){if(!(this.levelRetryCount+1<=s.levelLoadingMaxRetry))return l.b.error("level controller, cannot recover from "+a+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);u=Math.min(Math.pow(2,this.levelRetryCount)*s.levelLoadingRetryDelay,s.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return r.loadLevel()},u),t.levelRetry=!0,this.levelRetryCount++,l.b.warn("level controller, "+a+", retry in "+u+" ms, current retry count is "+this.levelRetryCount)}!0!==i&&!0!==n||((c=o.url.length)>1&&o.loadError<c?(l.b.warn("level controller, "+a+" for level "+e+": switching to redundant stream id "+o.urlId),o.urlId=(o.urlId+1)%c,o.details=void 0):-1===this.manualLevelIndex?(h=0===e?this._levels.length-1:e-1,l.b.warn("level controller, "+a+": switch to "+h),this.hls.nextAutoLevel=this.currentLevelIndex=h):!0===n&&(l.b.warn("level controller, "+a+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var i=this._levels[e.level];void 0!==i&&(i.fragmentError=!1,i.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,i=t.level;if(i===this.currentLevelIndex){var n=this._levels[i];!1===n.fragmentError&&(n.loadError=0,this.levelRetryCount=0);var r=t.details;if(r.live){var s=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),a=s,o=n.details;o&&r.endSN===o.endSN&&(a/=2,l.b.log("same live playlist, reload twice faster")),a-=performance.now()-t.stats.trequest,a=Math.max(s/2,Math.round(a)),l.b.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},a)}else this.cleanTimer()}},e.prototype.loadLevel=function(){var t=void 0,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&t.url.length>0&&(e=t.urlId,this.hls.trigger(o.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},it(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(h),rt=i(4);function st(t,e){var i=null;try{i=new window.Event("addtrack")}catch(t){(i=document.createEvent("Event")).initEvent("addtrack",!1,!1)}i.track=t,e.dispatchEvent(i)}function at(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}var ot=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHED,o.a.MEDIA_DETACHING,o.a.FRAG_PARSING_METADATA));return n.id3Track=void 0,n.media=void 0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){h.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){at(this.id3Track),this.id3Track=void 0,this.media=void 0},e.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var i=t[e];if("metadata"===i.kind&&"id3"===i.label)return st(i,this.media),i}return this.media.addTextTrack("metadata","id3")},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,i=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<i.length;r++){var s=rt.a.getID3Frames(i[r].data);if(s){var a=i[r].pts,o=r<i.length-1?i[r+1].pts:e.endPTS;a===o&&(o+=1e-4);for(var l=0;l<s.length;l++){var c=s[l];if(!rt.a.isTimeStampFrame(c)){var u=new n(a,o,"");u.value=c,this.id3Track.addCue(u)}}}}},e}(h),lt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var i=Math.pow(this.alpha_,t);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),ct=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hls=e,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new lt(i),this.fast_=new lt(n)}return t.prototype.sample=function(t,e){var i=8e3*e/(t=Math.max(t,this.minDelayMs_)),n=t/1e3;this.fast_.sample(n,i),this.slow_.sample(n,i)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}(),ut=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ht=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.FRAG_LOADING,o.a.FRAG_LOADED,o.a.FRAG_BUFFERED,o.a.ERROR));return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=i,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.clearTimer(),h.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var i=this.hls,n=t.frag.level,r=i.levels[n].details.live,s=i.config,a=void 0,o=void 0;r?(a=s.abrEwmaFastLive,o=s.abrEwmaSlowLive):(a=s.abrEwmaFastVoD,o=s.abrEwmaSlowVoD),this._bwEstimator=new ct(i,o,a,s.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,i=this.fragCurrent,n=i.loader,r=t.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return l.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=n.stats;if(e&&s&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&i.autoLevel&&i.level){var a=performance.now()-s.trequest,c=Math.abs(e.playbackRate);if(a>500*i.duration/c){var u=t.levels,h=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/a),d=u[i.level],f=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,p=s.total?s.total:Math.max(s.loaded,Math.round(i.duration*f/8)),g=e.currentTime,m=(p-s.loaded)/h,v=(I.bufferInfo(e,g,t.config.maxBufferHole).end-g)/c;if(v<2*i.duration/c&&m>v){var y=void 0,b=void 0;for(b=i.level-1;b>r;b--){var _=u[b].realBitrate?Math.max(u[b].realBitrate,u[b].bitrate):u[b].bitrate;if((y=i.duration*_/(6.4*h))<v)break}y<m&&(l.b.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+y.toFixed(1)+"<"+m.toFixed(1)+":"+v.toFixed(1)),t.nextLoadLevel=b,this._bwEstimator.sample(a,s.loaded),n.abort(),this.clearTimer(),t.trigger(o.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:s}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[e.level],n=(i.loaded?i.loaded.bytes:0)+t.stats.loaded,r=(i.loaded?i.loaded.duration:0)+t.frag.duration;i.loaded={bytes:n,duration:r},i.realBitrate=Math.round(8*n/r)}if(t.frag.bitrateTest){var s=t.stats;s.tparsed=s.tbuffered=s.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,i=t.frag;if(!(!0===e.aborted||"main"!==i.type||isNaN(i.sn)||i.bitrateTest&&e.tload!==e.tbuffered)){var n=e.tparsed-e.trequest;l.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(n,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,i,n,r,s,a,o,c){for(var u=r;u>=n;u--){var h,d=c[u].details,f=d?d.totalduration/d.fragments.length:e,p=!!d&&d.live;h=u<=t?a*i:o*i;var g=c[u].realBitrate?Math.max(c[u].realBitrate,c[u].bitrate):c[u].bitrate,m=g*f/h;if(l.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(h)+"/"+g+"/"+f+"/"+s+"/"+m),h>g&&(!m||p&&!this.bitrateTestDelay||m<s))return u}return-1},ut(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var i=this._nextABRAutoLevel;return-1!==t&&(i=Math.min(t,i)),i},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,i=t.levels,n=t.config,r=t.minAutoLevel,s=t.media,a=this.lastLoadedFragLevel,o=this.fragCurrent?this.fragCurrent.duration:0,c=s?s.currentTime:0,u=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,h=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(I.bufferInfo(s,c,n.maxBufferHole).end-c)/u,f=this._findBestLevel(a,o,h,r,e,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,i);if(f>=0)return f;l.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=o?Math.min(o,n.maxStarvationDelay):n.maxStarvationDelay,g=n.abrBandWidthFactor,m=n.abrBandWidthUpFactor;if(0===d){var v=this.bitrateTestDelay;v&&(p=(o?Math.min(o,n.maxLoadingDelay):n.maxLoadingDelay)-v,l.b.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),g=m=1)}return f=this._findBestLevel(a,o,h,r,e,d+p,g,m,i),Math.max(f,0)}}]),e}(h),dt=H(),ft=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHING,o.a.MEDIA_DETACHING,o.a.MANIFEST_PARSED,o.a.BUFFER_RESET,o.a.BUFFER_APPENDING,o.a.BUFFER_CODECS,o.a.BUFFER_EOS,o.a.BUFFER_FLUSHING,o.a.LEVEL_PTS_UPDATED,o.a.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n._live=null,n._objectUrl=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){h.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,i=this.tracks.audio;if("audio"===e&&i&&"audio/mpeg"===i.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-t.start)>.1){var r=n.updating;try{n.abort()}catch(t){r=!0,l.b.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(l.b.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,i=t.video||t.levels.length&&t.audio,n=0;t.altAudio&&(e||i)&&(n=(e?1:0)+(i?1:0),l.b.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var i=this.mediaSource=new dt;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(i),this._objectUrl=e.src}},e.prototype.onMediaDetaching=function(){l.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){l.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):l.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(o.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){l.b.log("media source opened"),this.hls.trigger(o.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){l.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){l.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;l.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,i=this.segments.reduce(function(t,i){return i.parent===e?t+1:t},0),n={},r=this.sourceBuffer;for(var s in r)n[s]=r[s].buffered;this.hls.trigger(o.a.BUFFER_APPENDED,{parent:e,pending:i,timeRanges:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){l.b.error("sourceBuffer error:",t),this.hls.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var i=t[e];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var i=this.mediaSource;i&&"open"===i.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,i=this.mediaSource;for(var n in t)if(!e[n]){var r=t[n],s=r.levelCodec||r.codec,c=r.container+";codecs="+s;l.b.log("creating sourceBuffer("+c+")");try{var u=e[n]=i.addSourceBuffer(c);u.addEventListener("updateend",this.onsbue),u.addEventListener("error",this.onsbe),this.tracks[n]={codec:s,container:r.container},r.buffer=u}catch(t){l.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:c})}}this.hls.trigger(o.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){l.b.error("sourceBuffer error:",t.event),this.hls.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,i=t.type;for(var n in e)i&&n!==i||e[n].ended||(e[n].ended=!0,l.b.log(n+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var i in t){var n=t[i];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}l.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){l.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t,e=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(l.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||t===1/0||isNaN(t))&&(l.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,i=this.sourceBuffer;try{for(var n in i)e+=i[n].buffered.length}catch(t){l.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(o.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,i=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void l.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(i&&i.length){var n=i.shift();try{var r=e[n.type];r?r.updating?i.unshift(n):(r.ended=!1,this.parent=n.parent,r.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){l.b.error("error while trying to append buffer:"+e.message),i.unshift(n);var s={type:a.b.MEDIA_ERROR,parent:n.parent};22!==e.code?(this.appendError?this.appendError++:this.appendError=1,s.details=a.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(l.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],s.fatal=!0,t.trigger(o.a.ERROR,s)):(s.fatal=!1,t.trigger(o.a.ERROR,s))):(this.segments=[],s.details=a.a.BUFFER_FULL_ERROR,s.fatal=!1,t.trigger(o.a.ERROR,s))}}}},e.prototype.flushBuffer=function(t,e,i){var n=void 0,r=void 0,s=void 0,a=void 0,o=void 0,c=void 0,u=this.sourceBuffer;if(Object.keys(u).length){if(l.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var h in u)if(!i||h===i){if((n=u[h]).ended=!1,n.updating)return l.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<n.buffered.length;r++)if(s=n.buffered.start(r),a=n.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(o=t,c=e):(o=Math.max(s,t),c=Math.min(a,e)),Math.min(c,a)-o>.5)return this.flushBufferCounter++,l.b.log("flush "+h+" ["+o+","+c+"], of ["+s+","+a+"], pos:"+this.media.currentTime),n.remove(o,c),!1}catch(t){l.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else l.b.warn("abort flushing too many retries");l.b.log("buffer flushed")}return!0},e}(h),pt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),gt=function(t){function e(i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.FPS_DROP_LEVEL_CAPPING,o.a.MEDIA_ATTACHING,o.a.MANIFEST_PARSED))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var i=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,r){return e.isLevelAllowed(r,i.restrictedLevels)&&r<=t});return e.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,i){if(!t||t&&!t.length)return-1;for(var n,r,s=t.length-1,a=0;a<t.length;a+=1){var o=t[a];if((o.width>=e||o.height>=i)&&(n=o,!(r=t[a+1])||n.width!==r.width||n.height!==r.height)){s=a;break}}return s},pt(e,[{key:"mediaWidth",get:function(){var t=void 0,i=this.media;return i&&(t=i.width||i.clientWidth||i.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,i=this.media;return i&&(t=i.height||i.clientHeight||i.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(h),mt=function(t){function e(i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHING))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,i){var n=performance.now();if(e){if(this.lastTime){var r=n-this.lastTime,s=i-this.lastDroppedFrames,a=e-this.lastDecodedFrames,c=1e3*s/r,u=this.hls;if(u.trigger(o.a.FPS_DROP,{currentDropped:s,currentDecoded:a,totalDroppedFrames:i}),c>0&&s>u.config.fpsDroppedMonitoringThreshold*a){var h=u.currentLevel;l.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=h)&&(h-=1,u.trigger(o.a.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:u.currentLevel}),u.autoLevelCapping=h,u.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(h),vt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,i){this.context=t,this.config=e,this.callbacks=i,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t=void 0,e=this.context;t=this.loader=new XMLHttpRequest;var i=this.stats;i.tfirst=0,i.loaded=0;var n=this.xhrSetup;try{if(n)try{n(t,e.url)}catch(i){t.open("GET",e.url,!0),n(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(i){return void this.callbacks.onError({code:t.status,text:i.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,i=e.readyState,n=this.stats,r=this.context,s=this.config;if(!n.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest)),4===i){var a=e.status;if(a>=200&&a<300){n.tload=Math.max(n.tfirst,performance.now());var o,c=void 0;o="arraybuffer"===r.responseType?(c=e.response).byteLength:(c=e.responseText).length,n.loaded=n.total=o;var u={url:e.responseURL,data:c};this.callbacks.onSuccess(u,n,r,e)}else n.retry>=s.maxRetry||a>=400&&a<499?(l.b.error(a+" while loading "+r.url),this.callbacks.onError({code:a,text:e.statusText},r,e)):(l.b.warn(a+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},t.prototype.loadtimeout=function(){l.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,i=this.stats;i.loaded=t.loaded,t.lengthComputable&&(i.total=t.total);var n=this.callbacks.onProgress;n&&n(i,this.context,null,e)},t}(),yt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),bt=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MANIFEST_LOADING,o.a.MANIFEST_PARSED,o.a.AUDIO_TRACK_LOADED,o.a.ERROR));return n.ticks=0,n.ontick=n.tick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.cleanTimer(),h.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===a.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestParsed=function(t){var e=this,i=t.audioTracks||[],n=!1;this.tracks=i,this.hls.trigger(o.a.AUDIO_TRACKS_UPDATED,{audioTracks:i});var r=0;i.forEach(function(t){if(t.default&&!n)return e.audioTrack=r,void(n=!0);r++}),!1===n&&i.length&&(l.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(l.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,l.b.log("switching to audioTrack "+t);var e=this.tracks[t],i=this.hls,n=e.type,r=e.url,s={id:t,type:n,url:r};i.trigger(o.a.AUDIO_TRACK_SWITCHING,s);var a=e.details;!r||void 0!==a&&!0!==a.live||(l.b.log("(re)loading playlist for audioTrack "+t),i.trigger(o.a.AUDIO_TRACK_LOADING,{url:r,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,l.b.log("updating audioTrack "+t);var e=this.tracks[t],i=e.url,n=e.details;!i||void 0!==n&&!0!==n.live||(l.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(o.a.AUDIO_TRACK_LOADING,{url:i,id:t}))}},yt(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(h),_t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Tt={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},wt=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHED,o.a.MEDIA_DETACHING,o.a.AUDIO_TRACKS_UPDATED,o.a.AUDIO_TRACK_SWITCHING,o.a.AUDIO_TRACK_LOADED,o.a.KEY_LOADED,o.a.FRAG_LOADED,o.a.FRAG_PARSING_INIT_SEGMENT,o.a.FRAG_PARSING_DATA,o.a.FRAG_PARSED,o.a.ERROR,o.a.BUFFER_RESET,o.a.BUFFER_CREATED,o.a.BUFFER_APPENDED,o.a.BUFFER_FLUSHED,o.a.INIT_PTS_FOUND));return r.fragmentTracker=n,r.config=i.config,r.audioCodecSwap=!1,r._state=Tt.STOPPED,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.stopLoad()},e.prototype.onHandlerDestroyed=function(){this.state=Tt.STOPPED,this.fragmentTracker=null},e.prototype.onInitPtsFound=function(t){var e=t.id,i=t.frag.cc,n=t.initPTS;"main"===e&&(this.initPTS[i]=n,this.videoTrackCC=i,l.b.log("InitPTS for cc: "+i+" found from video track: "+n),this.state===Tt.WAITING_INIT_PTS&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(l.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Tt.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=Tt.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=Tt.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Tt.STOPPED},e.prototype.doTick=function(){var t=void 0,e=void 0,i=void 0,n=this.hls,r=n.config;switch(this.state){case Tt.ERROR:case Tt.PAUSED:case Tt.BUFFER_FLUSHING:break;case Tt.STARTING:this.state=Tt.WAITING_TRACK,this.loadedmetadata=!1;break;case Tt.IDLE:var s=this.tracks;if(!s)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var a=this.mediaBuffer?this.mediaBuffer:this.media,c=this.videoBuffer?this.videoBuffer:this.media,u=I.bufferInfo(a,t,r.maxBufferHole),h=I.bufferInfo(c,t,r.maxBufferHole),d=u.len,f=u.end,p=this.fragPrevious,g=Math.min(r.maxBufferLength,r.maxMaxBufferLength),m=Math.max(g,h.len),v=this.audioSwitch,y=this.trackId;if((d<m||v)&&y<s.length){if(void 0===(i=s[y].details)){this.state=Tt.WAITING_TRACK;break}if(!v&&!i.live&&p&&p.sn===i.endSN&&!u.nextStart&&(!this.media.seeking||this.media.duration-f<p.duration/2)){this.hls.trigger(o.a.BUFFER_EOS,{type:"audio"}),this.state=Tt.ENDED;break}var b=i.fragments,_=b.length,T=b[0].start,w=b[_-1].start+b[_-1].duration,E=void 0;if(v)if(i.live&&!i.PTSKnown)l.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),f=0;else if(f=t,i.PTSKnown&&t<T){if(!(u.end>T||u.nextStart))return;l.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=T+.05}if(i.initSegment&&!i.initSegment.data)E=i.initSegment;else if(f<=T){if(E=b[0],null!==this.videoTrackCC&&E.cc!==this.videoTrackCC&&(E=function(t,e){return O(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}(b,this.videoTrackCC)),i.live&&E.loadIdx&&E.loadIdx===this.fragLoadIdx){var S=u.nextStart?u.nextStart:T;return l.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(S+.05)),void(this.media.currentTime=S+.05)}}else{var x=void 0,A=r.maxFragLookUpTolerance,k=p?b[p.sn-b[0].sn+1]:void 0,C=function(t){var e=Math.min(A,t.duration);return t.start+t.duration-e<=f?1:t.start-e>f&&t.start?-1:0};f<w?(f>w-A&&(A=0),x=k&&!C(k)?k:O(b,C)):x=b[_-1],x&&(E=x,T=x.start,p&&E.level===p.level&&E.sn===p.sn&&(E.sn<i.endSN?(E=b[E.sn+1-i.startSN],l.b.log("SN just loaded, load next one: "+E.sn)):E=null))}E&&(E.decryptdata&&null!=E.decryptdata.uri&&null==E.decryptdata.key?(l.b.log("Loading key for "+E.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+y),this.state=Tt.KEY_LOADING,n.trigger(o.a.KEY_LOADING,{frag:E})):(l.b.log("Loading "+E.sn+", cc: "+E.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+y+", currentTime:"+t+",bufferEnd:"+f.toFixed(3)),this.fragmentTracker.getState(E)===G&&(this.fragCurrent=E,this.startFragRequested=!0,isNaN(E.sn)||(this.nextLoadPosition=E.start+E.duration),n.trigger(o.a.FRAG_LOADING,{frag:E}),this.state=Tt.FRAG_LOADING)))}break;case Tt.WAITING_TRACK:(e=this.tracks[this.trackId])&&e.details&&(this.state=Tt.IDLE);break;case Tt.FRAG_LOADING_WAITING_RETRY:var R=performance.now(),P=this.retryDate,L=(a=this.media)&&a.seeking;(!P||R>=P||L)&&(l.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Tt.IDLE);break;case Tt.WAITING_INIT_PTS:var D=this.videoTrackCC;if(void 0===this.initPTS[D])break;var M=this.waitingFragment;if(M){var N=M.frag.cc;D!==N?(e=this.tracks[this.trackId]).details&&e.details.live&&(l.b.warn("Waiting fragment CC ("+N+") does not match video track CC ("+D+")"),this.waitingFragment=null,this.state=Tt.IDLE):(this.state=Tt.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Tt.IDLE;break;case Tt.STOPPED:case Tt.FRAG_LOADING:case Tt.PARSING:case Tt.PARSED:case Tt.ENDED:}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(l.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===Tt.ENDED&&(this.state=Tt.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){l.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=Tt.PAUSED,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Tt.IDLE),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,i=t.id,n=this.tracks[i],r=e.totalduration,s=0;if(l.b.log("track "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+r),e.live){var a=n.details;a&&e.fragments.length>0?(V(a,e),s=e.fragments[0].start,e.PTSKnown?l.b.log("live audio playlist sliding:"+s.toFixed(3)):l.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,l.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(n.details=e,!this.startFragRequested){if(-1===this.startPosition){var o=e.startTimeOffset;isNaN(o)?this.startPosition=0:(l.b.log("start time offset found in playlist, adjust startPosition to "+o),this.startPosition=o)}this.nextLoadPosition=this.startPosition}this.state===Tt.WAITING_TRACK&&(this.state=Tt.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===Tt.KEY_LOADING&&(this.state=Tt.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===Tt.FRAG_LOADING&&e&&"audio"===i.type&&i.level===e.level&&i.sn===e.sn){var n=this.tracks[this.trackId],r=n.details,s=r.totalduration,a=e.level,c=e.sn,u=e.cc,h=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",d=this.stats=t.stats;if("initSegment"===c)this.state=Tt.IDLE,d.tparsed=d.tbuffered=performance.now(),r.initSegment.data=t.payload,this.hls.trigger(o.a.FRAG_BUFFERED,{stats:d,frag:e,id:"audio"}),this.tick();else{this.state=Tt.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new z(this.hls,"audio"));var f=this.initPTS[u],p=r.initSegment?r.initSegment.data:[];r.initSegment||void 0!==f?(this.pendingBuffering=!0,l.b.log("Demuxing "+c+" of ["+r.startSN+" ,"+r.endSN+"],track "+a),this.demuxer.push(t.payload,p,h,null,e,s,!1,f)):(l.b.log("unknown video PTS for continuity counter "+u+", waiting for video PTS before demuxing audio frag "+c+" of ["+r.startSN+" ,"+r.endSN+"],track "+a),this.waitingFragment=t,this.state=Tt.WAITING_INIT_PTS)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Tt.PARSING){var n=t.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(o.a.BUFFER_CODECS,n),l.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var s=r.initSegment;if(s){var a={type:"audio",data:s,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(o.a.BUFFER_APPENDING,a))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,i=this.fragCurrent,n=t.frag;if(i&&"audio"===t.id&&"audio"===t.type&&n.sn===i.sn&&n.level===i.level&&this.state===Tt.PARSING){var r=this.trackId,s=this.tracks[r],c=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),i.addElementaryStream(m.ElementaryStreamTypes.AUDIO),l.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),X(s.details,i,t.startPTS,t.endPTS);var u=this.audioSwitch,h=this.media,d=!1;if(u&&h)if(h.readyState){var f=h.currentTime;l.b.log("switching audio track : currentTime:"+f),f>=t.startPTS&&(l.b.log("switching audio track : flushing all audio"),this.state=Tt.BUFFER_FLUSHING,c.trigger(o.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),d=!0,this.audioSwitch=!1,c.trigger(o.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,c.trigger(o.a.AUDIO_TRACK_SWITCHED,{id:r});var p=this.pendingData;if(!p)return console.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void c.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&p.push({type:t.type,data:e,parent:"audio",content:"data"})}),!d&&p.length&&(p.forEach(function(t){e.state===Tt.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(o.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Tt.PARSING&&(this.stats.tparsed=performance.now(),this.state=Tt.PARSED,this._checkAppendedParsed())},e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==Tt.PARSING&&e!==Tt.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==Tt.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,i=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),i.trigger(o.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;l.b.log("audio buffered : "+K(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(o.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Tt.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var n=this.config;if(i<=n.fragLoadingMaxRetry){this.fragLoadError=i;var r=Math.min(Math.pow(2,i-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);l.b.warn("audioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=performance.now()+r,this.state=Tt.FRAG_LOADING_WAITING_RETRY}else l.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Tt.ERROR}break;case a.a.AUDIO_TRACK_LOAD_ERROR:case a.a.AUDIO_TRACK_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:this.state!==Tt.ERROR&&(this.state=t.fatal?Tt.ERROR:Tt.IDLE,l.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case a.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===Tt.PARSING||this.state===Tt.PARSED)){var s=this.mediaBuffer,c=this.media.currentTime;if(s&&I.isBuffered(s,c)&&I.isBuffered(s,c+.5)){var u=this.config;u.maxMaxBufferLength>=u.maxBufferLength&&(u.maxMaxBufferLength/=2,l.b.warn("audio:reduce max buffer length to "+u.maxMaxBufferLength+"s")),this.state=Tt.IDLE}else l.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Tt.BUFFER_FLUSHING,this.hls.trigger(o.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(l.b.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(o.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=Tt.PARSED):(this.state=Tt.IDLE,this.fragPrevious=null,this.tick())},_t(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,l.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(Z),Et=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},i={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function s(i,s,a){var o=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),c={};l?o=document.createElement("custom"):c.enumerable=!0,o.hasBeenReset=!1;var u="",h=!1,d=i,f=s,p=a,g=null,m="",v=!0,y="auto",b="start",_=50,T="middle",w=50,E="middle";if(Object.defineProperty(o,"id",r({},c,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(o,"pauseOnExit",r({},c,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(o,"startTime",r({},c,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",r({},c,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",r({},c,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",r({},c,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",r({},c,{get:function(){return m},set:function(t){var i=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");m=i,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",r({},c,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",r({},c,{get:function(){return y},set:function(e){if("number"!=typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",r({},c,{get:function(){return b},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",r({},c,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",r({},c,{get:function(){return T},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",r({},c,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",r({},c,{get:function(){return E},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");E=e,this.hasBeenReset=!0}})),o.displayState=void 0,l)return o}return s.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},s}(),St=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function xt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new St,this.regionList=[]}function At(){this.values=Object.create(null)}function kt(t,e,i,n){var r=n?t.split(n):[t];for(var s in r)if("string"==typeof r[s]){var a=r[s].split(i);2===a.length&&e(a[0],a[1])}}At.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Ct=new Et(0,0,0),Rt="middle"===Ct.align?"middle":"center";function Pt(t,e,i){var n=t;function r(){var e=function(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=r(),s(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),s(),e.endTime=r(),s(),function(t,e){var n=new At;kt(t,function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),a=s[0];n.integer(t,a),n.percent(t,a)&&n.set("snapToLines",!1),n.alt(t,a,["auto"]),2===s.length&&n.alt("lineAlign",s[1],["start",Rt,"end"]);break;case"position":s=e.split(","),n.percent(t,s[0]),2===s.length&&n.alt("positionAlign",s[1],["start",Rt,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",Rt,"end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var r=n.get("line","auto");"auto"===r&&-1===Ct.line&&(r=-1),e.line=r,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",Rt);var s=n.get("position","auto");"auto"===s&&50===Ct.position&&(s="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=s}(t,e)}function Lt(t){return t.replace(/<br(?: \/)?>/gi,"\n")}xt.prototype={parse:function(t){var e=this;function i(){var t=e.buffer,i=0;for(t=Lt(t);i<t.length&&"\r"!==t[i]&&"\n"!==t[i];)++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var n=void 0;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var r=(n=i()).match(/^(Ã¯Â»Â¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var s=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(s?s=!1:n=i(),e.state){case"HEADER":/:/.test(n)?kt(n,function(t,e){switch(t){case"Region":console.log("parse region",e)}},/:/):n||(e.state="ID");continue;case"NOTE":n||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){e.state="NOTE";break}if(!n)continue;if(e.cue=new Et(0,0,""),e.state="CUE",-1===n.indexOf("--\x3e")){e.cue.id=n;continue}case"CUE":try{Pt(n,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var a=-1!==n.indexOf("--\x3e");if(!n||a&&(s=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=n;continue;case"BADCUE":n||(e.state="ID");continue}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var Dt=xt;function Ot(t,e,i,n){for(var r=void 0,s=void 0,a=void 0,o=void 0,l=void 0,c=window.VTTCue||window.TextTrackCue,u=0;u<n.rows.length;u++)if(a=!0,o=0,l="",!(r=n.rows[u]).isEmpty()){for(var h=0;h<r.chars.length;h++)r.chars[h].uchar.match(/\s/)&&a?o++:(l+=r.chars[h].uchar,a=!1);r.cueStartTime=e,e===i&&(i+=1e-4),s=new c(e,i,Lt(l.trim())),o>=16?o--:o++,navigator.userAgent.match(/Firefox\//)?s.line=u+1:s.line=u>7?u-2:u+1,s.align="left",s.position=Math.max(0,Math.min(100,o/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(s)}}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Mt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Nt=function(t){var e=t;return Mt.hasOwnProperty(t)&&(e=Mt[t]),String.fromCharCode(e)},Ft=15,Bt=100,Ut={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ht={17:2,18:4,21:6,22:8,23:10,19:13,20:15},jt={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},zt={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Gt=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],qt={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var i=this.verboseFilter[t];this.verboseLevel>=i&&console.log(this.time+" ["+t+"] "+e)}},Wt=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].toString(16));return e},Yt=function(){function t(e,i,n,r,s){It(this,t),this.foreground=e||"white",this.underline=i||!1,this.italics=n||!1,this.background=r||"black",this.flash=s||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],i=0;i<e.length;i++){var n=e[i];t.hasOwnProperty(n)&&(this[n]=t[n])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),Xt=function(){function t(e,i,n,r,s,a){It(this,t),this.uchar=e||" ",this.penState=new Yt(i,n,r,s,a)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),Vt=function(){function t(){It(this,t),this.chars=[];for(var e=0;e<Bt;e++)this.chars.push(new Xt);this.pos=0,this.currPenState=new Yt}return t.prototype.equals=function(t){for(var e=!0,i=0;i<Bt;i++)if(!this.chars[i].equals(t.chars[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<Bt;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<Bt;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(qt.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>Bt&&(qt.log("ERROR","Too large cursor position "+this.pos),this.pos=Bt)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=Nt(t);this.pos>=Bt?qt.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e=void 0;for(e=t;e<Bt;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,i=0;i<Bt;i++){var n=this.chars[i].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),Kt=function(){function t(){It(this,t),this.rows=[];for(var e=0;e<Ft;e++)this.rows.push(new Vt);this.currRow=Ft-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<Ft;t++)this.rows[t].clear();this.currRow=Ft-1},t.prototype.equals=function(t){for(var e=!0,i=0;i<Ft;i++)if(!this.rows[i].equals(t.rows[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<Ft;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<Ft;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){qt.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){qt.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var i=0;i<Ft;i++)this.rows[i].clear();var n=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var s=r.rows[n].cueStartTime;if(s&&s<qt.time)for(var a=0;a<this.nrRollUpRows;a++)this.rows[e-this.nrRollUpRows+a+1].copy(r.rows[n+a])}}this.currRow=e;var o=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,c=Math.max(l-1,0);o.setCursor(t.indent),t.color=o.chars[c].penState.foreground}var u={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(u)},t.prototype.setBkgData=function(t){qt.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){qt.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),qt.log("INFO","Rolling up")}else qt.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],i="",n=-1,r=0;r<Ft;r++){var s=this.rows[r].getTextString();s&&(n=r+1,t?e.push("Row "+n+": '"+s+"'"):e.push(s.trim()))}return e.length>0&&(i=t?"["+e.join(" | ")+"]":e.join("\n")),i},t.prototype.getTextAndFormat=function(){return this.rows},t}(),$t=function(){function t(e,i){It(this,t),this.chNr=e,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new Kt,this.nonDisplayedMemory=new Kt,this.lastOutputScreen=new Kt,this.currRollUpRow=this.displayedMemory.rows[Ft-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[Ft-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,qt.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";qt.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(qt.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){qt.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){qt.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){qt.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){qt.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){qt.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){qt.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){qt.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){qt.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){qt.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){qt.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){qt.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(qt.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,qt.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){qt.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var i=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}qt.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=qt.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),Qt=function(){function t(e,i,n){It(this,t),this.field=e||1,this.outputs=[i,n],this.channels=[new $t(1,i),new $t(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var i=void 0,n=void 0,r=void 0,s=!1;this.lastTime=t,qt.setTime(t);for(var a=0;a<e.length;a+=2)n=127&e[a],r=127&e[a+1],0!==n||0!==r?(qt.log("DATA","["+Wt([e[a],e[a+1]])+"] -> ("+Wt([n,r])+")"),(i=this.parseCmd(n,r))||(i=this.parseMidrow(n,r)),i||(i=this.parsePAC(n,r)),i||(i=this.parseBackgroundAttributes(n,r)),i||(s=this.parseChars(n,r))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(s):qt.log("WARNING","No channel found yet. TEXT-MODE?")),i?this.dataCounters.cmd+=2:s?this.dataCounters.char+=2:(this.dataCounters.other+=2,qt.log("WARNING","Couldn't parse cleaned data "+Wt([n,r])+" orig: "+Wt([e[a],e[a+1]])))):this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var i;if(!((20===t||28===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,qt.log("DEBUG","Repeated command ("+Wt([t,e])+") is dropped"),!0;i=20===t||23===t?1:2;var n=this.channels[i-1];return 20===t||28===t?32===e?n.ccRCL():33===e?n.ccBS():34===e?n.ccAOF():35===e?n.ccAON():36===e?n.ccDER():37===e?n.ccRU(2):38===e?n.ccRU(3):39===e?n.ccRU(4):40===e?n.ccFON():41===e?n.ccRDC():42===e?n.ccTR():43===e?n.ccRTD():44===e?n.ccEDM():45===e?n.ccCR():46===e?n.ccENM():47===e&&n.ccEOC():n.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.parseMidrow=function(t,e){var i=null;return(17===t||25===t)&&e>=32&&e<=47&&((i=17===t?1:2)!==this.currChNr?(qt.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[i-1].ccMIDROW(e),qt.log("DEBUG","MIDROW ("+Wt([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var i,n;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=t<=23?1:2,n=e>=64&&e<=95?1===i?Ut[t]:jt[t]:1===i?Ht[t]:zt[t];var r=this.interpretPAC(n,e);return this.channels[i-1].setPAC(r),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.interpretPAC=function(t,e){var i,n={color:null,italics:!1,indent:null,underline:!1,row:t};return i=e>95?e-96:e-64,n.underline=1==(1&i),i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n},t.prototype.parseChars=function(t,e){var i=null,n=null,r=null;if(t>=25?(i=2,r=t-8):(i=1,r=t),r>=17&&r<=19){var s;s=17===r?e+80:18===r?e+112:e+144,qt.log("INFO","Special char '"+Nt(s)+"' in channel "+i),n=[s]}else t>=32&&t<=127&&(n=0===e?[t]:[t,e]);if(n){var a=Wt(n);qt.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},t.prototype.parseBackgroundAttributes=function(t,e){var i,n=void 0,r=void 0;return((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47)&&(n={},16===t||24===t?(r=Math.floor((e-32)/2),n.background=Gt[r],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),i=t<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}(),Zt=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timelineController=e,this.track=i,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,i){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.track)},t}(),Jt=function(t,e,i){return t.substr(i||0,e.length)===e},te=function(t){for(var e=5381,i=t.length;i;)e=33*e^t.charCodeAt(--i);return(e>>>0).toString()},ee=function(t,e,i,n,r,s){var a=Object(rt.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),o="00:00.000",l=0,c=0,u=0,h=[],d=void 0,f=!0,p=new Dt;p.oncue=function(t){var e=i[n],r=i.ccOffset;e&&e.new&&(void 0!==c?r=i.ccOffset=e.start:function(t,e,i){var n=t[e],r=t[n.prevCC];if(!r||!r.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;r&&r.new;)t.ccOffset+=n.start-r.start,n.new=!1,r=t[(n=r).prevCC];t.presentationOffset=i}(i,n,u)),u&&(r=u+i.ccOffset-i.presentationOffset),t.startTime+=r-c,t.endTime+=r-c,t.id=te(t.startTime.toString())+te(t.endTime.toString())+te(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&h.push(t)},p.onparsingerror=function(t){d=t},p.onflush=function(){d&&s?s(d):r(h)},a.forEach(function(t){if(f){if(Jt(t,"X-TIMESTAMP-MAP=")){f=!1,t.substr(16).split(",").forEach(function(t){Jt(t,"LOCAL:")?o=t.substr(6):Jt(t,"MPEGTS:")&&(l=parseInt(t.substr(7)))});try{l-=e=e<0?e+8589934592:e,i=o,n=parseInt(i.substr(-3)),r=parseInt(i.substr(-6,2)),s=parseInt(i.substr(-9,2)),a=i.length>9?parseInt(i.substr(0,i.indexOf(":"))):0,c=(isNaN(n)||isNaN(r)||isNaN(s)||isNaN(a)?-1:(n+=1e3*r,n+=6e4*s,n+=36e5*a))/1e3,u=l/9e4,-1===c&&(d=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){d=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(f=!1)}var i,n,r,s,a;p.parse(t+"\n")}),p.flush()},ie=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHING,o.a.MEDIA_DETACHING,o.a.FRAG_PARSING_USERDATA,o.a.FRAG_DECRYPTED,o.a.MANIFEST_LOADING,o.a.MANIFEST_LOADED,o.a.FRAG_LOADED,o.a.LEVEL_SWITCHING,o.a.INIT_PTS_FOUND));if(n.hls=i,n.config=i.config,n.enabled=!0,n.Cues=i.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions){var r=new Zt(n,1),s=new Zt(n,2);n.cea608Parser=new Qt(0,r,s)}return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.addCues=function(t,e,i,n){for(var r,s,a,o,l=this.cueRanges,c=!1,u=l.length;u--;){var h=l[u],d=(r=h[0],s=h[1],a=e,o=i,Math.min(s,o)-Math.max(r,a));if(d>=0&&(h[0]=Math.min(h[0],e),h[1]=Math.max(h[1],i),c=!0,d/(i-e)>.5))return}c||l.push([e,i]),this.Cues.newCue(this[t],e,i,n)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var i=0;i<e.textTracks.length;i++){var n=e.textTracks[i];if(!0===n["textTrack"+t])return n}return null},e.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var i=this.getExistingTrack(t);if(i)this[e]=i,at(this[e]),st(this[e],this.media);else{var n=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config["captionsTextTrack"+t+"LanguageCode"]);n&&(n[e]=!0,this[e]=n)}}},e.prototype.createTextTrack=function(t,e,i){var n=this.media;if(n)return n.addTextTrack(t,e,i)},e.prototype.destroy=function(){h.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){at(this.textTrack1),at(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var i=0;i<e.length;i++)at(e[i])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,n){var r=void 0;if(n<i.length){var s=i[n];(function(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)})(s,t)&&(r=s)}r||(r=e.createTextTrack("subtitles",t.name,t.lang)),t.default?r.mode=e.hls.subtitleDisplay?"showing":"hidden":r.mode="disabled",e.textTracks.push(r)})}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,i=t.payload;if("main"===e.type){var n=e.sn;if(n!==this.lastSn+1){var r=this.cea608Parser;r&&r.reset()}this.lastSn=n}else if("subtitle"===e.type)if(i.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var s=e.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(e,i)}else this.hls.trigger(o.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var i=this.vttCCs;i[t.cc]||(i[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var n=this.textTracks,r=this.hls;ee(e,this.initPTS,i,t.cc,function(e){var i=n[t.trackId];"disabled"!==i.mode?(e.forEach(function(t){if(!i.cues.getCueById(t.id))try{i.addCue(t)}catch(n){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,i.addCue(e)}}),r.trigger(o.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):r.trigger(o.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},function(e){l.b.log("Failed to parse VTT cue: "+e),r.trigger(o.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},e.prototype.onFragDecrypted=function(t){var e=t.payload,i=t.frag;if("subtitle"===i.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(i,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var i=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,i)}},e.prototype.extractCea608Data=function(t){for(var e=31&t[0],i=2,n=void 0,r=void 0,s=void 0,a=[],o=0;o<e;o++)n=t[i++],r=127&t[i++],s=127&t[i++],0===r&&0===s||0!=(4&n)&&0==(3&n)&&(a.push(r),a.push(s));return a},e}(h),ne=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function re(t){for(var e=[],i=0;i<t.length;i++)"subtitles"===t[i].kind&&e.push(t[i]);return e}var se=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHED,o.a.MEDIA_DETACHING,o.a.MANIFEST_LOADING,o.a.MANIFEST_LOADED,o.a.SUBTITLE_TRACK_LOADED));return n.tracks=[],n.trackId=-1,n.media=void 0,n.subtitleDisplay=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=re(this.media.textTracks),i=0;i<e.length;i++)if("hidden"===e[i].mode)t=i;else if("showing"===e[i].mode){t=i;break}this.subtitleTrack=t}},e.prototype.destroy=function(){h.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,i=t.subtitles||[];this.tracks=i,this.trackId=-1,this.hls.trigger(o.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var i=e.details;void 0!==i&&!0!==i.live||(l.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(o.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(l.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=re(this.media.textTracks);if(-1!==this.trackId&&(e[this.trackId].mode="disabled"),this.trackId=t,l.b.log("switching to subtitle track "+t),this.hls.trigger(o.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var i=this.tracks[t];t<e.length&&(e[t].mode=this.subtitleDisplay?"showing":"hidden");var n=i.details;void 0!==n&&!0!==n.live||(l.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(o.a.SUBTITLE_TRACK_LOADING,{url:i.url,id:t}))}}},ne(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(h),ae=i(5),oe={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},le=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHED,o.a.ERROR,o.a.KEY_LOADED,o.a.FRAG_LOADED,o.a.SUBTITLE_TRACKS_UPDATED,o.a.SUBTITLE_TRACK_SWITCH,o.a.SUBTITLE_TRACK_LOADED,o.a.SUBTITLE_FRAG_PROCESSED));return n.config=i.config,n.vttFragSNsProcessed={},n.vttFragQueues=void 0,n.currentlyProcessing=null,n.state=oe.STOPPED,n.currentTrackId=-1,n.decrypter=new ae.a(i.observer,i.config),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroyed=function(){this.state=oe.STOPPED},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(o.a.FRAG_LOADING,{frag:t}),this.state=oe.FRAG_LOADING}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=oe.IDLE,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=oe.IDLE},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.doTick=function(){var t=this;switch(this.state){case oe.IDLE:var e,i=this.tracks,n=this.currentTrackId,r=this.vttFragSNsProcessed[n],s=this.vttFragQueues[n],a=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!i)break;if(n<i.length&&(e=i[n].details),void 0===e)break;e.fragments.forEach(function(e){(function(t){return r.indexOf(t.sn)>-1})(e)||e.sn===a||function(t){return s.some(function(e){return e.sn===t.sn})}(e)||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(l.b.log("Loading key for "+e.sn),t.state=oe.KEY_LOADING,t.hls.trigger(o.a.KEY_LOADING,{frag:e})):(e.trackId=n,s.push(e),t.nextFrag()))})}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;l.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,-1!==this.currentTrackId&&void 0!==this.tracks[this.currentTrackId].details&&this.tick()},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===oe.KEY_LOADING&&(this.state=oe.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag.decryptdata,n=t.frag,r=this.hls;if(this.state===oe.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=i&&null!=i.key&&"AES-128"===i.method){var s=void 0;try{s=performance.now()}catch(t){s=Date.now()}this.decrypter.decrypt(t.payload,i.key.buffer,i.iv.buffer,function(t){var e=void 0;try{e=performance.now()}catch(t){e=Date.now()}r.trigger(o.a.FRAG_DECRYPTED,{frag:n,payload:t,stats:{tstart:s,tdecrypt:e}})})}},e}(Z),ce=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ue="com.widevine.alpha",he=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,o.a.MEDIA_ATTACHED,o.a.MANIFEST_PARSED));return n._widevineLicenseUrl=i.config.widevineLicenseUrl,n._licenseXhrSetup=i.config.licenseXhrSetup,n._emeEnabled=i.config.emeEnabled,n._requestMediaKeySystemAccess=i.config.requestMediaKeySystemAccessFunc,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._isMediaEncrypted=!1,n._requestLicenseFailureCount=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getLicenseServerUrl=function(t){var e=void 0;switch(t){case ue:e=this._widevineLicenseUrl;break;default:e=null}return e||(l.b.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(o.a.ERROR,{type:a.b.KEY_SYSTEM_ERROR,details:a.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},e.prototype._attemptKeySystemAccess=function(t,e,i){var n=this,r=function(t,e,i){switch(t){case ue:return function(t,e,i){var n={videoCapabilities:[]};return e.forEach(function(t){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})}),[n]}(0,i);default:throw Error("Unknown key-system: "+t)}}(t,0,i);r?(l.b.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,r).then(function(e){n._onMediaKeySystemAccessObtained(t,e)}).catch(function(e){l.b.error('Failed to obtain key-system "'+t+'" access:',e)})):l.b.warn("Can not create config for key-system (maybe because platform is not supported):",t)},e.prototype._onMediaKeySystemAccessObtained=function(t,e){var i=this;l.b.log('Access for key-system "'+t+'" obtained');var n={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(n),e.createMediaKeys().then(function(e){n.mediaKeys=e,l.b.log('Media-keys created for key-system "'+t+'"'),i._onMediaKeysCreated()}).catch(function(t){l.b.error("Failed to create media-keys:",t)})},e.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},e.prototype._onNewMediaKeySession=function(t){var e=this;l.b.log("New key-system session "+t.sessionId),t.addEventListener("message",function(i){e._onKeySessionMessage(t,i.message)},!1)},e.prototype._onKeySessionMessage=function(t,e){l.b.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){l.b.log("Received license data, updating key-session"),t.update(e)})},e.prototype._onMediaEncrypted=function(t,e){l.b.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},e.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return l.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(o.a.ERROR,{type:a.b.KEY_SYSTEM_ERROR,details:a.a.KEY_SYSTEM_NO_KEYS,fatal:!0});l.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},e.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return l.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(o.a.ERROR,{type:a.b.KEY_SYSTEM_ERROR,details:a.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)l.b.warn("Key-Session already initialized but requested again");else{var i=e.mediaKeysSession;i||(l.b.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(o.a.ERROR,{type:a.b.KEY_SYSTEM_ERROR,details:a.a.KEY_SYSTEM_NO_SESSION,fatal:!0}));var n=this._mediaEncryptionInitDataType,r=this._mediaEncryptionInitData;l.b.log('Generating key-session request for "'+n+'" init data type'),e.mediaKeysSessionInitialized=!0,i.generateRequest(n,r).then(function(){l.b.debug("Key-session generation succeeded")}).catch(function(e){l.b.error("Error generating key-session request:",e),t.hls.trigger(o.a.ERROR,{type:a.b.KEY_SYSTEM_ERROR,details:a.a.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},e.prototype._createLicenseXhr=function(t,e,i){var n=new XMLHttpRequest,r=this._licenseXhrSetup;try{if(r)try{r(n,t)}catch(e){n.open("POST",t,!0),r(n,t)}n.readyState||n.open("POST",t,!0)}catch(t){return l.b.error("Error setting up key-system license XHR",t),void this.hls.trigger(o.a.ERROR,{type:a.b.KEY_SYSTEM_ERROR,details:a.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,t,e,i),n},e.prototype._onLicenseRequestReadyStageChange=function(t,e,i,n){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,l.b.log("License request succeeded"),n(t.response);else{if(l.b.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var r=3-this._requestLicenseFailureCount+1;return l.b.warn("Retrying license request, "+r+" attempts left"),void this._requestLicense(i,n)}this.hls.trigger(o.a.ERROR,{type:a.b.KEY_SYSTEM_ERROR,details:a.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},e.prototype._generateLicenseRequestChallenge=function(t,e){var i=void 0;return"com.microsoft.playready"===t.mediaKeySystemDomain?l.b.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===ue?i=e:l.b.error("Unsupported key-system:",t.mediaKeySystemDomain),i},e.prototype._requestLicense=function(t,e){l.b.log("Requesting content license for key-system");var i=this._mediaKeysList[0];if(!i)return l.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(o.a.ERROR,{type:a.b.KEY_SYSTEM_ERROR,details:a.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});var n=this.getLicenseServerUrl(i.mediaKeySystemDomain),r=this._createLicenseXhr(n,t,e);l.b.log("Sending license request to URL: "+n),r.send(this._generateLicenseRequestChallenge(i,t))},e.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var i=t.media;this._media=i,i.addEventListener("encrypted",function(t){e._onMediaEncrypted(t.initDataType,t.initData)})}},e.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map(function(t){return t.audioCodec}),i=t.levels.map(function(t){return t.videoCodec});this._attemptKeySystemAccess(ue,e,i)}},ce(e,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),e}(h),de={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:vt,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:ht,bufferController:ft,capLevelController:gt,fpsController:mt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null};de.subtitleStreamController=le,de.subtitleTrackController=se,de.timelineController=ie,de.cueHandler=n,de.enableCEA708Captions=!0,de.enableWebVTT=!0,de.captionsTextTrack1Label="English",de.captionsTextTrack1LanguageCode="en",de.captionsTextTrack2Label="Spanish",de.captionsTextTrack2LanguageCode="es",de.audioStreamController=wt,de.audioTrackController=bt,de.emeController=he;var fe=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(12);var pe=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=t.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in i||(i[r]=n[r]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(l.a)(i.debug),this.config=i,this._autoLevelCapping=-1;var s=this.observer=new F.a;s.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];s.emit.apply(s,[t,t].concat(i))},s.off=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];s.removeListener.apply(s,[t].concat(i))},this.on=s.on.bind(s),this.off=s.off.bind(s),this.trigger=s.trigger.bind(s);var a=this.abrController=new i.abrController(this),o=new i.bufferController(this),c=new i.capLevelController(this),u=new i.fpsController(this),h=new P(this),d=new L(this),f=new D(this),p=new ot(this),g=this.levelController=new nt(this),m=new W(this),v=[g,this.streamController=new et(this,m)],y=i.audioStreamController;y&&v.push(new y(this,m)),this.networkControllers=v;var b=[h,d,f,a,o,c,u,p,m];if(y=i.audioTrackController){var _=new y(this);this.audioTrackController=_,b.push(_)}if(y=i.subtitleTrackController){var T=new y(this);this.subtitleTrackController=T,b.push(T)}if(y=i.emeController){var w=new y(this);this.emeController=w,b.push(w)}[i.subtitleStreamController,i.timelineController].forEach(function(t){t&&b.push(new t(e))}),this.coreComponents=b}return t.isSupported=function(){return t=H(),e=window.SourceBuffer||window.WebKitSourceBuffer,i=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove,!!i&&!!n;var t,e,i,n},fe(t,null,[{key:"version",get:function(){return"0.9.1"}},{key:"Events",get:function(){return o.a}},{key:"ErrorTypes",get:function(){return a.b}},{key:"ErrorDetails",get:function(){return a.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:de},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){l.b.log("destroy"),this.trigger(o.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){l.b.log("attachMedia"),this.media=t,this.trigger(o.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){l.b.log("detachMedia"),this.trigger(o.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=s.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),l.b.log("loadSource:"+t),this.url=t,this.trigger(o.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;l.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.prototype.stopLoad=function(){l.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},t.prototype.swapAudioCodec=function(){l.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){l.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},fe(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){l.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){l.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){l.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){l.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){l.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){l.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,i=t?t.length:0,n=0;n<i;n++)if((t[n].realBitrate?Math.max(t[n].realBitrate,t[n].bitrate):t[n].bitrate)>e)return n;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=pe},function(t,e,i){function n(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var n=i(i.s=ENTRY_MODULE);return n.default||n}var r="[\\.|\\-|\\+|\\w|/|@]+",s="\\((/\\*.*?\\*/)?s?.*?("+r+").*?\\)";function a(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,n){var o={};o[n]=[];var l=e.toString(),c=l.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return o;for(var u,h=c[1],d=new RegExp("(\\\\n|\\W)"+a(h)+s,"g");u=d.exec(l);)"dll-reference"!==u[3]&&o[n].push(u[3]);for(d=new RegExp("\\("+a(h)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+s,"g");u=d.exec(l);)t[u[2]]||(o[n].push(u[1]),t[u[2]]=i(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);return o}function l(t){return Object.keys(t).reduce(function(e,i){return e||t[i].length>0},!1)}t.exports=function(t,e){e=e||{};var r={main:i.m},s=e.all?{main:Object.keys(r)}:function(t,e){for(var i={main:[e]},n={main:[]},r={main:{}};l(i);)for(var s=Object.keys(i),a=0;a<s.length;a++){var c=s[a],u=i[c].pop();if(r[c]=r[c]||{},!r[c][u]&&t[c][u]){r[c][u]=!0,n[c]=n[c]||[],n[c].push(u);for(var h=o(t,t[c][u],c),d=Object.keys(h),f=0;f<d.length;f++)i[d[f]]=i[d[f]]||[],i[d[f]]=i[d[f]].concat(h[d[f]])}}return n}(r,t),a="";Object.keys(s).filter(function(t){return"main"!==t}).forEach(function(t){for(var e=0;s[t][e];)e++;s[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map(function(e){return JSON.stringify(e)+": "+r[t][e].toString()}).join(",")+"});\n"}),a=a+"("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map(function(t){return JSON.stringify(t)+": "+r.main[t].toString()}).join(",")+"})(self);";var c=new window.Blob([a],{type:"text/javascript"});if(e.bare)return c;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),h=new window.Worker(u);return h.objectURL=u,h}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(8),r=i(1),s=i(0),a=i(6),o=i.n(a);e.default=function(t){var e=new o.a;e.trigger=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(n))},e.off=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(n))};var i=function(e,i){t.postMessage({event:e,data:i})};t.addEventListener("message",function(r){var a=r.data;switch(a.cmd){case"init":var o=JSON.parse(a.config);t.demuxer=new n.a(e,a.typeSupported,o,a.vendor);try{Object(s.a)(!0===o.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}}),e.on(r.a.FRAG_DECRYPTED,i),e.on(r.a.FRAG_PARSING_INIT_SEGMENT,i),e.on(r.a.FRAG_PARSED,i),e.on(r.a.ERROR,i),e.on(r.a.FRAG_PARSING_METADATA,i),e.on(r.a.FRAG_PARSING_USERDATA,i),e.on(r.a.INIT_PTS_FOUND,i),e.on(r.a.FRAG_PARSING_DATA,function(e,i){var n=[],r={event:e,data:i};i.data1&&(r.data1=i.data1.buffer,n.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,n.push(i.data2.buffer),delete i.data2),t.postMessage(r,n)})}},function(t,e){String.prototype.endsWith||function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),e={}.toString,i=function(t){if(null==this)throw TypeError();var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var n=i.length,r=String(t),s=r.length,a=n;if(arguments.length>1){var o=arguments[1];void 0!==o&&(a=o?Number(o):0)!=a&&(a=0)}var l=Math.min(Math.max(a,0),n)-s;if(l<0)return!1;for(var c=-1;++c<s;)if(i.charCodeAt(l+c)!=r.charCodeAt(c))return!1;return!0};t?t(String.prototype,"endsWith",{value:i,configurable:!0,writable:!0}):String.prototype.endsWith=i}()}]).default},t.exports=n()},function(t,e,i){var n;n=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.m=t,i.c=e,i.p="http://localhost:8080/dist",i(0)}([function(t,e,i){"function"!=typeof Promise&&(window.Promise=i(1));var n={version:"1.0.0",BaseTransition:i(4),BaseView:i(6),BaseCache:i(8),Dispatcher:i(7),HistoryManager:i(9),Pjax:i(10),Prefetch:i(13),Utils:i(5)};t.exports=n},function(t,e,i){(function(e){!function(i){var n=setTimeout;function r(){}var s="function"==typeof e&&e||function(t){n(t,0)},a=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function l(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s(function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){var n;try{n=i(t._value)}catch(t){return void u(e.promise,t)}c(e.promise,n)}else(1===t._state?c:u)(e.promise,t._value)})):t._deferreds.push(e)}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof o)return t._state=3,t._value=e,void h(t);if("function"==typeof i)return void d((n=i,r=e,function(){n.apply(r,arguments)}),t)}t._state=1,t._value=e,h(t)}catch(e){u(t,e)}var n,r}function u(t,e){t._state=2,t._value=e,h(t)}function h(t){2===t._state&&0===t._deferreds.length&&s(function(){t._handled||a(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)l(t,t._deferreds[e]);t._deferreds=null}function d(t,e){var i=!1;try{t(function(t){i||(i=!0,c(e,t))},function(t){i||(i=!0,u(e,t))})}catch(t){if(i)return;i=!0,u(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var i=new this.constructor(r);return l(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(t,e,i)),i},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,i){if(0===e.length)return t([]);var n=e.length;function r(s,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var o=a.then;if("function"==typeof o)return void o.call(a,function(t){r(s,t)},i)}e[s]=a,0==--n&&t(e)}catch(t){i(t)}}for(var s=0;s<e.length;s++)r(s,e[s])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,i){i(t)})},o.race=function(t){return new o(function(e,i){for(var n=0,r=t.length;n<r;n++)t[n].then(e,i)})},o._setImmediateFn=function(t){s=t},o._setUnhandledRejectionFn=function(t){a=t},void 0!==t&&t.exports?t.exports=o:i.Promise||(i.Promise=o)}(this)}).call(e,i(2).setImmediate)},function(t,e,i){(function(t,n){var r=i(3).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,o={},l=0;function c(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new c(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new c(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var i=l++,n=!(arguments.length<2)&&a.call(arguments,1);return o[i]=!0,r(function(){o[i]&&(n?t.apply(null,n):t.call(null),e.clearImmediate(i))}),i},e.clearImmediate="function"==typeof n?n:function(t){delete o[t]}}).call(e,i(2).setImmediate,i(2).clearImmediate)},function(t,e){var i,n,r=t.exports={};!function(){try{i=setTimeout}catch(t){i=function(){throw new Error("setTimeout is not defined")}}try{n=clearTimeout}catch(t){n=function(){throw new Error("clearTimeout is not defined")}}}();var s,a=[],o=!1,l=-1;function c(){o&&s&&(o=!1,s.length?a=s.concat(a):l=-1,a.length&&u())}function u(){if(!o){var t=i(c);o=!0;for(var e=a.length;e;){for(s=a,a=[];++l<e;)s&&s[l].run();l=-1,e=a.length}s=null,o=!1,n(t)}}function h(t,e){this.fun=t,this.array=e}function d(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new h(t,e)),1!==a.length||o||i(u,0)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,i){var n=i(5),r={oldContainer:void 0,newContainer:void 0,newContainerLoading:void 0,extend:function(t){return n.extend(this,t)},init:function(t,e){var i=this;return this.oldContainer=t,this._newContainerPromise=e,this.deferred=n.deferred(),this.newContainerReady=n.deferred(),this.newContainerLoading=this.newContainerReady.promise,this.start(),this._newContainerPromise.then(function(t){i.newContainer=t,i.newContainerReady.resolve()}),this.deferred.promise},done:function(){this.oldContainer.parentNode.removeChild(this.oldContainer),this.newContainer.style.visibility="visible",this.deferred.resolve()},start:function(){}};t.exports=r},function(t,e){var i={getCurrentUrl:function(){return window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search},cleanLink:function(t){return t.replace(/#.*/,"")},xhrTimeout:5e3,xhr:function(t){var e=this.deferred(),i=new XMLHttpRequest;return i.onreadystatechange=function(){if(4===i.readyState)return 200===i.status?e.resolve(i.responseText):e.reject(new Error("xhr: HTTP code is not 200"))},i.ontimeout=function(){return e.reject(new Error("xhr: Timeout exceeded"))},i.open("GET",t),i.timeout=this.xhrTimeout,i.setRequestHeader("x-barba","yes"),i.send(),e.promise},extend:function(t,e){var i=Object.create(t);for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},deferred:function(){return new function(){this.resolve=null,this.reject=null,this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this))}},getPort:function(t){var e=void 0!==t?t:window.location.port,i=window.location.protocol;return""!=e?parseInt(e):"http:"===i?80:"https:"===i?443:void 0}};t.exports=i},function(t,e,i){var n=i(7),r=i(5),s={namespace:null,extend:function(t){return r.extend(this,t)},init:function(){var t=this;n.on("initStateChange",function(e,i){i&&i.namespace===t.namespace&&t.onLeave()}),n.on("newPageReady",function(e,i,n){t.container=n,e.namespace===t.namespace&&t.onEnter()}),n.on("transitionCompleted",function(e,i){e.namespace===t.namespace&&t.onEnterCompleted(),i&&i.namespace===t.namespace&&t.onLeaveCompleted()})},onEnter:function(){},onEnterCompleted:function(){},onLeave:function(){},onLeaveCompleted:function(){}};t.exports=s},function(t,e){var i={events:{},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){t in this.events!=0&&this.events[t].splice(this.events[t].indexOf(e),1)},trigger:function(t){if(t in this.events!=0)for(var e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}};t.exports=i},function(t,e,i){var n=i(5),r={data:{},extend:function(t){return n.extend(this,t)},set:function(t,e){this.data[t]=e},get:function(t){return this.data[t]},reset:function(){this.data={}}};t.exports=r},function(t,e){t.exports={history:[],add:function(t,e){e||(e=void 0),this.history.push({url:t,namespace:e})},currentStatus:function(){return this.history[this.history.length-1]},prevStatus:function(){var t=this.history;return t.length<2?null:t[t.length-2]}}},function(t,e,i){var n=i(5),r=i(7),s=i(11),a=i(8),o=i(9),l={Dom:i(12),History:o,Cache:a,cacheEnabled:!0,transitionProgress:!1,ignoreClassLink:"no-barba",start:function(){this.init()},init:function(){var t=this.Dom.getContainer();this.Dom.getWrapper().setAttribute("aria-live","polite"),this.History.add(this.getCurrentUrl(),this.Dom.getNamespace(t)),r.trigger("initStateChange",this.History.currentStatus()),r.trigger("newPageReady",this.History.currentStatus(),{},t,this.Dom.currentHTML),r.trigger("transitionCompleted",this.History.currentStatus()),this.bindEvents()},bindEvents:function(){document.addEventListener("click",this.onLinkClick.bind(this)),window.addEventListener("popstate",this.onStateChange.bind(this))},getCurrentUrl:function(){return n.cleanLink(n.getCurrentUrl())},goTo:function(t){window.history.pushState(null,null,t),this.onStateChange()},forceGoTo:function(t){window.location=t},load:function(t){var e,i=n.deferred(),r=this;return(e=this.Cache.get(t))||(e=n.xhr(t),this.Cache.set(t,e)),e.then(function(t){var e=r.Dom.parseResponse(t);r.Dom.putContainer(e),r.cacheEnabled||r.Cache.reset(),i.resolve(e)},function(){r.forceGoTo(t),i.reject()}),i.promise},getHref:function(t){if(t)return t.getAttribute&&"string"==typeof t.getAttribute("xlink:href")?t.getAttribute("xlink:href"):"string"==typeof t.href?t.href:void 0},onLinkClick:function(t){for(var e=t.target;e&&!this.getHref(e);)e=e.parentNode;if(this.preventCheck(t,e)){t.stopPropagation(),t.preventDefault(),r.trigger("linkClicked",e,t);var i=this.getHref(e);this.goTo(i)}},preventCheck:function(t,e){if(!window.history.pushState)return!1;var i=this.getHref(e);return!(!e||!i||t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||e.target&&"_blank"===e.target||window.location.protocol!==e.protocol||window.location.hostname!==e.hostname||n.getPort()!==n.getPort(e.port)||i.indexOf("#")>-1||e.getAttribute&&"string"==typeof e.getAttribute("download")||n.cleanLink(i)==n.cleanLink(location.href)||e.classList.contains(this.ignoreClassLink))},getTransition:function(){return s},onStateChange:function(){var t=this.getCurrentUrl();if(this.transitionProgress&&this.forceGoTo(t),this.History.currentStatus().url===t)return!1;this.History.add(t);var e=this.load(t),i=Object.create(this.getTransition());this.transitionProgress=!0,r.trigger("initStateChange",this.History.currentStatus(),this.History.prevStatus());var n=i.init(this.Dom.getContainer(),e);e.then(this.onNewContainerLoaded.bind(this)),n.then(this.onTransitionEnd.bind(this))},onNewContainerLoaded:function(t){this.History.currentStatus().namespace=this.Dom.getNamespace(t),r.trigger("newPageReady",this.History.currentStatus(),this.History.prevStatus(),t,this.Dom.currentHTML)},onTransitionEnd:function(){this.transitionProgress=!1,r.trigger("transitionCompleted",this.History.currentStatus(),this.History.prevStatus())}};t.exports=l},function(t,e,i){var n=i(4).extend({start:function(){this.newContainerLoading.then(this.finish.bind(this))},finish:function(){document.body.scrollTop=0,this.done()}});t.exports=n},function(t,e){var i={dataNamespace:"namespace",wrapperId:"barba-wrapper",containerClass:"barba-container",currentHTML:document.documentElement.innerHTML,parseResponse:function(t){this.currentHTML=t;var e=document.createElement("div");e.innerHTML=t;var i=e.querySelector("title");return i&&(document.title=i.textContent),this.getContainer(e)},getWrapper:function(){var t=document.getElementById(this.wrapperId);if(!t)throw new Error("Barba.js: wrapper not found!");return t},getContainer:function(t){if(t||(t=document.body),!t)throw new Error("Barba.js: DOM not ready!");var e=this.parseContainer(t);if(e&&e.jquery&&(e=e[0]),!e)throw new Error("Barba.js: no container found");return e},getNamespace:function(t){return t&&t.dataset?t.dataset[this.dataNamespace]:t?t.getAttribute("data-"+this.dataNamespace):null},putContainer:function(t){t.style.visibility="hidden",this.getWrapper().appendChild(t)},parseContainer:function(t){return t.querySelector("."+this.containerClass)}};t.exports=i},function(t,e,i){var n=i(5),r=i(10),s={ignoreClassLink:"no-barba-prefetch",init:function(){if(!window.history.pushState)return!1;document.body.addEventListener("mouseover",this.onLinkEnter.bind(this)),document.body.addEventListener("touchstart",this.onLinkEnter.bind(this))},onLinkEnter:function(t){for(var e=t.target;e&&!r.getHref(e);)e=e.parentNode;if(e&&!e.classList.contains(this.ignoreClassLink)){var i=r.getHref(e);if(r.preventCheck(t,e)&&!r.Cache.get(i)){var s=n.xhr(i);r.Cache.set(i,s)}}}};t.exports=s}])},t.exports=n()},function(t,e,i){(function(e,i){t.exports=function(){"use strict";var t={html5:"html5",youtube:"youtube",vimeo:"vimeo"},n={audio:"audio",video:"video"},r={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,showPosterOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.2.1/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240,"default"]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:(navigator.language||navigator.userLanguage).split("-")[0]},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime} secs",play:"Play",pause:"Pause",fastForward:"Forward {seektime} secs",seek:"Seek",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad"},urls:{vimeo:{api:"https://player.vimeo.com/api/player.js"},youtube:{api:"https://www.youtube.com/iframe_api"},googleIMA:{api:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","qualityrequested","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress--buffer",played:".plyr__progress--played",loop:".plyr__progress--loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{video:"plyr__video-wrapper",embed:"plyr__video-embed",ads:"plyr__ads",control:"plyr__control",type:"plyr--{0}",provider:"plyr--{0}",stopped:"plyr--stopped",playing:"plyr--playing",loading:"plyr--loading",error:"plyr--has-error",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:""}};"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var s,a,o=(function(t,e){var i;i=function(){var t=function(){},e={},i={},n={};function r(t,e){if(t){var r=n[t];if(i[t]=e,r)for(;r.length;)r[0](t,e),r.splice(0,1)}}function s(e,i){e.call&&(e={success:e}),i.length?(e.error||t)(i):(e.success||t)(e)}function a(e,i,n,r){var s,o,l=document,c=n.async,u=(n.numRetries||0)+1,h=n.before||t,d=e.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(e)?(s=!0,(o=l.createElement("link")).rel="stylesheet",o.href=d):/(^img!|\.(png|gif|jpg|svg)$)/.test(e)?(o=l.createElement("img")).src=d:((o=l.createElement("script")).src=e,o.async=void 0===c||c),o.onload=o.onerror=o.onbeforeload=function(t){var l=t.type[0];if(s&&"hideFocus"in o)try{o.sheet.cssText.length||(l="e")}catch(t){l="e"}if("e"==l&&(r+=1)<u)return a(e,i,n,r);i(e,l,t.defaultPrevented)},!1!==h(e,o)&&l.head.appendChild(o)}function o(t,i,n){var o,l;if(i&&i.trim&&(o=i),l=(o?n:i)||{},o){if(o in e)throw"LoadJS";e[o]=!0}!function(t,e,i){var n,r,s=(t=t.push?t:[t]).length,o=s,l=[];for(n=function(t,i,n){if("e"==i&&l.push(t),"b"==i){if(!n)return;l.push(t)}--s||e(l)},r=0;r<o;r++)a(t[r],n,i)}(t,function(t){s(l,t),r(o,t)},l)}return o.ready=function(t,e){return function(t,e){var r,s,a,o=[],l=(t=t.push?t:[t]).length,c=l;for(r=function(t,i){i.length&&o.push(t),--c||e(o)};l--;)s=t[l],(a=i[s])?r(s,a):(n[s]=n[s]||[]).push(r)}(t,function(t){s(e,t)}),o},o.done=function(t){r(t,[])},o.reset=function(){e={},i={},n={}},o.isDefined=function(t){return t in e},o},(s={exports:{}}).exports=i()}(),s.exports),l=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},h=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d={is:{plyr:function(t){return this.instanceof(t,window.Plyr)},object:function(t){return this.getConstructor(t)===Object},number:function(t){return this.getConstructor(t)===Number&&!Number.isNaN(t)},string:function(t){return this.getConstructor(t)===String},boolean:function(t){return this.getConstructor(t)===Boolean},function:function(t){return this.getConstructor(t)===Function},array:function(t){return!this.nullOrUndefined(t)&&Array.isArray(t)},weakMap:function(t){return this.instanceof(t,window.WeakMap)},nodeList:function(t){return this.instanceof(t,window.NodeList)},element:function(t){return this.instanceof(t,window.Element)},textNode:function(t){return this.getConstructor(t)===Text},event:function(t){return this.instanceof(t,window.Event)},cue:function(t){return this.instanceof(t,window.TextTrackCue)||this.instanceof(t,window.VTTCue)},track:function(t){return this.instanceof(t,TextTrack)||!this.nullOrUndefined(t)&&this.string(t.kind)},url:function(t){return!this.nullOrUndefined(t)&&/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/.test(t)},nullOrUndefined:function(t){return null===t||void 0===t},empty:function(t){return this.nullOrUndefined(t)||(this.string(t)||this.array(t)||this.nodeList(t))&&!t.length||this.object(t)&&!Object.keys(t).length},instanceof:function(t,e){return Boolean(t&&e&&t instanceof e)},getConstructor:function(t){return this.nullOrUndefined(t)?null:t.constructor}},getBrowser:function(){return{isIE:!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)}},fetch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(i,n){try{var r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",function(){if("text"===e)try{i(JSON.parse(r.responseText))}catch(t){i(r.responseText)}else i(r.response)}),r.addEventListener("error",function(){throw new Error(r.statusText)}),r.open("GET",t,!0),r.responseType=e,r.send()}catch(t){n(t)}})},loadScript:function(t){return new Promise(function(e,i){o(t,{success:e,error:i})})},loadSprite:function(t,e){if(d.is.string(t)){var i=d.is.string(e),n=function(){return document.querySelectorAll("#"+e).length};if(!i||!n()){var r=document.createElement("div");if(d.toggleHidden(r,!0),i&&r.setAttribute("id",e),f.storage){var s=window.localStorage.getItem("cache-"+e);if(null!==s){var a=JSON.parse(s);return void o.call(r,a.content)}}d.fetch(t).then(function(t){d.is.empty(t)||(f.storage&&window.localStorage.setItem("cache-"+e,JSON.stringify({content:t})),o.call(r,t))}).catch(function(){})}}function o(t){i&&n()||(this.innerHTML=t,document.body.insertBefore(this,document.body.childNodes[0]))}},generateId:function(t){return t+"-"+Math.floor(1e4*Math.random())},wrap:function(t,e){var i=t.length?t:[t];Array.from(i).reverse().forEach(function(t,i){var n=i>0?e.cloneNode(!0):e,r=t.parentNode,s=t.nextSibling;n.appendChild(t),s?r.insertBefore(n,s):r.appendChild(n)})},createElement:function(t,e,i){var n=document.createElement(t);return d.is.object(e)&&d.setAttributes(n,e),d.is.string(i)&&(n.textContent=i),n},insertAfter:function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},insertElement:function(t,e,i,n){e.appendChild(d.createElement(t,i,n))},removeElement:function(t){d.is.element(t)&&d.is.element(t.parentNode)&&(d.is.nodeList(t)||d.is.array(t)?Array.from(t).forEach(d.removeElement):t.parentNode.removeChild(t))},emptyElement:function(t){for(var e=t.childNodes.length;e>0;)t.removeChild(t.lastChild),e-=1},replaceElement:function(t,e){return d.is.element(e)&&d.is.element(e.parentNode)&&d.is.element(t)?(e.parentNode.replaceChild(t,e),t):null},setAttributes:function(t,e){d.is.element(t)&&!d.is.empty(e)&&Object.entries(e).forEach(function(e){var i=h(e,2),n=i[0],r=i[1];t.setAttribute(n,r)})},getAttributesFromSelector:function(t,e){if(!d.is.string(t)||d.is.empty(t))return{};var i={},n=e;return t.split(",").forEach(function(t){var e=t.trim(),r=e.replace(".",""),s=e.replace(/[[\]]/g,"").split("="),a=s[0],o=s.length>1?s[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":d.is.object(n)&&d.is.string(n.class)&&(n.class+=" "+r),i.class=r;break;case"#":i.id=e.replace("#","");break;case"[":i[a]=o}}),i},toggleClass:function(t,e,i){if(d.is.element(t)){var n=t.classList.contains(e);return t.classList[i?"add":"remove"](e),i&&!n||!i&&n}return null},hasClass:function(t,e){return d.is.element(t)&&t.classList.contains(e)},toggleHidden:function(t,e){d.is.element(t)&&(e?t.setAttribute("hidden",""):t.removeAttribute("hidden"))},matches:function(t,e){var i={Element:Element};return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)},getElements:function(t){return this.elements.container.querySelectorAll(t)},getElement:function(t){return this.elements.container.querySelector(t)},findElements:function(){try{return this.elements.controls=d.getElement.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:d.getElements.call(this,this.config.selectors.buttons.play),pause:d.getElement.call(this,this.config.selectors.buttons.pause),restart:d.getElement.call(this,this.config.selectors.buttons.restart),rewind:d.getElement.call(this,this.config.selectors.buttons.rewind),fastForward:d.getElement.call(this,this.config.selectors.buttons.fastForward),mute:d.getElement.call(this,this.config.selectors.buttons.mute),pip:d.getElement.call(this,this.config.selectors.buttons.pip),airplay:d.getElement.call(this,this.config.selectors.buttons.airplay),settings:d.getElement.call(this,this.config.selectors.buttons.settings),captions:d.getElement.call(this,this.config.selectors.buttons.captions),fullscreen:d.getElement.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=d.getElement.call(this,this.config.selectors.progress),this.elements.inputs={seek:d.getElement.call(this,this.config.selectors.inputs.seek),volume:d.getElement.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:d.getElement.call(this,this.config.selectors.display.buffer),duration:d.getElement.call(this,this.config.selectors.display.duration),currentTime:d.getElement.call(this,this.config.selectors.display.currentTime)},d.is.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},getFocusElement:function(){var t=document.activeElement;return t&&t!==document.body?document.querySelector(":focus"):null},trapFocus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d.is.element(t)){var i=d.getElements.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=i[0],r=i[i.length-1],s=function(t){if("Tab"===t.key&&9===t.keyCode){var e=d.getFocusElement();e!==r||t.shiftKey?e===n&&t.shiftKey&&(r.focus(),t.preventDefault()):(n.focus(),t.preventDefault())}};e?d.on(this.elements.container,"keydown",s,!1):d.off(this.elements.container,"keydown",s,!1)}},toggleListener:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!d.is.empty(t)&&!d.is.empty(e)&&d.is.function(i))if(d.is.nodeList(t)||d.is.array(t))Array.from(t).forEach(function(t){t instanceof Node&&d.toggleListener.call(null,t,e,i,n,r,s)});else{var a=e.split(" "),o=s;f.passiveListeners&&(o={passive:r,capture:s}),a.forEach(function(e){t[n?"addEventListener":"removeEventListener"](e,i,o)})}},on:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d.toggleListener(t,e,i,!0,n,r)},off:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d.toggleListener(t,e,i,!1,n,r)},dispatchEvent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(d.is.element(t)&&!d.is.empty(e)){var r=new CustomEvent(e,{bubbles:i,detail:Object.assign({},n,{plyr:d.is.plyr(this)?this:null})});t.dispatchEvent(r)}},toggleState:function(t,e){if(d.is.array(t)||d.is.nodeList(t))Array.from(t).forEach(function(t){return d.toggleState(t,e)});else if(d.is.element(t)){var i="true"===t.getAttribute("aria-pressed"),n=d.is.boolean(e)?e:!i;t.setAttribute("aria-pressed",n)}},getPercentage:function(t,e){return 0===t||0===e||Number.isNaN(t)||Number.isNaN(e)?0:(t/e*100).toFixed(2)},getHours:function(t){return parseInt(t/60/60%60,10)},getMinutes:function(t){return parseInt(t/60%60,10)},getSeconds:function(t){return parseInt(t%60,10)},formatTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!d.is.number(t))return this.formatTime(null,e,i);var n=function(t){return("0"+t).slice(-2)},r=this.getHours(t),s=this.getMinutes(t),a=this.getSeconds(t);return e||r>0?r+=":":r="",(i?"-":"")+r+n(s)+":"+n(a)},replaceAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString())},toTitleCase:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},toPascalCase:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return t=d.replaceAll(t,"-"," "),t=d.replaceAll(t,"_"," "),t=d.toTitleCase(t),d.replaceAll(t," ","")},toCamelCase:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(t=d.toPascalCase(t)).charAt(0).toLowerCase()+t.slice(1)},extend:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length)return t;var r=i.shift();return d.is.object(r)?(Object.keys(r).forEach(function(e){d.is.object(r[e])?(Object.keys(t).includes(e)||Object.assign(t,u({},e,{})),d.extend(t[e],r[e])):Object.assign(t,u({},e,r[e]))}),d.extend.apply(d,[t].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(i)))):t},dedupe:function(t){return d.is.array(t)?t.filter(function(e,i){return t.indexOf(e)===i}):t},closest:function(t,e){return d.is.array(t)&&t.length?t.reduce(function(t,i){return Math.abs(i-e)<Math.abs(t-e)?i:t}):null},getProviderByUrl:function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(e)?t.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{8,}(?=\b|\/)/.test(e)?t.vimeo:null},parseYouTubeId:function(t){return d.is.empty(t)?null:t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:t},parseVimeoId:function(t){return d.is.empty(t)?null:d.is.number(Number(t))?t:t.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:t},parseUrl:function(t){var e=document.createElement("a");return e.href=t,e},getUrlParams:function(t){var e=t;return(t.startsWith("http://")||t.startsWith("https://"))&&(e=this.parseUrl(t).search),this.is.empty(e)?null:e.slice(e.indexOf("?")+1).split("&").reduce(function(t,e){var i=e.split("="),n=h(i,2),r=n[0],s=n[1];return Object.assign(t,u({},r,decodeURIComponent(s)))},{})},buildUrlParams:function(t){return d.is.object(t)?Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"):""},stripHTML:function(t){var e=document.createDocumentFragment(),i=document.createElement("div");return e.appendChild(i),i.innerHTML=t,e.firstChild.innerText},getAspectRatio:function(t,e){var i=function t(e,i){return 0===i?e:t(i,e%i)}(t,e);return t/i+":"+e/i},get transitionEndEvent(){var t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(e).find(function(e){return void 0!==t.style[e]});return!!d.is.string(i)&&e[i]},repaint:function(t){setTimeout(function(){d.toggleHidden(t,!0),t.offsetHeight,d.toggleHidden(t,!1)},0)}},f={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(t,e,i){var n=!1,r=!1,s=d.getBrowser(),a=s.isIPhone&&i&&f.playsinline;switch(e+":"+t){case"html5:video":r=(n=f.video)&&f.rangeInput&&(!s.isIPhone||a);break;case"html5:audio":r=(n=f.audio)&&f.rangeInput;break;case"youtube:video":case"vimeo:video":n=!0,r=f.rangeInput&&(!s.isIPhone||a);break;default:r=(n=f.audio&&f.video)&&f.rangeInput}return{api:n,ui:r}},pip:!d.getBrowser().isIPhone&&d.is.function(d.createElement("video").webkitSetPresentationMode),airplay:d.is.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(t){var e=this.media;try{if(!this.isHTML5||!d.is.function(e.canPlayType))return!1;if(t.includes("codecs="))return e.canPlayType(t).replace(/no/,"");if(this.isVideo)switch(t){case"video/webm":return e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,"");case"video/mp4":return e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"");case"video/ogg":return e.canPlayType('video/ogg; codecs="theora"').replace(/no/,"");default:return!1}else if(this.isAudio)switch(t){case"audio/mpeg":return e.canPlayType("audio/mpeg;").replace(/no/,"");case"audio/ogg":return e.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"");case"audio/wav":return e.canPlayType('audio/wav; codecs="1"').replace(/no/,"");default:return!1}}catch(t){return!1}return!1},textTracks:"textTracks"in document.createElement("video"),passiveListeners:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,null}});window.addEventListener("test",null,e)}catch(t){}return t}(),rangeInput:(a=document.createElement("input"),a.type="range","range"===a.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==d.transitionEndEvent,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},p=function(){},g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(this,t),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}return c(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):p}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):p}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):p}}]),t}(),m=d.getBrowser();function v(){if(this.enabled){var t=this.player.elements.buttons.fullscreen;d.is.element(t)&&d.toggleState(t,this.active),d.dispatchEvent(this.target,this.active?"enterfullscreen":"exitfullscreen",!0),m.isIos||d.trapFocus.call(this.player,this.target,this.active)}}function y(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",d.toggleClass(this.target,this.player.config.classNames.fullscreen.fallback,t),v.call(this)}var b=function(){function t(e){var i=this;l(this,t),this.player=e,this.prefix=t.prefix,this.name=t.name,this.scrollPosition={x:0,y:0},d.on(document,"ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",function(){v.call(i)}),d.on(this.player.elements.container,"dblclick",function(t){i.player.elements.controls.contains(t.target)||i.toggle()}),this.update()}return c(t,[{key:"update",value:function(){this.enabled?this.player.debug.log((t.native?"Native":"Fallback")+" fullscreen enabled"):this.player.debug.log("Fullscreen not supported and fallback disabled"),d.toggleClass(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(m.isIos&&this.player.config.fullscreen.iosNative?this.player.playing&&this.target.webkitEnterFullscreen():t.native?this.prefix?d.is.empty(this.prefix)||this.target[this.prefix+"Request"+this.name]():this.target.requestFullscreen():y.call(this,!0))}},{key:"exit",value:function(){if(this.enabled)if(m.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(t.native)if(this.prefix){if(!d.is.empty(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document[""+this.prefix+e+this.name]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document);else y.call(this,!1)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(t.native?(this.prefix?document[""+this.prefix+this.name+"Element"]:document.fullscreenElement)===this.target:d.hasClass(this.target,this.player.config.classNames.fullscreen.fallback))}},{key:"target",get:function(){return m.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(d.is.function(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!d.is.function(document[e+"ExitFullscreen"])&&!d.is.function(document[e+"CancelFullScreen"])||(t=e,0))}),t}},{key:"name",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}(),_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(d.is.empty(t)||d.is.empty(e)||!Object.keys(e.i18n).includes(t))return"";var i=e.i18n[t],n={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(n).forEach(function(t){var e=h(t,2),n=e[0],r=e[1];i=d.replaceAll(i,n,r)}),i},T={setup:function(){if(this.supported.ui){var t=this.storage.get("language");if(d.is.empty(t)||(this.captions.language=t),d.is.empty(this.captions.language)&&(this.captions.language=this.config.captions.language.toLowerCase()),!d.is.boolean(this.captions.active)){var e=this.storage.get("captions");d.is.boolean(e)?this.captions.active=e:this.captions.active=this.config.captions.active}if(!this.isVideo||this.isYouTube||this.isHTML5&&!f.textTracks)d.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&x.setCaptionsMenu.call(this);else{d.is.element(this.elements.captions)||(this.elements.captions=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.captions)),d.insertAfter(this.elements.captions,this.elements.wrapper)),d.toggleClass(this.elements.container,this.config.classNames.captions.enabled,!d.is.empty(T.getTracks.call(this)));var i=T.getTracks.call(this);if(!d.is.empty(i)){if(d.getBrowser().isIE&&window.URL){var n=this.media.querySelectorAll("track");Array.from(n).forEach(function(t){var e=t.getAttribute("src"),i=d.parseUrl(e);i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&d.fetch(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){d.removeElement(t)})})}T.setLanguage.call(this),T.show.call(this),d.is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&x.setCaptionsMenu.call(this)}}}},setLanguage:function(){var t=this;if(this.isHTML5&&this.isVideo){T.getTracks.call(this).forEach(function(e){d.on(e,"cuechange",function(e){return T.setCue.call(t,e)}),e.mode="hidden"});var e=T.getCurrentTrack.call(this);d.is.track(e)&&Array.from(e.activeCues||[]).length&&T.setCue.call(this,e)}else this.isVimeo&&this.captions.active&&this.embed.enableTextTrack(this.language)},getTracks:function(){return d.is.nullOrUndefined(this.media)?[]:Array.from(this.media.textTracks||[]).filter(function(t){return["captions","subtitles"].includes(t.kind)})},getCurrentTrack:function(){var t=this,e=T.getTracks.call(this);if(!e.length)return null;var i=e.find(function(e){return e.language.toLowerCase()===t.language});return i||(i=d.getElement.call(this,"track[default]")),i||(i=h(e,1)[0]),i},getLabel:function(t){var e=t;return!d.is.track(e)&&f.textTracks&&this.captions.active&&(e=T.getCurrentTrack.call(this)),d.is.track(e)?d.is.empty(e.label)?d.is.empty(e.language)?_("enabled",this.config):t.language.toUpperCase():e.label:_("disabled",this.config)},setCue:function(t){var e=d.is.event(t)?t.target:t,i=e.activeCues,n=i.length&&i[0];e===T.getCurrentTrack.call(this)&&(d.is.cue(n)?T.setText.call(this,n.getCueAsHTML()):T.setText.call(this,null),d.dispatchEvent.call(this,this.media,"cuechange"))},setText:function(t){if(this.supported.ui)if(d.is.element(this.elements.captions)){var e=d.createElement("span");d.emptyElement(this.elements.captions);var i=d.is.nullOrUndefined(t)?"":t;d.is.string(i)?e.textContent=i.trim():e.appendChild(i),this.elements.captions.appendChild(e)}else this.debug.warn("No captions element to render to")},show:function(){var t=this.storage.get("captions");d.is.boolean(t)?this.captions.active=t:t=this.config.captions.active,t&&(d.toggleClass(this.elements.container,this.config.classNames.captions.active,!0),d.toggleState(this.elements.buttons.captions,!0))}},w={addStyleHook:function(){d.toggleClass(this.elements.container,this.config.selectors.container.replace(".",""),!0),d.toggleClass(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var t=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for "+this.provider+" "+this.type),void w.toggleNativeControls.call(this,!0);d.is.element(this.elements.controls)||(x.inject.call(this),this.listeners.controls()),d.is.element(this.elements.controls)&&(w.toggleNativeControls.call(this),T.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,w.updateVolume.call(this),w.timeUpdate.call(this),w.checkPlaying.call(this),this.ready=!0,setTimeout(function(){d.dispatchEvent.call(t,t.media,"ready")},0),w.setTitle.call(this))},setTitle:function(){var t=_("play",this.config);if(d.is.string(this.config.title)&&!d.is.empty(this.config.title)&&(t+=", "+this.config.title,this.elements.container.setAttribute("aria-label",this.config.title)),d.is.nodeList(this.elements.buttons.play)&&Array.from(this.elements.buttons.play).forEach(function(e){e.setAttribute("aria-label",t)}),this.isEmbed){var e=d.getElement.call(this,"iframe");if(!d.is.element(e))return;d.is.empty(this.config.title)||this.config.title,e.setAttribute("title",_("frameTitle",this.config))}},checkPlaying:function(){d.toggleClass(this.elements.container,this.config.classNames.playing,this.playing),d.toggleClass(this.elements.container,this.config.classNames.stopped,this.paused),d.toggleState(this.elements.buttons.play,this.playing),this.toggleControls(!this.playing)},checkLoading:function(t){var e=this;this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){d.toggleClass(e.elements.container,e.config.classNames.loading,e.loading),e.toggleControls(e.loading)},this.loading?250:0)},checkFailed:function(){var t=this;this.failed=3===this.media.networkState,this.failed&&(d.toggleClass(this.elements.container,this.config.classNames.loading,!1),d.toggleClass(this.elements.container,this.config.classNames.error,!0)),clearTimeout(this.timers.failed),this.timers.loading=setTimeout(function(){d.toggleClass(t.elements.container,t.config.classNames.loading,t.loading),t.toggleControls(t.loading)},this.loading?250:0)},updateVolume:function(){this.supported.ui&&(d.is.element(this.elements.inputs.volume)&&w.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),d.is.element(this.elements.buttons.mute)&&d.toggleState(this.elements.buttons.mute,this.muted||0===this.volume))},setRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d.is.element(t)&&(t.value=e,x.updateRangeFill.call(this,t))},setProgress:function(t,e){var i=d.is.number(e)?e:0,n=d.is.element(t)?t:this.elements.display.buffer;if(d.is.element(n)){n.value=i;var r=n.getElementsByTagName("span")[0];d.is.element(r)&&(r.childNodes[0].nodeValue=i)}},updateProgress:function(t){if(this.supported.ui&&d.is.event(t)){var e=0;if(t)switch(t.type){case"timeupdate":case"seeking":e=d.getPercentage(this.currentTime,this.duration),"timeupdate"===t.type&&w.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":w.setProgress.call(this,this.elements.display.buffer,100*this.buffered)}}},updateTimeDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(d.is.element(t)&&d.is.number(e)){var n=d.getHours(this.duration)>0;t.textContent=d.formatTime(e,n,i)}},timeUpdate:function(t){var e=!d.is.element(this.elements.display.duration)&&this.config.invertTime;w.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&"timeupdate"===t.type&&this.media.seeking||w.updateProgress.call(this,t)},durationUpdate:function(){if(this.supported.ui){var t=d.is.element(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&w.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&w.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),x.updateSeekTooltip.call(this)}}},E={getSources:function(){return this.isHTML5?this.media.querySelectorAll("source"):null},getQualityOptions:function(){if(!this.isHTML5)return null;var t=E.getSources.call(this);if(d.is.empty(t))return null;var e=Array.from(t).filter(function(t){return!d.is.empty(t.getAttribute("size"))});return d.is.empty(e)?null:d.dedupe(e.map(function(t){return Number(t.getAttribute("size"))}))},extend:function(){if(this.isHTML5){var t=this;Object.defineProperty(t.media,"quality",{get:function(){var e=E.getSources.call(t);if(d.is.empty(e))return null;var i=Array.from(e).filter(function(e){return e.getAttribute("src")===t.source});return d.is.empty(i)?null:Number(i[0].getAttribute("size"))},set:function(e){var i=E.getSources.call(t);if(!d.is.empty(i)){var n=Array.from(i).filter(function(t){return Number(t.getAttribute("size"))===e});if(!d.is.empty(n)){var r=n.filter(function(e){return f.mime.call(t,e.getAttribute("type"))});if(!d.is.empty(r)){d.dispatchEvent.call(t,t.media,"qualityrequested",!1,{quality:e});var s=t.currentTime,a=t.playing;t.media.src=r[0].getAttribute("src"),t.media.load(),a&&t.play(),t.currentTime=s,d.dispatchEvent.call(t,t.media,"qualitychange",!1,{quality:e})}}}}})}},cancelRequests:function(){this.isHTML5&&(d.removeElement(E.getSources()),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},S=d.getBrowser(),x={updateRangeFill:function(t){var e=d.is.event(t)?t.target:t;d.is.element(e)&&"range"===e.getAttribute("type")&&(e.setAttribute("aria-valuenow",e.value),S.isWebkit&&e.style.setProperty("--value",e.value/e.max*100+"%"))},getIconUrl:function(){return{url:this.config.iconUrl,absolute:0===this.config.iconUrl.indexOf("http")||S.isIE&&!window.svg4everybody}},createIcon:function(t,e){var i=x.getIconUrl.call(this),n=(i.absolute?"":i.url)+"#"+this.config.iconPrefix,r=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributes(r,d.extend(e,{role:"presentation",focusable:"false"}));var s=document.createElementNS("http://www.w3.org/2000/svg","use"),a=n+"-"+t;return"href"in s?s.setAttributeNS("http://www.w3.org/1999/xlink","href",a):s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),r.appendChild(s),r},createLabel:function(t,e){var i=_(t,this.config),n=Object.assign({},e);switch(t){case"pip":i="PIP";break;case"airplay":i="AirPlay"}return"class"in n?n.class+=" "+this.config.classNames.hidden:n.class=this.config.classNames.hidden,d.createElement("span",n,i)},createBadge:function(t){if(d.is.empty(t))return null;var e=d.createElement("span",{class:this.config.classNames.menu.value});return e.appendChild(d.createElement("span",{class:this.config.classNames.menu.badge},t)),e},createButton:function(t,e){var i=d.createElement("button"),n=Object.assign({},e),r=d.toCamelCase(t),s=!1,a=void 0,o=void 0,l=void 0,c=void 0;switch("type"in n||(n.type="button"),"class"in n?n.class.includes(this.config.classNames.control)&&(n.class+=" "+this.config.classNames.control):n.class=this.config.classNames.control,t){case"play":s=!0,a="play",l="pause",o="play",c="pause";break;case"mute":s=!0,a="mute",l="unmute",o="volume",c="muted";break;case"captions":s=!0,a="enableCaptions",l="disableCaptions",o="captions-off",c="captions-on";break;case"fullscreen":s=!0,a="enterFullscreen",l="exitFullscreen",o="enter-fullscreen",c="exit-fullscreen";break;case"play-large":n.class+=" "+this.config.classNames.control+"--overlaid",r="play",a="play",o="play";break;default:a=r,o=t}return s?(i.appendChild(x.createIcon.call(this,c,{class:"icon--pressed"})),i.appendChild(x.createIcon.call(this,o,{class:"icon--not-pressed"})),i.appendChild(x.createLabel.call(this,l,{class:"label--pressed"})),i.appendChild(x.createLabel.call(this,a,{class:"label--not-pressed"})),n["aria-pressed"]=!1,n["aria-label"]=_(a,this.config)):(i.appendChild(x.createIcon.call(this,o)),i.appendChild(x.createLabel.call(this,a))),d.extend(n,d.getAttributesFromSelector(this.config.selectors.buttons[r],n)),d.setAttributes(i,n),"play"===r?(d.is.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(i)):this.elements.buttons[r]=i,i},createRange:function(t,e){var i=d.createElement("label",{for:e.id,id:e.id+"-label",class:this.config.classNames.hidden},_(t,this.config)),n=d.createElement("input",d.extend(d.getAttributesFromSelector(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-labelledby":e.id+"-label","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=n,x.updateRangeFill.call(this,n),{label:i,input:n}},createProgress:function(t,e){var i=d.createElement("progress",d.extend(d.getAttributesFromSelector(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"presentation","aria-hidden":!0},e));if("volume"!==t){i.appendChild(d.createElement("span",null,"0"));var n="";switch(t){case"played":n=_("played",this.config);break;case"buffer":n=_("buffered",this.config)}i.textContent="% "+n.toLowerCase()}return this.elements.display[t]=i,i},createTime:function(t){var e=d.createElement("div",{class:"plyr__time"});return e.appendChild(d.createElement("span",{class:this.config.classNames.hidden},_(t,this.config))),e.appendChild(d.createElement("span",d.getAttributesFromSelector(this.config.selectors.display[t]),"00:00")),this.elements.display[t]=e,e},createMenuItem:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=d.createElement("li"),o=d.createElement("label",{class:this.config.classNames.control}),l=d.createElement("input",d.extend(d.getAttributesFromSelector(this.config.selectors.inputs[i]),{type:"radio",name:"plyr-"+i,value:t,checked:s,class:"plyr__sr-only"})),c=d.createElement("span",{"aria-hidden":!0});o.appendChild(l),o.appendChild(c),o.insertAdjacentHTML("beforeend",n),d.is.element(r)&&o.appendChild(r),a.appendChild(o),e.appendChild(a)},updateSeekTooltip:function(t){var e=this;if(this.config.tooltips.seek&&d.is.element(this.elements.inputs.seek)&&d.is.element(this.elements.display.seekTooltip)&&0!==this.duration){var i=0,n=this.elements.inputs.seek.getBoundingClientRect(),r=this.config.classNames.tooltip+"--visible",s=function(t){d.toggleClass(e.elements.display.seekTooltip,r,t)};if(this.touch)s(!1);else{if(d.is.event(t))i=100/n.width*(t.pageX-n.left);else{if(!d.hasClass(this.elements.display.seekTooltip,r))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}i<0?i=0:i>100&&(i=100),w.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left=i+"%",d.is.event(t)&&["mouseenter","mouseleave"].includes(t.type)&&s("mouseenter"===t.type)}}},toggleTab:function(t,e){var i=this.elements.settings.tabs[t],n=this.elements.settings.panes[t];d.toggleHidden(i,!e),d.toggleHidden(n,!e)},setQualityMenu:function(t){var e=this;if(d.is.element(this.elements.settings.panes.quality)){var i=this.elements.settings.panes.quality.querySelector("ul");d.is.array(t)&&(this.options.quality=t.filter(function(t){return e.config.quality.options.includes(t)}));var n=!d.is.empty(this.options.quality)&&this.options.quality.length>1;x.toggleTab.call(this,"quality",n),x.checkMenu.call(this),n&&(d.emptyElement(i),this.options.quality.sort(function(t,i){var n=e.config.quality.options;return n.indexOf(t)>n.indexOf(i)?1:-1}).forEach(function(t){var n=x.getLabel.call(e,"quality",t);x.createMenuItem.call(e,t,i,"quality",n,function(t){var i="";switch(t){case 2160:i="4K";break;case 1440:case 1080:case 720:i="HD";break;case 576:i="SD"}return i.length?x.createBadge.call(e,i):null}(t))}),x.updateSetting.call(this,"quality",i))}},getLabel:function(t,e){switch(t){case"speed":return 1===e?_("normal",this.config):e+"&times;";case"quality":return d.is.number(e)?e+"p":d.toTitleCase(e);case"captions":return T.getLabel.call(this);default:return null}},updateSetting:function(t,e,i){var n=this.elements.settings.panes[t],r=null,s=e;switch(t){case"captions":r=this.captions.active?this.options.captions.length>2||!this.options.captions.some(function(t){return"enabled"===t})?this.captions.language:"enabled":"";break;default:if(r=d.is.empty(i)?this[t]:i,d.is.empty(r)&&(r=this.config[t].default),!d.is.empty(this.options[t])&&!this.options[t].includes(r))return void this.debug.warn("Unsupported value of '"+r+"' for "+t);if(!this.config[t].options.includes(r))return void this.debug.warn("Disabled value of '"+r+"' for "+t)}if(d.is.element(s)||(s=n&&n.querySelector("ul")),d.is.element(s)){this.elements.settings.tabs[t].querySelector("."+this.config.classNames.menu.value).innerHTML=x.getLabel.call(this,t,r);var a=s&&s.querySelector('input[value="'+r+'"]');d.is.element(a)&&(a.checked=!0)}},setCaptionsMenu:function(){var t=this,e=this.elements.settings.panes.captions.querySelector("ul"),i=T.getTracks.call(this).length;if(x.toggleTab.call(this,"captions",i),d.emptyElement(e),x.checkMenu.call(this),i){var n=T.getTracks.call(this).map(function(e){return{language:d.is.empty(e.language)?"enabled":e.language,label:T.getLabel.call(t,e)}});n.unshift({language:"",label:_("disabled",this.config)}),n.forEach(function(i){x.createMenuItem.call(t,i.language,e,"language",i.label,"enabled"!==i.language?x.createBadge.call(t,i.language.toUpperCase()):null,i.language.toLowerCase()===t.captions.language.toLowerCase())}),this.options.captions=n.map(function(t){return t.language}),x.updateSetting.call(this,"captions",e)}},setSpeedMenu:function(t){var e=this;if(this.config.controls.includes("settings")&&this.config.settings.includes("speed")&&d.is.element(this.elements.settings.panes.speed)){d.is.array(t)?this.options.speed=t:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(t){return e.config.speed.options.includes(t)});var i=!d.is.empty(this.options.speed)&&this.options.speed.length>1;if(x.toggleTab.call(this,"speed",i),x.checkMenu.call(this),i){var n=this.elements.settings.panes.speed.querySelector("ul");d.toggleHidden(this.elements.settings.tabs.speed,!1),d.toggleHidden(this.elements.settings.panes.speed,!1),d.emptyElement(n),this.options.speed.forEach(function(t){var i=x.getLabel.call(e,"speed",t);x.createMenuItem.call(e,t,n,"speed",i)}),x.updateSetting.call(this,"speed",n)}}},checkMenu:function(){var t=this.elements.settings.tabs,e=!d.is.empty(t)&&Object.values(t).some(function(t){return!t.hidden});d.toggleHidden(this.elements.settings.menu,!e)},toggleMenu:function(t){var e=this.elements.settings.form,i=this.elements.buttons.settings;if(d.is.element(e)&&d.is.element(i)){var n=d.is.boolean(t)?t:d.is.element(e)&&"true"===e.getAttribute("aria-hidden");if(d.is.event(t)){var r=d.is.element(e)&&e.contains(t.target),s=t.target===this.elements.buttons.settings;if(r||!r&&!s&&n)return;s&&t.stopPropagation()}d.is.element(i)&&i.setAttribute("aria-expanded",n),d.is.element(e)&&(e.setAttribute("aria-hidden",!n),d.toggleClass(this.elements.container,this.config.classNames.menu.open,n),n?e.removeAttribute("tabindex"):e.setAttribute("tabindex",-1))}},getTabSize:function(t){var e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.setAttribute("aria-hidden",!1),Array.from(e.querySelectorAll("input[name]")).forEach(function(t){var e=t.getAttribute("name");t.setAttribute("name",e+"-clone")}),t.parentNode.appendChild(e);var i=e.scrollWidth,n=e.scrollHeight;return d.removeElement(e),{width:i,height:n}},showTab:function(t){var e=this.elements.settings.menu,i=t.target,n="false"===i.getAttribute("aria-expanded"),r=document.getElementById(i.getAttribute("aria-controls"));if(d.is.element(r)&&"tabpanel"===r.getAttribute("role")){var s=e.querySelector('[role="tabpanel"][aria-hidden="false"]'),a=s.parentNode;if(Array.from(e.querySelectorAll('[aria-controls="'+s.getAttribute("id")+'"]')).forEach(function(t){t.setAttribute("aria-expanded",!1)}),f.transitions&&!f.reducedMotion){a.style.width=s.scrollWidth+"px",a.style.height=s.scrollHeight+"px";var o=x.getTabSize.call(this,r);d.on(a,d.transitionEndEvent,function t(e){e.target===a&&["width","height"].includes(e.propertyName)&&(a.style.width="",a.style.height="",d.off(a,d.transitionEndEvent,t))}),a.style.width=o.width+"px",a.style.height=o.height+"px"}s.setAttribute("aria-hidden",!0),s.setAttribute("tabindex",-1),r.setAttribute("aria-hidden",!n),i.setAttribute("aria-expanded",n),r.removeAttribute("tabindex"),r.querySelectorAll("button:not(:disabled), input:not(:disabled), [tabindex]")[0].focus()}},create:function(t){var e=this;if(d.is.empty(this.config.controls))return null;var i=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&i.appendChild(x.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&i.appendChild(x.createButton.call(this,"rewind")),this.config.controls.includes("play")&&i.appendChild(x.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&i.appendChild(x.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var n=d.createElement("div",d.getAttributesFromSelector(this.config.selectors.progress)),r=x.createRange.call(this,"seek",{id:"plyr-seek-"+t.id});if(n.appendChild(r.label),n.appendChild(r.input),n.appendChild(x.createProgress.call(this,"buffer")),this.config.tooltips.seek){var s=d.createElement("span",{role:"tooltip",class:this.config.classNames.tooltip},"00:00");n.appendChild(s),this.elements.display.seekTooltip=s}this.elements.progress=n,i.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&i.appendChild(x.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&i.appendChild(x.createTime.call(this,"duration")),this.config.controls.includes("mute")&&i.appendChild(x.createButton.call(this,"mute")),this.config.controls.includes("volume")){var a=d.createElement("div",{class:"plyr__volume"}),o={max:1,step:.05,value:this.config.volume},l=x.createRange.call(this,"volume",d.extend(o,{id:"plyr-volume-"+t.id}));a.appendChild(l.label),a.appendChild(l.input),this.elements.volume=a,i.appendChild(a)}if(this.config.controls.includes("captions")&&i.appendChild(x.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!d.is.empty(this.config.settings)){var c=d.createElement("div",{class:"plyr__menu",hidden:""});c.appendChild(x.createButton.call(this,"settings",{id:"plyr-settings-toggle-"+t.id,"aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id,"aria-expanded":!1}));var u=d.createElement("form",{class:"plyr__menu__container",id:"plyr-settings-"+t.id,"aria-hidden":!0,"aria-labelled-by":"plyr-settings-toggle-"+t.id,role:"tablist",tabindex:-1}),h=d.createElement("div"),p=d.createElement("div",{id:"plyr-settings-"+t.id+"-home","aria-hidden":!1,"aria-labelled-by":"plyr-settings-toggle-"+t.id,role:"tabpanel"}),g=d.createElement("ul",{role:"tablist"});this.config.settings.forEach(function(i){var n=d.createElement("li",{role:"tab",hidden:""}),r=d.createElement("button",d.extend(d.getAttributesFromSelector(e.config.selectors.buttons.settings),{type:"button",class:e.config.classNames.control+" "+e.config.classNames.control+"--forward",id:"plyr-settings-"+t.id+"-"+i+"-tab","aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id+"-"+i,"aria-expanded":!1}),_(i,e.config)),s=d.createElement("span",{class:e.config.classNames.menu.value});s.innerHTML=t[i],r.appendChild(s),n.appendChild(r),g.appendChild(n),e.elements.settings.tabs[i]=n}),p.appendChild(g),h.appendChild(p),this.config.settings.forEach(function(i){var n=d.createElement("div",{id:"plyr-settings-"+t.id+"-"+i,"aria-hidden":!0,"aria-labelled-by":"plyr-settings-"+t.id+"-"+i+"-tab",role:"tabpanel",tabindex:-1,hidden:""}),r=d.createElement("button",{type:"button",class:e.config.classNames.control+" "+e.config.classNames.control+"--back","aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id+"-home","aria-expanded":!1},_(i,e.config));n.appendChild(r);var s=d.createElement("ul");n.appendChild(s),h.appendChild(n),e.elements.settings.panes[i]=n}),u.appendChild(h),c.appendChild(u),i.appendChild(c),this.elements.settings.form=u,this.elements.settings.menu=c}return this.config.controls.includes("pip")&&f.pip&&i.appendChild(x.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&f.airplay&&i.appendChild(x.createButton.call(this,"airplay")),this.config.controls.includes("fullscreen")&&i.appendChild(x.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(x.createButton.call(this,"play-large")),this.elements.controls=i,this.isHTML5&&x.setQualityMenu.call(this,E.getQualityOptions.call(this)),x.setSpeedMenu.call(this),i},inject:function(){var t=this;if(this.config.loadSprite){var e=x.getIconUrl.call(this);e.absolute&&d.loadSprite(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var i;this.elements.controls=null,i=d.is.string(this.config.controls)||d.is.element(this.config.controls)?this.config.controls:d.is.function(this.config.controls)?this.config.controls({id:this.id,seektime:this.config.seekTime,title:this.config.title}):x.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:T.getLabel.call(this)});var n=void 0;if(d.is.string(this.config.selectors.controls.container)&&(n=document.querySelector(this.config.selectors.controls.container)),d.is.element(n)||(n=this.elements.container),d.is.element(i)?n.appendChild(i):i&&n.insertAdjacentHTML("beforeend",i),d.is.element(this.elements.controls)||d.findElements.call(this),window.navigator.userAgent.includes("Edge")&&d.repaint(n),this.config.tooltips.controls){var r=d.getElements.call(this,[this.config.selectors.controls.wrapper," ",this.config.selectors.labels," .",this.config.classNames.hidden].join(""));Array.from(r).forEach(function(e){d.toggleClass(e,t.config.classNames.hidden,!1),d.toggleClass(e,t.config.classNames.tooltip,!0),e.setAttribute("role","tooltip")})}}},A=d.getBrowser(),k=function(){function t(e){l(this,t),this.player=e,this.lastKey=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}return c(t,[{key:"handleKey",value:function(t){var e=t.keyCode?t.keyCode:t.which,i="keydown"===t.type,n=i&&e===this.lastKey;if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)&&d.is.number(e))if(i){var r=d.getFocusElement();if(d.is.element(r)&&d.matches(r,this.player.config.selectors.editable))return;switch([48,49,50,51,52,53,54,56,57,32,75,38,40,77,39,37,70,67,73,76,79].includes(e)&&(t.preventDefault(),t.stopPropagation()),e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:n||(this.player.currentTime=this.player.duration/10*(e-48));break;case 32:case 75:n||this.player.togglePlay();break;case 38:this.player.increaseVolume(.1);break;case 40:this.player.decreaseVolume(.1);break;case 77:n||(this.player.muted=!this.player.muted);break;case 39:this.player.forward();break;case 37:this.player.rewind();break;case 70:this.player.fullscreen.toggle();break;case 67:n||this.player.toggleCaptions();break;case 76:this.player.loop=!this.player.loop}!this.player.fullscreen.enabled&&this.player.fullscreen.active&&27===e&&this.player.fullscreen.toggle(),this.lastKey=e}else this.lastKey=null}},{key:"toggleMenu",value:function(t){x.toggleMenu.call(this.player,t)}},{key:"firstTouch",value:function(){this.player.touch=!0,d.toggleClass(this.player.elements.container,this.player.config.classNames.isTouch,!0),d.off(document.body,"touchstart",this.firstTouch)}},{key:"global",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.player.config.keyboard.global&&d.toggleListener(window,"keydown keyup",this.handleKey,t,!1),d.toggleListener(document.body,"click",this.toggleMenu,t),d.on(document.body,"touchstart",this.firstTouch)}},{key:"container",value:function(){var t=this;!this.player.config.keyboard.global&&this.player.config.keyboard.focused&&d.on(this.player.elements.container,"keydown keyup",this.handleKey,!1),d.on(this.player.elements.container,"focusout",function(e){d.toggleClass(e.target,t.player.config.classNames.tabFocus,!1)}),d.on(this.player.elements.container,"keydown",function(e){9===e.keyCode&&setTimeout(function(){d.toggleClass(d.getFocusElement(),t.player.config.classNames.tabFocus,!0)},0)}),this.player.config.hideControls&&d.on(this.player.elements.container,"mouseenter mouseleave mousemove touchstart touchend touchmove enterfullscreen exitfullscreen",function(e){t.player.toggleControls(e)})}},{key:"media",value:function(){var t=this;if(d.on(this.player.media,"timeupdate seeking",function(e){return w.timeUpdate.call(t.player,e)}),d.on(this.player.media,"durationchange loadedmetadata",function(e){return w.durationUpdate.call(t.player,e)}),d.on(this.player.media,"loadeddata",function(){d.toggleHidden(t.player.elements.volume,!t.player.hasAudio),d.toggleHidden(t.player.elements.buttons.mute,!t.player.hasAudio)}),d.on(this.player.media,"ended",function(){t.player.isHTML5&&t.player.isVideo&&t.player.config.showPosterOnEnd&&(t.player.restart(),t.player.media.load())}),d.on(this.player.media,"progress playing",function(e){return w.updateProgress.call(t.player,e)}),d.on(this.player.media,"volumechange",function(e){return w.updateVolume.call(t.player,e)}),d.on(this.player.media,"playing play pause ended emptied",function(e){return w.checkPlaying.call(t.player,e)}),d.on(this.player.media,"waiting canplay seeked playing",function(e){return w.checkLoading.call(t.player,e)}),d.on(this.player.media,"playing",function(){t.player.ads&&t.player.ads.enabled&&!t.player.ads.initialized&&t.player.ads.managerPromise.then(function(){return t.player.ads.play()}).catch(function(){return t.player.play()})}),this.player.supported.ui&&this.player.config.clickToPlay&&!this.player.isAudio){var e=d.getElement.call(this.player,"."+this.player.config.classNames.video);if(!d.is.element(e))return;d.on(e,"click",function(){t.player.config.hideControls&&t.player.touch&&!t.player.paused||(t.player.paused?t.player.play():t.player.ended?(t.player.restart(),t.player.play()):t.player.pause())})}this.player.supported.ui&&this.player.config.disableContextMenu&&d.on(this.player.elements.wrapper,"contextmenu",function(t){t.preventDefault()},!1),d.on(this.player.media,"volumechange",function(){t.player.storage.set({volume:t.player.volume,muted:t.player.muted})}),d.on(this.player.media,"ratechange",function(){x.updateSetting.call(t.player,"speed"),t.player.storage.set({speed:t.player.speed})}),d.on(this.player.media,"qualityrequested",function(e){t.player.storage.set({quality:e.detail.quality})}),d.on(this.player.media,"qualitychange",function(e){x.updateSetting.call(t.player,"quality",null,e.detail.quality)}),d.on(this.player.media,"languagechange",function(){x.updateSetting.call(t.player,"captions"),t.player.storage.set({language:t.player.language})}),d.on(this.player.media,"captionsenabled captionsdisabled",function(){x.updateSetting.call(t.player,"captions"),t.player.storage.set({captions:t.player.captions.active})}),d.on(this.player.media,this.player.config.events.concat(["keyup","keydown"]).join(" "),function(e){var i={};"error"===e.type&&(i=t.player.media.error),d.dispatchEvent.call(t.player,t.player.elements.container,e.type,!0,i)})}},{key:"controls",value:function(){var t=this,e=A.isIE?"change":"input",i=function(e,i,n){var r=t.player.config.listeners[n],s=!0;d.is.function(r)&&(s=r.call(t.player,e)),s&&d.is.function(i)&&i.call(t.player,e)},n=function(e,n,r,s){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=t.player.config.listeners[s],l=d.is.function(o);d.on(e,n,function(t){return i(t,r,s)},a&&!l)};n(this.player.elements.buttons.play,"click",this.player.togglePlay,"play"),n(this.player.elements.buttons.restart,"click",this.player.restart,"restart"),n(this.player.elements.buttons.rewind,"click",this.player.rewind,"rewind"),n(this.player.elements.buttons.fastForward,"click",this.player.forward,"fastForward"),n(this.player.elements.buttons.mute,"click",function(){t.player.muted=!t.player.muted},"mute"),n(this.player.elements.buttons.captions,"click",this.player.toggleCaptions),n(this.player.elements.buttons.fullscreen,"click",function(){t.player.fullscreen.toggle()},"fullscreen"),n(this.player.elements.buttons.pip,"click",function(){t.player.pip="toggle"},"pip"),n(this.player.elements.buttons.airplay,"click",this.player.airplay,"airplay"),n(this.player.elements.buttons.settings,"click",function(e){x.toggleMenu.call(t.player,e)}),n(this.player.elements.settings.form,"click",function(e){e.stopPropagation(),d.matches(e.target,t.player.config.selectors.inputs.language)?i(e,function(){t.player.language=e.target.value},"language"):d.matches(e.target,t.player.config.selectors.inputs.quality)?i(e,function(){t.player.quality=e.target.value},"quality"):d.matches(e.target,t.player.config.selectors.inputs.speed)?i(e,function(){t.player.speed=parseFloat(e.target.value)},"speed"):x.showTab.call(t.player,e)}),n(this.player.elements.inputs.seek,e,function(e){t.player.currentTime=e.target.value/e.target.max*t.player.duration},"seek"),this.player.config.toggleInvert&&!d.is.element(this.player.elements.display.duration)&&n(this.player.elements.display.currentTime,"click",function(){0!==t.player.currentTime&&(t.player.config.invertTime=!t.player.config.invertTime,w.timeUpdate.call(t.player))}),n(this.player.elements.inputs.volume,e,function(e){t.player.volume=e.target.value},"volume"),A.isWebkit&&n(d.getElements.call(this.player,'input[type="range"]'),"input",function(e){x.updateRangeFill.call(t.player,e.target)}),n(this.player.elements.progress,"mouseenter mouseleave mousemove",function(e){return x.updateSeekTooltip.call(t.player,e)}),this.player.config.hideControls&&(n(this.player.elements.controls,"mouseenter mouseleave",function(e){t.player.elements.controls.hover=!t.player.touch&&"mouseenter"===e.type}),n(this.player.elements.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){t.player.elements.controls.pressed=["mousedown","touchstart"].includes(e.type)}),n(this.player.elements.controls,"focusin focusout",function(e){t.player.toggleControls(e)})),n(this.player.elements.inputs.volume,"wheel",function(e){var i=e.webkitDirectionInvertedFromDevice,n=0;(e.deltaY<0||e.deltaX>0)&&(i?(t.player.decreaseVolume(.02),n=-1):(t.player.increaseVolume(.02),n=1)),(e.deltaY>0||e.deltaX<0)&&(i?(t.player.increaseVolume(.02),n=1):(t.player.decreaseVolume(.02),n=-1)),(1===n&&t.player.media.volume<1||-1===n&&t.player.media.volume>0)&&e.preventDefault()},"volume",!1)}},{key:"clear",value:function(){this.global(!1)}}]),t}(),C=function(){function t(e){l(this,t),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return c(t,[{key:"get",value:function(e){if(!t.supported)return null;var i=window.localStorage.getItem(this.key);if(d.is.empty(i))return null;var n=JSON.parse(i);return d.is.string(e)&&e.length?n[e]:n}},{key:"set",value:function(e){if(t.supported&&this.enabled&&d.is.object(e)){var i=this.get();d.is.empty(i)&&(i={}),d.extend(i,e),window.localStorage.setItem(this.key,JSON.stringify(i))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(t){return!1}}}]),t}(),R=function(){function t(e){var i=this;l(this,t),this.player=e,this.publisherId=e.config.ads.publisherId,this.enabled=e.isHTML5&&e.isVideo&&e.config.ads.enabled&&d.is.string(this.publisherId)&&this.publisherId.length,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(t,e){i.on("loaded",t),i.on("error",e)}),this.load()}return c(t,[{key:"load",value:function(){var t=this;this.enabled&&(d.is.object(window.google)&&d.is.object(window.google.ima)?this.ready():d.loadScript(this.player.config.urls.googleIMA.api).then(function(){t.ready()}).catch(function(){t.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var t=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){t.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=d.createElement("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container),this.requestAds()}},{key:"requestAds",value:function(){var t=this,e=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=e.offsetWidth,i.linearAdSlotHeight=e.offsetHeight,i.nonLinearAdSlotWidth=e.offsetWidth,i.nonLinearAdSlotHeight=e.offsetHeight,i.forceNonLinearFullSlot=!1,this.loader.requestAds(i)}catch(t){this.onAdError(t)}}},{key:"pollCountdown",value:function(){var t=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var e=d.formatTime(Math.max(t.manager.getRemainingTime(),0)),i=_("advertisement",t.player.config)+" - "+e;t.elements.container.setAttribute("data-badge-text",i)},100)}},{key:"onAdsManagerLoaded",value:function(t){var e=this,i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=t.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),d.is.empty(this.cuePoints)||this.cuePoints.forEach(function(t){if(0!==t&&-1!==t&&t<e.player.duration){var i=e.player.elements.progress;if(d.is.element(i)){var n=100/e.player.duration*t,r=d.createElement("span",{class:e.player.config.classNames.cues});r.style.left=n.toString()+"%",i.appendChild(r)}}}),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e.onAdError(t)}),Object.keys(google.ima.AdEvent.Type).forEach(function(t){e.manager.addEventListener(google.ima.AdEvent.Type[t],function(t){return e.onAdEvent(t)})}),this.trigger("loaded")}},{key:"onAdEvent",value:function(t){var e=this,i=this.player.elements.container,n=t.getAd(),r=function(t){var i="ads"+t.replace(/_/g,"").toLowerCase();d.dispatchEvent.call(e.player,e.player.media,i)};switch(t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),r(t.type),this.pollCountdown(!0),n.isLinear()||(n.width=i.offsetWidth,n.height=i.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:r(t.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:r(t.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:r(t.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:r(t.type)}}},{key:"onAdError",value:function(t){this.cancel(),this.player.debug.warn("Ads error",t)}},{key:"listeners",value:function(){var t=this,e=this.player.elements.container,i=void 0;this.player.on("ended",function(){t.loader.contentComplete()}),this.player.on("seeking",function(){return i=t.player.currentTime}),this.player.on("seeked",function(){var e=t.player.currentTime;d.is.empty(t.cuePoints)||t.cuePoints.forEach(function(n,r){i<n&&n<e&&(t.manager.discardAdBreak(),t.cuePoints.splice(r,1))})}),window.addEventListener("resize",function(){t.manager&&t.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var t=this,e=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){t.elements.displayContainer.initialize();try{t.initialized||(t.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),t.manager.start()),t.initialized=!0}catch(e){t.onAdError(e)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.currentTime<this.player.duration&&this.player.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.requestAds()}).catch(function(){})}},{key:"trigger",value:function(t){for(var e=this,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var s=this.events[t];d.is.array(s)&&s.forEach(function(t){d.is.function(t)&&t.apply(e,n)})}},{key:"on",value:function(t,e){return d.is.array(this.events[t])||(this.events[t]=[]),this.events[t].push(e),this}},{key:"startSafetyTimer",value:function(t,e){var i=this;this.player.debug.log("Safety timer invoked from: "+e),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},t)}},{key:"clearSafetyTimer",value:function(t){d.is.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: "+t),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"tagUrl",get:function(){var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"https://go.aniview.com/api/adserver6/vast/?"+d.buildUrlParams(t)}}]),t}();function P(t){switch(t){case"hd2160":return 2160;case 2160:return"hd2160";case"hd1440":return 1440;case 1440:return"hd1440";case"hd1080":return 1080;case 1080:return"hd1080";case"hd720":return 720;case 720:return"hd720";case"large":return 480;case 480:return"large";case"medium":return 360;case 360:return"medium";case"small":return 240;case 240:return"small";default:return"default"}}var L={setup:function(){var t=this;d.toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),L.setAspectRatio.call(this),d.is.object(window.YT)&&d.is.function(window.YT.Player)?L.ready.call(this):(d.loadScript(this.config.urls.youtube.api).catch(function(e){t.debug.warn("YouTube API failed to load",e)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){L.ready.call(t)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(t){t()})})},getTitle:function(t){var e=this;if(d.is.function(this.embed.getVideoData)){var i=this.embed.getVideoData().title;if(d.is.empty(i))return this.config.title=i,void w.setTitle.call(this)}var n=this.config.keys.google;if(d.is.string(n)&&!d.is.empty(n)){var r="https://www.googleapis.com/youtube/v3/videos?id="+t+"&key="+n+"&fields=items(snippet(title))&part=snippet";d.fetch(r).then(function(t){d.is.object(t)&&(e.config.title=t.items[0].snippet.title,w.setTitle.call(e))}).catch(function(){})}},setAspectRatio:function(){var t=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom=100/t[0]*t[1]+"%"},ready:function(){var t=this,e=t.media.getAttribute("id");if(d.is.empty(e)||!e.startsWith("youtube-")){var i=t.media.getAttribute("src");d.is.empty(i)&&(i=t.media.getAttribute(this.config.attributes.embed.id));var n=d.parseYouTubeId(i),r=d.generateId(t.provider),s=d.createElement("div",{id:r});t.media=d.replaceElement(s,t.media),t.embed=new window.YT.Player(r,{videoId:n,playerVars:{autoplay:t.config.autoplay?1:0,controls:t.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language},events:{onError:function(e){if(!d.is.object(t.media.error)){var i={code:e.data};switch(e.data){case 2:i.message="The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.";break;case 5:i.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";break;case 100:i.message="The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.";break;case 101:case 150:i.message="The owner of the requested video does not allow it to be played in embedded players.";break;default:i.message="An unknown error occured"}t.media.error=i,d.dispatchEvent.call(t,t.media,"error")}},onPlaybackQualityChange:function(){d.dispatchEvent.call(t,t.media,"qualitychange",!1,{quality:t.media.quality})},onPlaybackRateChange:function(e){var i=e.target;t.media.playbackRate=i.getPlaybackRate(),d.dispatchEvent.call(t,t.media,"ratechange")},onReady:function(e){var i=e.target;L.getTitle.call(t,n),t.media.play=function(){i.playVideo()},t.media.pause=function(){i.pauseVideo()},t.media.stop=function(){i.stopVideo()},t.media.duration=i.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(e){var n=t.media.paused;t.media.seeking=!0,d.dispatchEvent.call(t,t.media,"seeking"),i.seekTo(e),n&&t.pause()}}),Object.defineProperty(t.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(t){i.setPlaybackRate(t)}}),Object.defineProperty(t.media,"quality",{get:function(){return P(i.getPlaybackQuality())},set:function(e){var n=e;i.setPlaybackQuality(P(n)),d.dispatchEvent.call(t,t.media,"qualityrequested",!1,{quality:n})}});var r=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return r},set:function(e){r=e,i.setVolume(100*r),d.dispatchEvent.call(t,t.media,"volumechange")}});var s=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return s},set:function(e){var n=d.is.boolean(e)?e:s;s=n,i[n?"mute":"unMute"](),d.dispatchEvent.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),t.options.speed=i.getAvailablePlaybackRates(),t.supported.ui&&t.media.setAttribute("tabindex",-1),d.dispatchEvent.call(t,t.media,"timeupdate"),d.dispatchEvent.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(function(){t.media.buffered=i.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&d.dispatchEvent.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),d.dispatchEvent.call(t,t.media,"canplaythrough"))},200),setTimeout(function(){return w.build.call(t)},50)},onStateChange:function(e){var i,n=e.target;switch(clearInterval(t.timers.playing),e.data){case-1:d.dispatchEvent.call(t,t.media,"timeupdate"),t.media.buffered=n.getVideoLoadedFraction(),d.dispatchEvent.call(t,t.media,"progress");break;case 0:t.media.paused=!0,t.media.loop?(n.stopVideo(),n.playVideo()):d.dispatchEvent.call(t,t.media,"ended");break;case 1:t.media.seeking&&d.dispatchEvent.call(t,t.media,"seeked"),t.media.seeking=!1,t.media.paused&&d.dispatchEvent.call(t,t.media,"play"),t.media.paused=!1,d.dispatchEvent.call(t,t.media,"playing"),t.timers.playing=setInterval(function(){d.dispatchEvent.call(t,t.media,"timeupdate")},50),t.media.duration!==n.getDuration()&&(t.media.duration=n.getDuration(),d.dispatchEvent.call(t,t.media,"durationchange")),x.setQualityMenu.call(t,(i=n.getAvailableQualityLevels(),d.is.empty(i)?i:d.dedupe(i.map(function(t){return P(t)}))));break;case 2:t.media.paused=!0,d.dispatchEvent.call(t,t.media,"pause")}d.dispatchEvent.call(t,t.elements.container,"statechange",!1,{code:e.data})}}})}}},D={setup:function(){var t=this;d.toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),D.setAspectRatio.call(this),d.is.object(window.Vimeo)?D.ready.call(this):d.loadScript(this.config.urls.vimeo.api).then(function(){D.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo API failed to load",e)})},setAspectRatio:function(t){var e=d.is.string(t)?t.split(":"):this.config.ratio.split(":"),i=100/e[0]*e[1];if(this.elements.wrapper.style.paddingBottom=i+"%",this.supported.ui){var n=(240-i)/4.8;this.media.style.transform="translateY(-"+n+"%)"}},ready:function(){var t=this,e=this,i={loop:e.config.loop.active,autoplay:e.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,gesture:"media",playsinline:!this.config.fullscreen.iosNative},n=d.buildUrlParams(i),r=e.media.getAttribute("src");d.is.empty(r)&&(r=e.media.getAttribute(this.config.attributes.embed.id));var s=d.parseVimeoId(r),a=d.createElement("iframe"),o="https://player.vimeo.com/video/"+s+"?"+n;a.setAttribute("src",o),a.setAttribute("allowfullscreen",""),a.setAttribute("allowtransparency",""),a.setAttribute("allow","autoplay");var l=d.createElement("div");l.appendChild(a),e.media=d.replaceElement(l,e.media),e.embed=new window.Vimeo.Player(a),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=function(){e.embed.play().then(function(){e.media.paused=!1})},e.media.pause=function(){e.embed.pause().then(function(){e.media.paused=!0})},e.media.stop=function(){e.pause(),e.currentTime=0};var c=e.media.currentTime;Object.defineProperty(e.media,"currentTime",{get:function(){return c},set:function(t){var i=e.media.paused;e.media.seeking=!0,d.dispatchEvent.call(e,e.media,"seeking"),e.embed.setCurrentTime(t).catch(function(){}),i&&e.pause()}});var u=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:function(){return u},set:function(t){e.embed.setPlaybackRate(t).then(function(){u=t,d.dispatchEvent.call(e,e.media,"ratechange")}).catch(function(t){"Error"===t.name&&x.setSpeedMenu.call(e,[])})}});var h=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return h},set:function(t){e.embed.setVolume(t).then(function(){h=t,d.dispatchEvent.call(e,e.media,"volumechange")})}});var f=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return f},set:function(t){var i=!!d.is.boolean(t)&&t;e.embed.setVolume(i?0:e.config.volume).then(function(){f=i,d.dispatchEvent.call(e,e.media,"volumechange")})}});var p=e.config.loop;Object.defineProperty(e.media,"loop",{get:function(){return p},set:function(t){var i=d.is.boolean(t)?t:e.config.loop.active;e.embed.setLoop(i).then(function(){p=i})}});var g=void 0;e.embed.getVideoUrl().then(function(t){g=t}).catch(function(e){t.debug.warn(e)}),Object.defineProperty(e.media,"currentSrc",{get:function(){return g}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(function(e){var i=d.getAspectRatio(e[0],e[1]);D.setAspectRatio.call(t,i)}),e.embed.setAutopause(e.config.autopause).then(function(t){e.config.autopause=t}),e.embed.getVideoTitle().then(function(i){e.config.title=i,w.setTitle.call(t)}),e.embed.getCurrentTime().then(function(t){c=t,d.dispatchEvent.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(function(t){e.media.duration=t,d.dispatchEvent.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(function(t){e.media.textTracks=t,T.setup.call(e)}),e.embed.on("cuechange",function(t){var i=null;t.cues.length&&(i=d.stripHTML(t.cues[0].text)),T.setText.call(e,i)}),e.embed.on("loaded",function(){d.is.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("play",function(){e.media.paused&&d.dispatchEvent.call(e,e.media,"play"),e.media.paused=!1,d.dispatchEvent.call(e,e.media,"playing")}),e.embed.on("pause",function(){e.media.paused=!0,d.dispatchEvent.call(e,e.media,"pause")}),e.embed.on("timeupdate",function(t){e.media.seeking=!1,c=t.seconds,d.dispatchEvent.call(e,e.media,"timeupdate")}),e.embed.on("progress",function(t){e.media.buffered=t.percent,d.dispatchEvent.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&d.dispatchEvent.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(function(t){t!==e.media.duration&&(e.media.duration=t,d.dispatchEvent.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",function(){e.media.seeking=!1,d.dispatchEvent.call(e,e.media,"seeked"),d.dispatchEvent.call(e,e.media,"play")}),e.embed.on("ended",function(){e.media.paused=!0,d.dispatchEvent.call(e,e.media,"ended")}),e.embed.on("error",function(t){e.media.error=t,d.dispatchEvent.call(e,e.media,"error")}),setTimeout(function(){return w.build.call(e)},0)}},O=d.getBrowser(),I={setup:function(){if(this.media)if(d.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),d.toggleClass(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&d.toggleClass(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.supported.ui&&(d.toggleClass(this.elements.container,this.config.classNames.pip.supported,f.pip&&this.isHTML5&&this.isVideo),d.toggleClass(this.elements.container,this.config.classNames.airplay.supported,f.airplay&&this.isHTML5),d.toggleClass(this.elements.container,this.config.classNames.stopped,this.config.autoplay),d.toggleClass(this.elements.container,this.config.classNames.isIos,O.isIos),d.toggleClass(this.elements.container,this.config.classNames.isTouch,this.touch)),this.isVideo&&(this.elements.wrapper=d.createElement("div",{class:this.config.classNames.video}),d.wrap(this.media,this.elements.wrapper)),this.isEmbed)switch(this.provider){case"youtube":L.setup.call(this);break;case"vimeo":D.setup.call(this)}else this.isHTML5&&(w.setTitle.call(this),E.extend.call(this));else this.debug.warn("No media element found!")}},M={insertElements:function(t,e){var i=this;d.is.string(e)?d.insertElement(t,this.media,{src:e}):d.is.array(e)&&e.forEach(function(e){d.insertElement(t,i.media,e)})},change:function(e){var i=this;d.is.object(e)&&"sources"in e&&e.sources.length?(E.cancelRequests.call(this),this.destroy.call(this,function(){switch(i.options.quality=[],d.removeElement(i.media),i.media=null,d.is.element(i.elements.container)&&i.elements.container.removeAttribute("class"),i.type=e.type,i.provider=d.is.empty(e.sources[0].provider)?t.html5:e.sources[0].provider,i.supported=f.check(i.type,i.provider,i.config.playsinline),i.provider+":"+i.type){case"html5:video":i.media=d.createElement("video");break;case"html5:audio":i.media=d.createElement("audio");break;case"youtube:video":case"vimeo:video":i.media=d.createElement("div",{src:e.sources[0].src})}i.elements.container.appendChild(i.media),d.is.boolean(e.autoplay)&&(i.config.autoplay=e.autoplay),i.isHTML5&&(i.config.crossorigin&&i.media.setAttribute("crossorigin",""),i.config.autoplay&&i.media.setAttribute("autoplay",""),"poster"in e&&i.media.setAttribute("poster",e.poster),i.config.loop.active&&i.media.setAttribute("loop",""),i.config.muted&&i.media.setAttribute("muted",""),i.config.playsinline&&i.media.setAttribute("playsinline","")),w.addStyleHook.call(i),i.isHTML5&&M.insertElements.call(i,"source",e.sources),i.config.title=e.title,I.setup.call(i),i.isHTML5&&("tracks"in e&&M.insertElements.call(i,"track",e.tracks),i.media.load()),(i.isHTML5||i.isEmbed&&!i.supported.ui)&&w.build.call(i),i.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};return function(){function e(s,a){var o=this;if(l(this,e),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=f.touch,this.media=s,d.is.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof i||d.is.nodeList(this.media)||d.is.array(this.media))&&(this.media=this.media[0]),this.config=d.extend({},r,a||{},function(){try{return JSON.parse(o.media.getAttribute("data-plyr-config"))}catch(t){return{}}}()),this.elements={container:null,buttons:{},display:{},progress:{},inputs:{},settings:{menu:null,panes:{},tabs:{}},captions:null},this.captions={active:null,currentTrack:null},this.fullscreen={active:!1},this.options={speed:[],quality:[],captions:[]},this.debug=new g(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",f),!d.is.nullOrUndefined(this.media)&&d.is.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(f.check().api){setTimeout(function(){var t=o.media.cloneNode(!0);t.getAttribute("autoplay")&&t.pause(),o.elements.original=t},0);var c=this.media.tagName.toLowerCase(),u=null,h=null,p=null;switch(c){case"div":if(u=this.media.querySelector("iframe"),d.is.element(u)){if(h=u.getAttribute("src"),this.provider=d.getProviderByUrl(h),this.elements.container=this.media,this.media=u,this.elements.container.className="",p=d.getUrlParams(h),!d.is.empty(p)){var m=["1","true"];m.includes(p.autoplay)&&(this.config.autoplay=!0),m.includes(p.loop)&&(this.config.loop.active=!0),this.isYouTube?this.config.playsinline=m.includes(p.playsinline):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(d.is.empty(this.provider)||!Object.keys(t).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=n.video;break;case"video":case"audio":this.type=c,this.provider=t.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),this.media.hasAttribute("playsinline")&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=f.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.listeners=new k(this),this.storage=new C(this),this.media.plyr=this,d.is.element(this.elements.container)||(this.elements.container=d.createElement("div"),d.wrap(this.media,this.elements.container)),this.elements.container.setAttribute("tabindex",0),w.addStyleHook.call(this),I.setup.call(this),this.config.debug&&d.on(this.elements.container,this.config.events.join(" "),function(t){o.debug.log("event: "+t.type)}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&w.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new b(this),this.ads=new R(this),this.config.autoplay&&this.play()):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return c(e,[{key:"play",value:function(){return d.is.function(this.media.play)?this.media.play():null}},{key:"pause",value:function(){this.playing&&d.is.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(t){(d.is.boolean(t)?t:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?this.media.load():d.is.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(t){this.currentTime=this.currentTime-(d.is.number(t)?t:this.config.seekTime)}},{key:"forward",value:function(t){this.currentTime=this.currentTime+(d.is.number(t)?t:this.config.seekTime)}},{key:"increaseVolume",value:function(t){var e=this.media.muted?0:this.volume;this.volume=e+(d.is.number(t)?t:1)}},{key:"decreaseVolume",value:function(t){var e=this.media.muted?0:this.volume;this.volume=e-(d.is.number(t)?t:1)}},{key:"toggleCaptions",value:function(t){if(this.supported.ui){var e=d.is.boolean(t)?t:!this.elements.container.classList.contains(this.config.classNames.captions.active);this.captions.active!==e&&(this.captions.active=e,d.toggleState(this.elements.buttons.captions,this.captions.active),d.toggleClass(this.elements.container,this.config.classNames.captions.active,this.captions.active),d.dispatchEvent.call(this,this.media,this.captions.active?"captionsenabled":"captionsdisabled"))}}},{key:"airplay",value:function(){f.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(t){var e=this;if(d.is.element(this.elements.controls)&&this.supported.ui&&!this.isAudio){var i=0,n=t,r=!1;if(d.is.boolean(t)||(d.is.event(t)?(r="enterfullscreen"===t.type,n=["touchstart","touchmove","mouseenter","mousemove","focusin"].includes(t.type),["touchmove","touchend","mousemove"].includes(t.type)&&(i=2e3),this.touch||"focusin"!==t.type||(i=3e3,d.toggleClass(this.elements.controls,this.config.classNames.noTransition,!0))):n=d.hasClass(this.elements.container,this.config.classNames.hideControls)),clearTimeout(this.timers.controls),n||this.paused||this.loading){if(d.toggleClass(this.elements.container,this.config.classNames.hideControls,!1)&&d.dispatchEvent.call(this,this.media,"controlsshown"),this.paused||this.loading)return;this.touch&&(i=3e3)}n&&!this.playing||(this.timers.controls=setTimeout(function(){d.is.element(e.elements.controls)&&(!e.elements.controls.pressed&&!e.elements.controls.hover||r)&&(d.hasClass(e.elements.container,e.config.classNames.hideControls)||d.toggleClass(e.elements.controls,e.config.classNames.noTransition,!1),d.toggleClass(e.elements.container,e.config.classNames.hideControls,!0)&&(d.dispatchEvent.call(e,e.media,"controlshidden"),e.config.controls.includes("settings")&&!d.is.empty(e.config.settings)&&x.toggleMenu.call(e,!1)))},i))}}},{key:"on",value:function(t,e){d.on(this.elements.container,t,e)}},{key:"off",value:function(t,e){d.off(this.elements.container,t,e)}},{key:"destroy",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var n=function(){document.body.style.overflow="",e.embed=null,i?(Object.keys(e.elements).length&&(d.removeElement(e.elements.buttons.play),d.removeElement(e.elements.captions),d.removeElement(e.elements.controls),d.removeElement(e.elements.wrapper),e.elements.buttons.play=null,e.elements.captions=null,e.elements.controls=null,e.elements.wrapper=null),d.is.function(t)&&t()):(e.listeners.clear(),d.replaceElement(e.elements.original,e.elements.container),d.dispatchEvent.call(e,e.elements.original,"destroyed",!0),d.is.function(t)&&t.call(e.elements.original),e.ready=!1,setTimeout(function(){e.elements=null,e.media=null},200))};switch(this.stop(),this.provider+":"+this.type){case"html5:video":case"html5:audio":clearTimeout(this.timers.loading),w.toggleNativeControls.call(this,!0),n();break;case"youtube:video":clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&d.is.function(this.embed.destroy)&&this.embed.destroy(),n();break;case"vimeo:video":null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200)}}}},{key:"supports",value:function(t){return f.mime.call(this,t)}},{key:"isHTML5",get:function(){return Boolean(this.provider===t.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===t.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===t.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===n.video)}},{key:"isAudio",get:function(){return Boolean(this.type===n.audio)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended&&(!this.isHTML5||this.media.readyState>2))}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(t){var e=0;d.is.number(t)&&(e=t),e<0?e=0:e>this.duration&&(e=this.duration),this.media.currentTime=e,this.debug.log("Seeking to "+this.currentTime+" seconds")},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var t=this.media.buffered;return d.is.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var t=parseFloat(this.config.duration),e=this.media?Number(this.media.duration):0;return Number.isNaN(t)?e:t}},{key:"volume",set:function(t){var e=t;d.is.string(e)&&(e=Number(e)),d.is.number(e)||(e=this.storage.get("volume")),d.is.number(e)||(e=this.config.volume),e>1&&(e=1),e<0&&(e=0),this.config.volume=e,this.media.volume=e,!d.is.empty(t)&&this.muted&&e>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(t){var e=t;d.is.boolean(e)||(e=this.storage.get("muted")),d.is.boolean(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(t){var e=null;d.is.number(t)&&(e=t),d.is.number(e)||(e=this.storage.get("speed")),d.is.number(e)||(e=this.config.speed.selected),e<.1&&(e=.1),e>2&&(e=2),this.config.speed.options.includes(e)?(this.config.speed.selected=e,this.media.playbackRate=e):this.debug.warn("Unsupported speed ("+e+")")},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(t){var e=null;if(d.is.empty(t)||(e=Number(t)),d.is.number(e)&&0!==e||(e=this.storage.get("quality")),d.is.number(e)||(e=this.config.quality.selected),d.is.number(e)||(e=this.config.quality.default),this.options.quality.length){if(!this.options.quality.includes(e)){var i=d.closest(this.options.quality,e);this.debug.warn("Unsupported quality option: "+e+", using "+i+" instead"),e=i}this.config.quality.selected=e,this.media.quality=e}},get:function(){return this.media.quality}},{key:"loop",set:function(t){var e=d.is.boolean(t)?t:this.config.loop.active;this.config.loop.active=e,this.media.loop=e},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(t){M.change.call(this,t)},get:function(){return this.media.currentSrc}},{key:"poster",set:function(t){this.isHTML5&&this.isVideo?d.is.string(t)&&this.media.setAttribute("poster",t):this.debug.warn("Poster can only be set on HTML5 video")},get:function(){return this.isHTML5&&this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(t){var e=d.is.boolean(t)?t:this.config.autoplay;this.config.autoplay=e},get:function(){return Boolean(this.config.autoplay)}},{key:"language",set:function(t){if(d.is.string(t))if(d.is.empty(t))this.toggleCaptions(!1);else{var e=t.toLowerCase();this.options.captions.includes(e)?(this.toggleCaptions(!0),"enabled"!==e&&this.language!==e&&(this.captions.language=e,T.setText.call(this,null),T.setLanguage.call(this),d.dispatchEvent.call(this,this.media,"languagechange"))):this.debug.warn("Unsupported language option: "+e)}},get:function(){return this.captions.language}},{key:"pip",set:function(t){var e="inline";if(f.pip){var i=d.is.boolean(t)?t:this.pip===e;this.media.webkitSetPresentationMode(i?"picture-in-picture":e)}},get:function(){return f.pip?this.media.webkitPresentationMode:null}}],[{key:"supported",value:function(t,e,i){return f.check(t,e,i)}},{key:"loadSprite",value:function(t,e){return d.loadSprite(t,e)}}]),e}()}()}).call(this,i(4),i(2))},function(t,e,i){(function(i){var n,r=void 0!==t&&t.exports&&void 0!==i?i:this||window;(r._gsQueue||(r._gsQueue=[])).push(function(){"use strict";var t,e,i,n,s,a,o,l,c,u,h,d,f,p;r._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},s=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=s.prototype.render},a=i._internals,o=a.isSelector,l=a.isArray,c=s.prototype=i.to({},.1,{}),u=[];s.version="1.20.4",c.constructor=s,c.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=i.killTweensOf,s.getTweensOf=i.getTweensOf,s.lagSmoothing=i.lagSmoothing,s.ticker=i.ticker,s.render=i.render,c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},c.updateTo=function(t,e){var n,r=this.ratio,s=this.vars.immediateRender||t.immediateRender;for(n in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[n]=t[n];if(this._initted||s)if(e)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||s)for(var o,l=1/(1-r),c=this._firstPT;c;)o=c.s+c.c,c.c*=l,c.s=o-c.c,c=c._next;return this},c.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,s,o,l,c,u,h,d,f,p=this._dirty?this.totalDuration():this._totalDuration,g=this._time,m=this._totalTime,v=this._cycle,y=this._duration,b=this._rawPrevTime;if(t>=p-1e-7&&t>=0?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=y,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,s="onComplete",n=n||this._timeline.autoRemoveChildren),0===y&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(b<0||t<=0&&t>=-1e-7||1e-10===b&&"isPause"!==this.data)&&b!==t&&(n=!0,b>1e-10&&(s="onReverseComplete")),this._rawPrevTime=d=!e||t||b===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===y&&b>0)&&(s="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===y&&(this._initted||!this.vars.lazy||n)&&(b>=0&&(n=!0),this._rawPrevTime=d=!e||t||b===t?t:1e-10)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=y+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=y-this._time,(f=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==f||this._initted?this._yoyoEase=f=!0===f?this._ease:f instanceof Ease?f:Ease.map[f]:(f=this.vars.ease,this._yoyoEase=f=f?f instanceof Ease?f:"function"==typeof f?new Ease(f,this.vars.easeParams):Ease.map[f]||i.defaultEase:i.defaultEase)),this.ratio=f?1-f.getRatio((y-this._time)/y):0)),this._time>y?this._time=y:this._time<0&&(this._time=0)),this._easeType&&!f?(c=this._time/y,u=this._easeType,h=this._easePower,(1===u||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===h?c*=c:2===h?c*=c*c:3===h?c*=c*c*c:4===h&&(c*=c*c*c*c),1===u?this.ratio=1-c:2===u?this.ratio=c:this._time/y<.5?this.ratio=c/2:this.ratio=1-c/2):f||(this.ratio=this._ease.getRatio(this._time/y))),g!==this._time||n||v!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=g,this._totalTime=m,this._rawPrevTime=b,this._cycle=v,a.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||r||f?r&&this._ease._calcEnd&&!f&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/y)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==g&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,n):s||(s="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==y||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,n),e||(this._totalTime!==m||s)&&this._callback("onUpdate")),this._cycle!==v&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),s&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s),0===y&&1e-10===this._rawPrevTime&&1e-10!==d&&(this._rawPrevTime=0)))}else m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},s.to=function(t,e,i){return new s(t,e,i)},s.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new s(t,e,i)},s.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new s(t,e,n)},s.staggerTo=s.allTo=function(t,e,a,c,h,d,f){c=c||0;var p,g,m,v,y=0,b=[],_=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),h.apply(f||a.callbackScope||this,d||u)},T=a.cycle,w=a.startAt&&a.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=n(t))),t=t||[],c<0&&((t=n(t)).reverse(),c*=-1),p=t.length-1,m=0;m<=p;m++){for(v in g={},a)g[v]=a[v];if(T&&(r(g,t,m),null!=g.duration&&(e=g.duration,delete g.duration)),w){for(v in w=g.startAt={},a.startAt)w[v]=a.startAt[v];r(g.startAt,t,m)}g.delay=y+(g.delay||0),m===p&&h&&(g.onComplete=_),b[m]=new s(t[m],e,g),y+=c}return b},s.staggerFrom=s.allFrom=function(t,e,i,n,r,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,s.staggerTo(t,e,i,n,r,a,o)},s.staggerFromTo=s.allFromTo=function(t,e,i,n,r,a,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,s.staggerTo(t,e,n,r,a,o,l)},s.delayedCall=function(t,e,i,n,r){return new s(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},s.set=function(t,e){return new s(t,0,e)},s.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var h=function(t,e){for(var n=[],r=0,s=t._first;s;)s instanceof i?n[r++]=s:(e&&(n[r++]=s),r=(n=n.concat(h(s,e))).length),s=s._next;return n},d=s.getAllTweens=function(e){return h(t._rootTimeline,e).concat(h(t._rootFramesTimeline,e))};s.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,a,o,l=d(0!=r),c=l.length,u=i&&n&&r;for(o=0;o<c;o++)a=l[o],(u||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},s.killChildTweensOf=function(t,e){if(null!=t){var r,c,u,h,d,f=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=n(t)),l(t))for(h=t.length;--h>-1;)s.killChildTweensOf(t[h],e);else{for(u in r=[],f)for(c=f[u].target.parentNode;c;)c===t&&(r=r.concat(f[u].tweens)),c=c.parentNode;for(d=r.length,h=0;h<d;h++)e&&r[h].totalTime(r[h].totalDuration()),r[h]._enabled(!1,!1)}}};var f=function(t,i,n,r){i=!1!==i,n=!1!==n;for(var s,a,o=d(r=!1!==r),l=i&&n&&r,c=o.length;--c>-1;)a=o[c],(l||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&a.paused(t)};return s.pauseAll=function(t,e,i){f(!0,t,e,i)},s.resumeAll=function(t,e,i){f(!1,t,e,i)},s.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||1e-10,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},c.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},s},!0),r._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},s=i._internals,a=n._internals={},o=s.isSelector,l=s.isArray,c=s.lazyTweens,u=s.lazyRender,h=r._gsDefine.globals,d=function(t){var e,i={};for(e in t)i[e]=t[e];return i},f=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},p=a.pauseCallback=function(){},g=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},m=n.prototype=new e;return n.version="1.20.4",m.constructor=n,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(t,e,n,r){var s=n.repeat&&h.TweenMax||i;return e?this.add(new s(t,e,n),r):this.set(t,n,r)},m.from=function(t,e,n,r){return this.add((n.repeat&&h.TweenMax||i).from(t,e,n),r)},m.fromTo=function(t,e,n,r,s){var a=r.repeat&&h.TweenMax||i;return e?this.add(a.fromTo(t,e,n,r),s):this.set(t,r,s)},m.staggerTo=function(t,e,r,s,a,l,c,u){var h,p,m=new n({onComplete:l,onCompleteParams:c,callbackScope:u,smoothChildTiming:this.smoothChildTiming}),v=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),o(t=t||[])&&(t=g(t)),(s=s||0)<0&&((t=g(t)).reverse(),s*=-1),p=0;p<t.length;p++)(h=d(r)).startAt&&(h.startAt=d(h.startAt),h.startAt.cycle&&f(h.startAt,t,p)),v&&(f(h,t,p),null!=h.duration&&(e=h.duration,delete h.duration)),m.to(t[p],e,h,p*s);return this.add(m,a)},m.staggerFrom=function(t,e,i,n,r,s,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,s,a,o)},m.staggerFromTo=function(t,e,i,n,r,s,a,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,s,a,o,l)},m.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},m.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var r,s,a,o,l=new n(t),c=l._timeline;for(null==e&&(e=!0),c._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=c._time,a=c._first;a;)o=a._next,e&&a instanceof i&&a.target===a.vars.onComplete||((s=a._startTime-a._delay)<0&&(r=1),l.add(a,s)),a=o;return c.add(l,0),r&&l.totalDuration(),l},m.add=function(r,s,a,o){var c,u,h,d,f,p;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(a=a||"normal",o=o||0,c=s,u=r.length,h=0;h<u;h++)l(d=r[h])&&(d=new n({tweens:d})),this.add(d,c),"string"!=typeof d&&"function"!=typeof d&&("sequence"===a?c=d._startTime+d.totalDuration()/d._timeScale:"start"===a&&(d._startTime-=d.delay())),c+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,s),r._time&&r.render((this.rawTime()-r._startTime)*r._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=(f=this).rawTime()>r._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},m.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},m._remove=function(t,i){return e.prototype._remove.call(this,t,i),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},m.insert=m.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},m.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},m.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},m.addPause=function(t,e,n,r){var s=i.delayedCall(0,p,n,r||this);return s.vars.onComplete=s.vars.onReverseComplete=e,s.data="isPause",this._hasPause=!0,this.add(s,t)},m.removeLabel=function(t){return delete this._labels[t],this},m.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},m._parseTimeOrLabel=function(e,i,n,r){var s,a;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(a=r.length;--a>-1;)r[a]instanceof t&&r[a].timeline===this&&this.remove(r[a]);if(s="number"!=typeof e||i?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-s:0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=s);else{if(-1===(a=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=s+i:i:this._labels[e]+i;i=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1)),e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,n):s}return Number(e)+i},m.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(t,e){return this.play(t,e)},m.gotoAndStop=function(t,e){return this.pause(t,e)},m.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,s,a,o,l,h,d=this._time,f=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,g=this._timeScale,m=this._paused;if(d!==this._time&&(t+=this._time-d),t>=f-1e-7&&t>=0)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",o=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(o=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=f+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(o=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(o=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(o=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||i||o||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(h=this._time)>=d)for(n=this._first;n&&(s=n._next,h===this._time&&(!this._paused||m));)(n._active||n._startTime<=h&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,h===this._time&&(!this._paused||m));){if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=s}this._onUpdate&&(e||(c.length&&u(),this._callback("onUpdate"))),a&&(this._gc||p!==this._startTime&&g===this._timeScale||(0===this._time||f>=this.totalDuration())&&(r&&(c.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},m._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},m.getChildren=function(t,e,n,r){r=r||-9999999999;for(var s=[],a=this._first,o=0;a;)a._startTime<r||(a instanceof i?!1!==e&&(s[o++]=a):(!1!==n&&(s[o++]=a),!1!==t&&(o=(s=s.concat(a.getChildren(!0,e,n))).length))),a=a._next;return s},m.getTweensOf=function(t,e){var n,r,s=this._gc,a=[],o=0;for(s&&this._enabled(!0,!0),r=(n=i.getTweensOf(t)).length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(a[o++]=n[r]);return s&&this._enabled(!1,!0),a},m.recent=function(){return this._recent},m._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},m.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},m._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},m.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},m._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},m.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},m.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,s=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):s=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),(i=r._startTime+r._totalDuration/r._timeScale)>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},m.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},m.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},n},!0),r._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},s=e._internals,a=s.lazyTweens,o=s.lazyRender,l=r._gsDefine.globals,c=new i(null,null,1,0),u=n.prototype=new t;return u.constructor=n,u.kill()._gc=!1,n.version="1.20.4",u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},u.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},u.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},u.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},u.tweenTo=function(t,i){i=i||{};var n,r,s,a={ease:c,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},o=i.repeat&&l.TweenMax||e;for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,s=new o(this,n,a),a.onStart=function(){s.target.paused(!0),s.vars.time===s.target.time()||n!==s.duration()||s.isFromTo||s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale).render(s.time(),!0,!0),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||s,i.onStartParams||[])},s},u.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},u.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,s,l,c,u,h,d,f=this._time,p=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,m=this._totalTime,v=this._startTime,y=this._timeScale,b=this._rawPrevTime,_=this._paused,T=this._cycle;if(f!==this._time&&(t+=this._time-f),t>=p-1e-7&&t>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,l="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||b<0||1e-10===b)&&b!==t&&this._first&&(c=!0,b>1e-10&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=g,t=g+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==f||0===g&&1e-10!==b&&(b>0||t<0&&b>=0)&&!this._locked)&&(l="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=r=!0,l="onReverseComplete"):b>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=g||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(c=!0)}else if(0===g&&b<0&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=g+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time),this._time>g?(this._time=g,t=g+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=f||this._repeat&&T!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&h._startTime<g&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==T&&!this._locked){var w=this._yoyo&&0!=(1&T),E=w===(this._yoyo&&0!=(1&this._cycle)),S=this._totalTime,x=this._cycle,A=this._rawPrevTime,k=this._time;if(this._totalTime=T*g,this._cycle<T?w=!w:this._totalTime+=g,this._time=f,this._rawPrevTime=0===g?b-1e-4:b,this._cycle=T,this._locked=!0,f=w?0:g,this.render(f,e,0===g),e||this._gc||this.vars.onRepeat&&(this._cycle=x,this._locked=!1,this._callback("onRepeat")),f!==this._time)return;if(E&&(this._cycle=T,this._locked=!0,f=w?g+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!_)return;this._time=k,this._totalTime=S,this._cycle=x,this._rawPrevTime=A}if(this._time!==f&&this._first||i||c||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(d=this._time)>=f)for(n=this._first;n&&(s=n._next,d===this._time&&(!this._paused||_));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(h===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,d===this._time&&(!this._paused||_));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=s}this._onUpdate&&(e||(a.length&&o(),this._callback("onUpdate"))),l&&(this._locked||this._gc||v!==this._startTime&&y===this._timeScale||(0===this._time||p>=this.totalDuration())&&(r&&(a.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))}else m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},u.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,s=[],a=this.getChildren(t,e,i),o=0,l=a.length;for(n=0;n<l;n++)(r=a[n]).isActive()&&(s[o++]=r);return s},u.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},u.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},u.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},u.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},u.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},u.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),t=180/Math.PI,e=[],i=[],n=[],s={},a=r._gsDefine.globals,o=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},l=function(t,e,i,n){var r={a:t},s={},a={},o={c:n},l=(t+e)/2,c=(e+i)/2,u=(i+n)/2,h=(l+c)/2,d=(c+u)/2,f=(d-h)/8;return r.b=l+(t-l)/4,s.b=h+f,r.c=s.a=(r.b+s.b)/2,s.c=a.a=(h+d)/2,a.b=d-f,o.b=u+(n-u)/4,a.c=o.a=(a.b+o.b)/2,[r,s,a,o]},c=function(t,r,s,a,o){var c,u,h,d,f,p,g,m,v,y,b,_,T,w=t.length-1,E=0,S=t[0].a;for(c=0;c<w;c++)u=(f=t[E]).a,h=f.d,d=t[E+1].d,o?(b=e[c],T=((_=i[c])+b)*r*.25/(a?.5:n[c]||.5),m=h-((p=h-(h-u)*(a?.5*r:0!==b?T/b:0))+(((g=h+(d-h)*(a?.5*r:0!==_?T/_:0))-p)*(3*b/(b+_)+.5)/4||0))):m=h-((p=h-(h-u)*r*.5)+(g=h+(d-h)*r*.5))/2,p+=m,g+=m,f.c=v=p,f.b=0!==c?S:S=f.a+.6*(f.c-f.a),f.da=h-u,f.ca=v-u,f.ba=S-u,s?(y=l(u,S,v,h),t.splice(E,1,y[0],y[1],y[2],y[3]),E+=4):E++,S=g;(f=t[E]).b=S,f.c=S+.4*(f.d-S),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=S-f.a,s&&(y=l(f.a,S,f.c,f.d),t.splice(E,1,y[0],y[1],y[2],y[3]))},u=function(t,n,r,s){var a,l,c,u,h,d,f=[];if(s)for(l=(t=[s].concat(t)).length;--l>-1;)"string"==typeof(d=t[l][n])&&"="===d.charAt(1)&&(t[l][n]=s[n]+Number(d.charAt(0)+d.substr(2)));if((a=t.length-2)<0)return f[0]=new o(t[0][n],0,0,t[0][n]),f;for(l=0;l<a;l++)c=t[l][n],u=t[l+1][n],f[l]=new o(c,0,0,u),r&&(h=t[l+2][n],e[l]=(e[l]||0)+(u-c)*(u-c),i[l]=(i[l]||0)+(h-u)*(h-u));return f[l]=new o(t[l][n],0,0,t[l+1][n]),f},h=function(t,r,a,o,l,h){var d,f,p,g,m,v,y,b,_={},T=[],w=h||t[0];for(f in l="string"==typeof l?","+l+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==r&&(r=1),t[0])T.push(f);if(t.length>1){for(b=t[t.length-1],y=!0,d=T.length;--d>-1;)if(f=T[d],Math.abs(w[f]-b[f])>.05){y=!1;break}y&&(t=t.concat(),h&&t.unshift(h),t.push(t[1]),h=t[t.length-3])}for(e.length=i.length=n.length=0,d=T.length;--d>-1;)f=T[d],s[f]=-1!==l.indexOf(","+f+","),_[f]=u(t,f,s[f],h);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!o){for(d=T.length;--d>-1;)if(s[f])for(v=(p=_[T[d]]).length-1,g=0;g<v;g++)m=p[g+1].da/i[g]+p[g].da/e[g]||0,n[g]=(n[g]||0)+m*m;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=T.length,g=a?4:1;--d>-1;)p=_[f=T[d]],c(p,r,a,o,s[f]),y&&(p.splice(0,g),p.splice(p.length-g,g));return _},d=function(t,e,i){for(var n,r,s,a,o,l,c,u,h,d,f,p=1/i,g=t.length;--g>-1;)for(s=(d=t[g]).a,a=d.d-s,o=d.c-s,l=d.b-s,n=r=0,u=1;u<=i;u++)n=r-(r=((c=p*u)*c*a+3*(h=1-c)*(c*o+h*l))*c),e[f=g*i+u-1]=(e[f]||0)+n*n},f=r._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,s,a,l,c=e.values||[],u={},f=c[0],p=e.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",!0===p?0:Number(p)||0]]:null,f)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],u[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),l||u[n]!==c[0][n]&&(l=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?h(c,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,l):function(t,e,i){var n,r,s,a,l,c,u,h,d,f,p,g={},m="cubic"===(e=e||"soft")?3:2,v="soft"===e,y=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(d in t[0])y.push(d);for(c=y.length;--c>-1;){for(g[d=y[c]]=l=[],f=0,h=t.length,u=0;u<h;u++)n=null==i?t[u][d]:"string"==typeof(p=t[u][d])&&"="===p.charAt(1)?i[d]+Number(p.charAt(0)+p.substr(2)):Number(p),v&&u>1&&u<h-1&&(l[f++]=(n+l[f-2])/2),l[f++]=n;for(h=f-m+1,f=0,u=0;u<h;u+=m)n=l[u],r=l[u+1],s=l[u+2],a=2===m?0:l[u+3],l[f++]=p=3===m?new o(n,r,s,a):new o(n,(2*r+n)/3,(2*r+s)/3,s);l.length=f}return g}(c,e.type,u),this._segCount=this._beziers[n].length,this._timeRes){var g=function(t,e){var i,n,r,s,a=[],o=[],l=0,c=0,u=(e=e>>0||6)-1,h=[],f=[];for(i in t)d(t[i],a,e);for(r=a.length,n=0;n<r;n++)l+=Math.sqrt(a[n]),f[s=n%e]=l,s===u&&(c+=l,h[s=n/e>>0]=f,o[s]=c,l=0,f=[]);return{length:c,lengths:o,segments:h}}(this._beziers,this._timeRes);this._length=g.length,this._lengths=g.lengths,this._segments=g.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),s=p.length;--s>-1;){for(a=0;a<3;a++)n=p[s][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=p[s][2],this._initialRotations[s]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,s,a,o,l,c,u,h,d=this._segCount,f=this._func,p=this._target,g=e!==this._startRatio;if(this._timeRes){if(u=this._lengths,h=this._curSeg,e*=this._length,r=this._li,e>this._l2&&r<d-1){for(c=d-1;r<c&&(this._l2=u[++r])<=e;);this._l1=u[r-1],this._li=r,this._curSeg=h=this._segments[r],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=u[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=u[r],this._li=r,this._curSeg=h=this._segments[r],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<h.length-1){for(c=h.length-1;r<c&&(this._s2=h[++r])<=e;);this._s1=h[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=h[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=h[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else o=(e-(i=e<0?0:e>=1?d-1:d*e>>0)*(1/d))*d;for(n=1-o,r=this._props.length;--r>-1;)s=this._props[r],l=(o*o*(a=this._beziers[s][i]).da+3*n*(o*a.ca+n*a.ba))*o+a.a,this._mod[s]&&(l=this._mod[s](l,p)),f[s]?p[s](l):p[s]=l;if(this._autoRotate){var m,v,y,b,_,T,w,E=this._autoRotate;for(r=E.length;--r>-1;)s=E[r][2],T=E[r][3]||0,w=!0===E[r][4]?1:t,a=this._beziers[E[r][0]],m=this._beziers[E[r][1]],a&&m&&(a=a[i],m=m[i],v=a.a+(a.b-a.a)*o,v+=((b=a.b+(a.c-a.b)*o)-v)*o,b+=(a.c+(a.d-a.c)*o-b)*o,y=m.a+(m.b-m.a)*o,y+=((_=m.b+(m.c-m.b)*o)-y)*o,_+=(m.c+(m.d-m.c)*o-_)*o,l=g?Math.atan2(_-y,b-v)*w+T:this._initialRotations[r],this._mod[s]&&(l=this._mod[s](l,p)),f[s]?p[s](l):p[s]=l)}}}),p=f.prototype,f.bezierThrough=h,f.cubicToQuadratic=l,f._autoCSS=!0,f.quadraticToCubic=function(t,e,i){return new o(t,(2*e+t)/3,(2*e+i)/3,i)},f._cssRegister=function(){var t=a.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,a,o,l){e instanceof Array&&(e={values:e}),l=new f;var c,u,h,d=e.values,p=d.length-1,g=[],m={};if(p<0)return o;for(c=0;c<=p;c++)h=i(t,d[c],a,o,l,p!==c),g[c]=h.end;for(u in e)m[u]=e[u];return m.values=g,(o=new r(t,"bezier",0,0,h.pt,2)).data=h,o.plugin=l,o.setRatio=n,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(c=!0===m.autoRotate?0:Number(m.autoRotate),m.autoRotate=null!=h.end.left?[["left","top","rotation",c,!1]]:null!=h.end.x&&[["x","y","rotation",c,!1]]),m.autoRotate&&(a._transform||a._enableTransforms(!1),h.autoRotate=a._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,a._overwriteProps.push("rotation")),l._onInitTween(h.proxy,m,a._tween),o}})}},p._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;--n>-1;)(e=t[i[n]])&&"function"==typeof e&&(this._mod[i[n]]=e)},p._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)},r._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,s,a,o=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},l=r._gsDefine.globals,c={},u=o.prototype=new t("css");u.constructor=o,o.version="1.20.4",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,u="px",o.suffixMap={top:u,right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var h,d,f,p,g,m,v,y,b=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,T=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,E=/(?:\d|\-|\+|=|#|\.)*/g,S=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,A=/alpha\(opacity *=.+?\)/i,k=/^(rgb|hsl)/,C=/([A-Z])/g,R=/-([a-z])/gi,P=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,L=function(t,e){return e.toUpperCase()},D=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,I=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,M=/,(?=[^\)]*(?:\(|$))/gi,N=/[\s,\(]/i,F=Math.PI/180,B=180/Math.PI,U={},H={style:{}},j=r.document||{createElement:function(){return H}},z=function(t,e){return j.createElementNS?j.createElementNS(e||"http://www.w3.org/1999/xhtml",t):j.createElement(t)},G=z("div"),q=z("img"),W=o._internals={_specialProps:c},Y=(r.navigator||{}).userAgent||"",X=function(){var t=Y.indexOf("Android"),e=z("a");return f=-1!==Y.indexOf("Safari")&&-1===Y.indexOf("Chrome")&&(-1===t||parseFloat(Y.substr(t+8,2))>3),g=f&&parseFloat(Y.substr(Y.indexOf("Version/")+8,2))<6,p=-1!==Y.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Y)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Y))&&(m=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),V=function(t){return S.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},K=function(t){r.console&&console.log(t)},$="",Q="",Z=function(t,e){var i,n,r=(e=e||G).style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?($="-"+(Q=3===n?"ms":i[n]).toLowerCase()+"-",Q+t):null},J=j.defaultView?j.defaultView.getComputedStyle:function(){},tt=o.getStyle=function(t,e,i,n,r){var s;return X||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||J(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(C,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):V(t)},et=W.convertToPixels=function(t,i,n,r,s){if("px"===r||!r&&"lineHeight"!==i)return n;if("auto"===r||!n)return 0;var a,l,c,u=D.test(i),h=t,d=G.style,f=n<0,p=1===n;if(f&&(n=-n),p&&(n*=100),"lineHeight"!==i||r)if("%"===r&&-1!==i.indexOf("border"))a=n/100*(u?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)d[u?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(h=t.parentNode||j.body,-1!==tt(h,"display").indexOf("flex")&&(d.position="absolute"),l=h._gsCache,c=e.ticker.frame,l&&u&&l.time===c)return l.width*n/100;d[u?"width":"height"]=n+r}h.appendChild(G),a=parseFloat(G[u?"offsetWidth":"offsetHeight"]),h.removeChild(G),u&&"%"===r&&!1!==o.cacheWidths&&((l=h._gsCache=h._gsCache||{}).time=c,l.width=a/n*100),0!==a||s||(a=et(t,i,n,r,!0))}else l=J(t).lineHeight,t.style.lineHeight=n,a=parseFloat(J(t).lineHeight),t.style.lineHeight=l;return p&&(a/=100),f?-a:a},it=W.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=tt(t,"margin"+n,i);return t["offset"+n]-(et(t,e,parseFloat(r),r.replace(E,""))||0)},nt=function(t,e){var i,n,r,s={};if(e=e||J(t,null))if(i=e.length)for(;--i>-1;)-1!==(r=e[i]).indexOf("-transform")&&It!==r||(s[r.replace(R,L)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Ot!==i||(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(R,L)]=e[i]);return X||(s.opacity=V(t)),n=Xt(t,e,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Nt&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},rt=function(t,e,i,n,r){var s,a,o,l={},c=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(s=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"!=typeof s&&"string"!=typeof s||(l[a]="auto"!==s||"left"!==a&&"top"!==a?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[a]||""===e[a].replace(w,"")?s:0:it(t,a),void 0!==c[a]&&(o=new bt(c,a,c[a],o))));if(n)for(a in n)"className"!==a&&(l[a]=n[a]);return{difs:l,firstMPT:o}},st={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],ot=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||J(t))[e]||0;if(t.getCTM&&qt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=st[e],s=r.length;for(i=i||J(t,null);--s>-1;)n-=parseFloat(tt(t,"padding"+r[s],i,!0))||0,n-=parseFloat(tt(t,"border"+r[s]+"Width",i,!0))||0;return n},lt=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":n[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(lt(n[i]));return t.join(",")}return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+s+(n.length>2?" "+n[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(w,"")),e.oy=parseFloat(s.replace(w,"")),e.v=t),e||t},ct=function(t,e){return"function"==typeof t&&(t=t(y,v)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ut=function(t,e){return"function"==typeof t&&(t=t(y,v)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ht=function(t,e,i,n){var r,s,a,o,l;return"function"==typeof t&&(t=t(y,v)),null==t?o=e:"number"==typeof t?o=t:(r=360,s=t.split("_"),a=((l="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===t.indexOf("rad")?1:B)-(l?0:e),s.length&&(n&&(n[i]=e+a),-1!==t.indexOf("short")&&(a%=r)!=a%(r/2)&&(a=a<0?a+r:a-r),-1!==t.indexOf("_cw")&&a<0?a=(a+9999999999*r)%r-(a/r|0)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),o=e+a),o<1e-6&&o>-1e-6&&(o=0),o},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ft=function(t,e,i){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},pt=o.parseColor=function(t,e){var i,n,r,s,a,o,l,c,u,h,d;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),dt[t])i=dt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(r=t.charAt(2))+r+(s=t.charAt(3))+s),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=d=t.match(b),e){if(-1!==t.indexOf("="))return t.match(_)}else a=Number(i[0])%360/360,o=Number(i[1])/100,n=2*(l=Number(i[2])/100)-(r=l<=.5?l*(o+1):l+o-l*o),i.length>3&&(i[3]=Number(i[3])),i[0]=ft(a+1/3,n,r),i[1]=ft(a,n,r),i[2]=ft(a-1/3,n,r);else i=t.match(b)||dt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=dt.black;return e&&!d&&(n=i[0]/255,r=i[1]/255,s=i[2]/255,l=((c=Math.max(n,r,s))+(u=Math.min(n,r,s)))/2,c===u?a=o=0:(h=c-u,o=l>.5?h/(2-c-u):h/(c+u),a=c===n?(r-s)/h+(r<s?6:0):c===r?(s-n)/h+2:(n-r)/h+4,a*=60),i[0]=a+.5|0,i[1]=100*o+.5|0,i[2]=100*l+.5|0),i},gt=function(t,e){var i,n,r,s=t.match(mt)||[],a=0,o="";if(!s.length)return t;for(i=0;i<s.length;i++)n=s[i],a+=(r=t.substr(a,t.indexOf(n,a)-a)).length+n.length,3===(n=pt(n,e)).length&&n.push(1),o+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return o+t.substr(a)},mt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(u in dt)mt+="|"+u+"\\b";mt=new RegExp(mt+")","gi"),o.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];mt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=gt(t[0],e),t[1]=gt(t[1],e)),mt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=o.colorStringFilter);var vt=function(t,e,i,n){if(null==t)return function(t){return t};var r,s=e?(t.match(mt)||[""])[0]:"",a=t.split(s).join("").match(T)||[],o=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",c=-1!==t.indexOf(" ")?" ":",",u=a.length,h=u>0?a[0].replace(b,""):"";return u?r=e?function(t){var e,d,f,p;if("number"==typeof t)t+=h;else if(n&&M.test(t)){for(p=t.replace(M,"|").split("|"),f=0;f<p.length;f++)p[f]=r(p[f]);return p.join(",")}if(e=(t.match(mt)||[s])[0],f=(d=t.split(e).join("").match(T)||[]).length,u>f--)for(;++f<u;)d[f]=i?d[(f-1)/2|0]:a[f];return o+d.join(c)+c+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,d;if("number"==typeof t)t+=h;else if(n&&M.test(t)){for(s=t.replace(M,"|").split("|"),d=0;d<s.length;d++)s[d]=r(s[d]);return s.join(",")}if(d=(e=t.match(T)||[]).length,u>d--)for(;++d<u;)e[d]=i?e[(d-1)/2|0]:a[d];return o+e.join(c)+l}:function(t){return t}},yt=function(t){return t=t.split(","),function(e,i,n,r,s,a,o){var l,c=(i+"").split(" ");for(o={},l=0;l<4;l++)o[t[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(e,o,s,a)}},bt=(W._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,s,a=this.data,o=a.proxy,l=a.firstMPT;l;)e=o[l.v],l.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),l.t[l.p]=e,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(o.rotation,this.t):o.rotation),1===t||0===t)for(l=a.firstMPT,s=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[s]=r}}else i[s]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),_t=(W._parseToProxy=function(t,e,i,n,r,s){var a,o,l,c,u,h=n,d={},f={},p=i._transform,g=U;for(i._transform=null,U=e,n=u=i.parse(t,e,n,r),U=g,s&&(i._transform=p,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(n.type<=1&&(f[o=n.p]=n.s+n.c,d[o]=n.s,s||(c=new bt(n,"s",o,c,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)l="xn"+a,f[o=n.p+"_"+l]=n.data[l],d[o]=n[l],s||(c=new bt(n,l,o,c,n.rxp[l]));n=n._next}return{proxy:d,end:f,firstMPT:c,pt:u}},W.CSSPropTween=function(t,e,n,r,s,o,l,c,u,h,d){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof _t||a.push(this.n),this.r=c,this.type=o||0,u&&(this.pr=u,i=!0),this.b=void 0===h?n:h,this.e=void 0===d?n+r:d,s&&(this._next=s,s._prev=this)}),Tt=function(t,e,i,n,r,s){var a=new _t(t,e,i,n-i,r,-1,s);return a.b=i,a.e=a.xs0=n,a},wt=o.parseComplex=function(t,e,i,n,r,s,a,l,c,u){i=i||s||"","function"==typeof n&&(n=n(y,v)),a=new _t(t,e,0,0,a,u?2:1,null,!1,l,i,n),n+="",r&&mt.test(n+i)&&(n=[i,n],o.colorStringFilter(n),i=n[0],n=n[1]);var d,f,p,g,m,T,w,E,S,x,A,k,C,R=i.split(", ").join(",").split(" "),P=n.split(", ").join(",").split(" "),L=R.length,D=!1!==h;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(-1!==(n+i).indexOf("rgb")||-1!==(n+i).indexOf("hsl")?(R=R.join(" ").replace(M,", ").split(" "),P=P.join(" ").replace(M,", ").split(" ")):(R=R.join(" ").split(",").join(", ").split(" "),P=P.join(" ").split(",").join(", ").split(" ")),L=R.length),L!==P.length&&(L=(R=(s||"").split(" ")).length),a.plugin=c,a.setRatio=u,mt.lastIndex=0,d=0;d<L;d++)if(g=R[d],m=P[d],(E=parseFloat(g))||0===E)a.appendXtra("",E,ct(m,E),m.replace(_,""),D&&-1!==m.indexOf("px"),!0);else if(r&&mt.test(g))k=")"+((k=m.indexOf(")")+1)?m.substr(k):""),C=-1!==m.indexOf("hsl")&&X,x=m,g=pt(g,C),m=pt(m,C),(S=g.length+m.length>6)&&!X&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(P[d]).join("transparent")):(X||(S=!1),C?a.appendXtra(x.substr(0,x.indexOf("hsl"))+(S?"hsla(":"hsl("),g[0],ct(m[0],g[0]),",",!1,!0).appendXtra("",g[1],ct(m[1],g[1]),"%,",!1).appendXtra("",g[2],ct(m[2],g[2]),S?"%,":"%"+k,!1):a.appendXtra(x.substr(0,x.indexOf("rgb"))+(S?"rgba(":"rgb("),g[0],m[0]-g[0],",",!0,!0).appendXtra("",g[1],m[1]-g[1],",",!0).appendXtra("",g[2],m[2]-g[2],S?",":k,!0),S&&(g=g.length<4?1:g[3],a.appendXtra("",g,(m.length<4?1:m[3])-g,k,!1))),mt.lastIndex=0;else if(T=g.match(b)){if(!(w=m.match(_))||w.length!==T.length)return a;for(p=0,f=0;f<T.length;f++)A=T[f],x=g.indexOf(A,p),a.appendXtra(g.substr(p,x-p),Number(A),ct(w[f],A),"",D&&"px"===g.substr(x+A.length,2),0===f),p=x+A.length;a["xs"+a.l]+=g.substr(p)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+m:m;if(-1!==n.indexOf("=")&&a.data){for(k=a.xs0+a.data.s,d=1;d<a.l;d++)k+=a["xs"+d]+a.data["xn"+d];a.e=k+a["xs"+d]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},Et=9;for((u=_t.prototype).l=u.pr=0;--Et>0;)u["xn"+Et]=0,u["xs"+Et]="";u.xs0="",u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null,u.appendXtra=function(t,e,i,n,r,s){var a=this,o=a.l;return a["xs"+o]+=s&&(o||a["xs"+o])?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new _t(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(n||""),a)};var St=function(t,e){e=e||{},this.p=e.prefix&&Z(t)||t,c[t]=c[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},xt=W._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r=t.split(","),s=e.defaultValue;for(i=i||[s],n=0;n<r.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||s,new St(r[n],e)},At=W._registerPluginProp=function(t){if(!c[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";xt(t,{parser:function(t,i,n,r,s,a,o){var u=l.com.greensock.plugins[e];return u?(u._cssRegister(),c[n].parse(t,i,n,r,s,a,o)):(K("Error: "+e+" js file not loaded."),s)}})}};(u=St.prototype).parseComplex=function(t,e,i,n,r,s){var a,o,l,c,u,h,d=this.keyword;if(this.multi&&(M.test(i)||M.test(e)?(o=e.replace(M,"|").split("|"),l=i.replace(M,"|").split("|")):d&&(o=[e],l=[i])),l){for(c=l.length>o.length?l.length:o.length,a=0;a<c;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,d&&(u=e.indexOf(d))!==(h=i.indexOf(d))&&(-1===h?o[a]=o[a].split(d).join(""):-1===u&&(o[a]+=" "+d));e=o.join(", "),i=l.join(", ")}return wt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,s)},u.parse=function(t,e,i,n,r,a,o){return this.parseComplex(t.style,this.format(tt(t,this.p,s,!1,this.dflt)),this.format(e),r,a)},o.registerSpecialProp=function(t,e,i){xt(t,{parser:function(t,n,r,s,a,o,l){var c=new _t(t,r,0,0,a,2,r,!1,i);return c.plugin=o,c.setRatio=e(t,n,s._tween,r),c},priority:i})},o.useSVGTransformAttr=!0;var kt,Ct,Rt,Pt,Lt,Dt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ot=Z("transform"),It=$+"transform",Mt=Z("transformOrigin"),Nt=null!==Z("perspective"),Ft=W.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=!(!1===o.defaultForce3D||!Nt)&&(o.defaultForce3D||"auto")},Bt=r.SVGElement,Ut=function(t,e,i){var n,r=j.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(s,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Ht=j.documentElement||{},jt=(Lt=m||/Android/i.test(Y)&&!r.chrome,j.createElementNS&&!Lt&&(Pt=(Rt=Ut("rect",Ct=Ut("svg",Ht),{width:100,height:50,x:100})).getBoundingClientRect().width,Rt.style[Mt]="50% 50%",Rt.style[Ot]="scaleX(0.5)",Lt=Pt===Rt.getBoundingClientRect().width&&!(p&&Nt),Ht.removeChild(Ct)),Lt),zt=function(t,e,i,n,r,s){var a,l,c,u,h,d,f,p,g,m,v,y,b,_,T=t._gsTransform,w=Yt(t,!0);T&&(b=T.xOrigin,_=T.yOrigin),(!n||(a=n.split(" ")).length<2)&&(0===(f=t.getBBox()).x&&0===f.y&&f.width+f.height===0&&(f={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),a=[(-1!==(e=lt(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),i.xOrigin=u=parseFloat(a[0]),i.yOrigin=h=parseFloat(a[1]),n&&w!==Wt&&(d=w[0],f=w[1],p=w[2],g=w[3],m=w[4],v=w[5],(y=d*g-f*p)&&(l=u*(g/y)+h*(-p/y)+(p*v-g*m)/y,c=u*(-f/y)+h*(d/y)-(d*v-f*m)/y,u=i.xOrigin=a[0]=l,h=i.yOrigin=a[1]=c)),T&&(s&&(i.xOffset=T.xOffset,i.yOffset=T.yOffset,T=i),r||!1!==r&&!1!==o.defaultSmoothOrigin?(l=u-b,c=h-_,T.xOffset+=l*w[0]+c*w[2]-l,T.yOffset+=l*w[1]+c*w[3]-c):T.xOffset=T.yOffset=0),s||t.setAttribute("data-svg-origin",a.join(" "))},Gt=function(t){var e,i=z("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(Ht.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Gt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?n.insertBefore(this,r):n.appendChild(this),Ht.removeChild(i),this.style.cssText=s,e},qt=function(t){return!(!Bt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(t){try{return t.getBBox()}catch(e){return Gt.call(t,!0)}}(t))},Wt=[1,0,0,1,0,0],Yt=function(t,e){var i,n,r,s,a,o,l=t._gsTransform||new Ft,c=t.style;if(Ot?n=tt(t,It,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(O))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Ot||!(o=!J(t)||"none"===J(t).display)&&t.parentNode||(o&&(s=c.display,c.display="block"),t.parentNode||(a=1,Ht.appendChild(t)),i=!(n=tt(t,It,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,s?c.display=s:o&&Qt(c,"display"),a&&Ht.removeChild(t)),(l.svg||t.getCTM&&qt(t))&&(i&&-1!==(c[Ot]+"").indexOf("matrix")&&(n=c[Ot],i=0),r=t.getAttribute("transform"),i&&r&&(n="matrix("+(r=t.transform.baseVal.consolidate().matrix).a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",i=0)),i)return Wt;for(r=(n||"").match(b)||[],Et=r.length;--Et>-1;)s=Number(r[Et]),r[Et]=(a=s-(s|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+s:s;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Xt=W.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var s,a,l,c,u,h,d=n&&t._gsTransform||new Ft,f=d.scaleX<0,p=Nt&&(parseFloat(tt(t,Mt,i,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,g=parseFloat(o.defaultTransformPerspective)||0;if(d.svg=!(!t.getCTM||!qt(t)),d.svg&&(zt(t,tt(t,Mt,i,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),kt=o.useSVGTransformAttr||jt),(s=Yt(t))!==Wt){if(16===s.length){var m,v,y,b,_,T=s[0],w=s[1],E=s[2],S=s[3],x=s[4],A=s[5],k=s[6],C=s[7],R=s[8],P=s[9],L=s[10],D=s[12],O=s[13],I=s[14],M=s[11],N=Math.atan2(k,L);d.zOrigin&&(D=R*(I=-d.zOrigin)-s[12],O=P*I-s[13],I=L*I+d.zOrigin-s[14]),d.rotationX=N*B,N&&(m=x*(b=Math.cos(-N))+R*(_=Math.sin(-N)),v=A*b+P*_,y=k*b+L*_,R=x*-_+R*b,P=A*-_+P*b,L=k*-_+L*b,M=C*-_+M*b,x=m,A=v,k=y),N=Math.atan2(-E,L),d.rotationY=N*B,N&&(v=w*(b=Math.cos(-N))-P*(_=Math.sin(-N)),y=E*b-L*_,P=w*_+P*b,L=E*_+L*b,M=S*_+M*b,T=m=T*b-R*_,w=v,E=y),N=Math.atan2(w,T),d.rotation=N*B,N&&(m=T*(b=Math.cos(N))+w*(_=Math.sin(N)),v=x*b+A*_,y=R*b+P*_,w=w*b-T*_,A=A*b-x*_,P=P*b-R*_,T=m,x=v,R=y),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),N=Math.atan2(x,A),d.scaleX=(1e5*Math.sqrt(T*T+w*w+E*E)+.5|0)/1e5,d.scaleY=(1e5*Math.sqrt(A*A+k*k)+.5|0)/1e5,d.scaleZ=(1e5*Math.sqrt(R*R+P*P+L*L)+.5|0)/1e5,T/=d.scaleX,x/=d.scaleY,w/=d.scaleX,A/=d.scaleY,Math.abs(N)>2e-5?(d.skewX=N*B,x=0,"simple"!==d.skewType&&(d.scaleY*=1/Math.cos(N))):d.skewX=0,d.perspective=M?1/(M<0?-M:M):0,d.x=D,d.y=O,d.z=I,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*T-d.yOrigin*x),d.y-=d.yOrigin-(d.yOrigin*w-d.xOrigin*A))}else if(!Nt||r||!s.length||d.x!==s[4]||d.y!==s[5]||!d.rotationX&&!d.rotationY){var F=s.length>=6,U=F?s[0]:1,H=s[1]||0,j=s[2]||0,z=F?s[3]:1;d.x=s[4]||0,d.y=s[5]||0,l=Math.sqrt(U*U+H*H),c=Math.sqrt(z*z+j*j),u=U||H?Math.atan2(H,U)*B:d.rotation||0,h=j||z?Math.atan2(j,z)*B+u:d.skewX||0,d.scaleX=l,d.scaleY=c,d.rotation=u,d.skewX=h,Nt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=g,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*U+d.yOrigin*j),d.y-=d.yOrigin-(d.xOrigin*H+d.yOrigin*z))}for(a in Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(f?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180)),d.zOrigin=p,d)d[a]<2e-5&&d[a]>-2e-5&&(d[a]=0)}return n&&(t._gsTransform=d,d.svg&&(kt&&t.style[Ot]?e.delayedCall(.001,function(){Qt(t.style,Ot)}):!kt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},Vt=function(t){var e,i,n=this.data,r=-n.rotation*F,s=r+n.skewX*F,a=(Math.cos(r)*n.scaleX*1e5|0)/1e5,o=(Math.sin(r)*n.scaleX*1e5|0)/1e5,l=(Math.sin(s)*-n.scaleY*1e5|0)/1e5,c=(Math.cos(s)*n.scaleY*1e5|0)/1e5,u=this.t.style,h=this.t.currentStyle;if(h){i=o,o=-l,l=-i,e=h.filter,u.filter="";var d,f,p=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==h.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+o+", M21="+l+", M22="+c,b=n.x+p*n.xPercent/100,_=n.y+g*n.yPercent/100;if(null!=n.ox&&(b+=(d=(n.oxp?p*n.ox*.01:n.ox)-p/2)-(d*a+(f=(n.oyp?g*n.oy*.01:n.oy)-g/2)*o),_+=f-(d*l+f*c)),y+=v?", Dx="+((d=p/2)-(d*a+(f=g/2)*o)+b)+", Dy="+(f-(d*l+f*c)+_)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(I,y):u.filter=y+" "+e,0!==t&&1!==t||1===a&&0===o&&0===l&&1===c&&(v&&-1===y.indexOf("Dx=0, Dy=0")||S.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!v){var T,w,x,A=m<8?1:-1;for(d=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((p-((a<0?-a:a)*p+(o<0?-o:o)*g))/2+b),n.ieOffsetY=Math.round((g-((c<0?-c:c)*g+(l<0?-l:l)*p))/2+_),Et=0;Et<4;Et++)x=(i=-1!==(T=h[w=at[Et]]).indexOf("px")?parseFloat(T):et(this.t,w,parseFloat(T),T.replace(E,""))||0)!==n[w]?Et<2?-n.ieOffsetX:-n.ieOffsetY:Et<2?d-n.ieOffsetX:f-n.ieOffsetY,u[w]=(n[w]=Math.round(i-x*(0===Et||2===Et?1:A)))+"px"}}},Kt=W.set3DTransformRatio=W.setTransformRatio=function(t){var e,i,n,r,s,a,o,l,c,u,h,d,f,g,m,v,y,b,_,T,w,E=this.data,S=this.t.style,x=E.rotation,A=E.rotationX,k=E.rotationY,C=E.scaleX,R=E.scaleY,P=E.scaleZ,L=E.x,D=E.y,O=E.z,I=E.svg,M=E.perspective,N=E.force3D,B=E.skewY,U=E.skewX;if(B&&(U+=B,x+=B),!((1!==t&&0!==t||"auto"!==N||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&N||O||M||k||A||1!==P)||kt&&I||!Nt)x||U||I?(x*=F,T=U*F,w=1e5,i=Math.cos(x)*C,s=Math.sin(x)*C,n=Math.sin(x-T)*-R,a=Math.cos(x-T)*R,T&&"simple"===E.skewType&&(e=Math.tan(T-B*F),n*=e=Math.sqrt(1+e*e),a*=e,B&&(e=Math.tan(B*F),i*=e=Math.sqrt(1+e*e),s*=e)),I&&(L+=E.xOrigin-(E.xOrigin*i+E.yOrigin*n)+E.xOffset,D+=E.yOrigin-(E.xOrigin*s+E.yOrigin*a)+E.yOffset,kt&&(E.xPercent||E.yPercent)&&(m=this.t.getBBox(),L+=.01*E.xPercent*m.width,D+=.01*E.yPercent*m.height),L<(m=1e-6)&&L>-m&&(L=0),D<m&&D>-m&&(D=0)),_=(i*w|0)/w+","+(s*w|0)/w+","+(n*w|0)/w+","+(a*w|0)/w+","+L+","+D+")",I&&kt?this.t.setAttribute("transform","matrix("+_):S[Ot]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+_):S[Ot]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+R+","+L+","+D+")";else{if(p&&(C<(m=1e-4)&&C>-m&&(C=P=2e-5),R<m&&R>-m&&(R=P=2e-5),!M||E.z||E.rotationX||E.rotationY||(M=0)),x||U)x*=F,v=i=Math.cos(x),y=s=Math.sin(x),U&&(x-=U*F,v=Math.cos(x),y=Math.sin(x),"simple"===E.skewType&&(e=Math.tan((U-B)*F),v*=e=Math.sqrt(1+e*e),y*=e,E.skewY&&(e=Math.tan(B*F),i*=e=Math.sqrt(1+e*e),s*=e))),n=-y,a=v;else{if(!(k||A||1!==P||M||I))return void(S[Ot]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+D+"px,"+O+"px)"+(1!==C||1!==R?" scale("+C+","+R+")":""));i=a=1,n=s=0}u=1,r=o=l=c=h=d=0,f=M?-1/M:0,g=E.zOrigin,m=1e-6,(x=k*F)&&(v=Math.cos(x),l=-(y=Math.sin(x)),h=f*-y,r=i*y,o=s*y,u=v,f*=v,i*=v,s*=v),(x=A*F)&&(e=n*(v=Math.cos(x))+r*(y=Math.sin(x)),b=a*v+o*y,c=u*y,d=f*y,r=n*-y+r*v,o=a*-y+o*v,u*=v,f*=v,n=e,a=b),1!==P&&(r*=P,o*=P,u*=P,f*=P),1!==R&&(n*=R,a*=R,c*=R,d*=R),1!==C&&(i*=C,s*=C,l*=C,h*=C),(g||I)&&(g&&(L+=r*-g,D+=o*-g,O+=u*-g+g),I&&(L+=E.xOrigin-(E.xOrigin*i+E.yOrigin*n)+E.xOffset,D+=E.yOrigin-(E.xOrigin*s+E.yOrigin*a)+E.yOffset),L<m&&L>-m&&(L="0"),D<m&&D>-m&&(D="0"),O<m&&O>-m&&(O=0)),_=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",_+=(i<m&&i>-m?"0":i)+","+(s<m&&s>-m?"0":s)+","+(l<m&&l>-m?"0":l),_+=","+(h<m&&h>-m?"0":h)+","+(n<m&&n>-m?"0":n)+","+(a<m&&a>-m?"0":a),A||k||1!==P?(_+=","+(c<m&&c>-m?"0":c)+","+(d<m&&d>-m?"0":d)+","+(r<m&&r>-m?"0":r),_+=","+(o<m&&o>-m?"0":o)+","+(u<m&&u>-m?"0":u)+","+(f<m&&f>-m?"0":f)+","):_+=",0,0,0,0,1,0,",_+=L+","+D+","+O+","+(M?1+-O/M:1)+")",S[Ot]=_}};(u=Ft.prototype).x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0,u.scaleX=u.scaleY=u.scaleZ=1,xt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,r,a,l){if(n._lastParsedTransform===l)return r;n._lastParsedTransform=l;var c,u=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[i]&&(c=l[i],l[i]=e),u&&(l.scale=u(y,t));var h,d,f,p,g,m,b,_,T,w=t._gsTransform,E=t.style,S=Dt.length,x=l,A={},k=Xt(t,s,!0,x.parseTransform),C=x.transform&&("function"==typeof x.transform?x.transform(y,v):x.transform);if(k.skewType=x.skewType||k.skewType||o.defaultSkewType,n._transform=k,C&&"string"==typeof C&&Ot)(d=G.style)[Ot]=C,d.display="block",d.position="absolute",j.body.appendChild(G),h=Xt(G,null,!1),"simple"===k.skewType&&(h.scaleY*=Math.cos(h.skewX*F)),k.svg&&(m=k.xOrigin,b=k.yOrigin,h.x-=k.xOffset,h.y-=k.yOffset,(x.transformOrigin||x.svgOrigin)&&(C={},zt(t,lt(x.transformOrigin),C,x.svgOrigin,x.smoothOrigin,!0),m=C.xOrigin,b=C.yOrigin,h.x-=C.xOffset-k.xOffset,h.y-=C.yOffset-k.yOffset),(m||b)&&(_=Yt(G,!0),h.x-=m-(m*_[0]+b*_[2]),h.y-=b-(m*_[1]+b*_[3]))),j.body.removeChild(G),h.perspective||(h.perspective=k.perspective),null!=x.xPercent&&(h.xPercent=ut(x.xPercent,k.xPercent)),null!=x.yPercent&&(h.yPercent=ut(x.yPercent,k.yPercent));else if("object"==typeof x){if(h={scaleX:ut(null!=x.scaleX?x.scaleX:x.scale,k.scaleX),scaleY:ut(null!=x.scaleY?x.scaleY:x.scale,k.scaleY),scaleZ:ut(x.scaleZ,k.scaleZ),x:ut(x.x,k.x),y:ut(x.y,k.y),z:ut(x.z,k.z),xPercent:ut(x.xPercent,k.xPercent),yPercent:ut(x.yPercent,k.yPercent),perspective:ut(x.transformPerspective,k.perspective)},null!=(g=x.directionalRotation))if("object"==typeof g)for(d in g)x[d]=g[d];else x.rotation=g;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(h.x=0,h.xPercent=ut(x.x,k.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(h.y=0,h.yPercent=ut(x.y,k.yPercent)),h.rotation=ht("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:k.rotation,k.rotation,"rotation",A),Nt&&(h.rotationX=ht("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":k.rotationX||0,k.rotationX,"rotationX",A),h.rotationY=ht("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":k.rotationY||0,k.rotationY,"rotationY",A)),h.skewX=ht(x.skewX,k.skewX),h.skewY=ht(x.skewY,k.skewY)}for(Nt&&null!=x.force3D&&(k.force3D=x.force3D,p=!0),(f=k.force3D||k.z||k.rotationX||k.rotationY||h.z||h.rotationX||h.rotationY||h.perspective)||null==x.scale||(h.scaleZ=1);--S>-1;)((C=h[T=Dt[S]]-k[T])>1e-6||C<-1e-6||null!=x[T]||null!=U[T])&&(p=!0,r=new _t(k,T,k[T],C,r),T in A&&(r.e=A[T]),r.xs0=0,r.plugin=a,n._overwriteProps.push(r.n));return C=x.transformOrigin,k.svg&&(C||x.svgOrigin)&&(m=k.xOffset,b=k.yOffset,zt(t,lt(C),h,x.svgOrigin,x.smoothOrigin),r=Tt(k,"xOrigin",(w?k:h).xOrigin,h.xOrigin,r,"transformOrigin"),r=Tt(k,"yOrigin",(w?k:h).yOrigin,h.yOrigin,r,"transformOrigin"),m===k.xOffset&&b===k.yOffset||(r=Tt(k,"xOffset",w?m:k.xOffset,k.xOffset,r,"transformOrigin"),r=Tt(k,"yOffset",w?b:k.yOffset,k.yOffset,r,"transformOrigin")),C="0px 0px"),(C||Nt&&f&&k.zOrigin)&&(Ot?(p=!0,T=Mt,C=(C||tt(t,T,s,!1,"50% 50%"))+"",(r=new _t(E,T,0,0,r,-1,"transformOrigin")).b=E[T],r.plugin=a,Nt?(d=k.zOrigin,C=C.split(" "),k.zOrigin=(C.length>2&&(0===d||"0px"!==C[2])?parseFloat(C[2]):d)||0,r.xs0=r.e=C[0]+" "+(C[1]||"50%")+" 0px",(r=new _t(k,"zOrigin",0,0,r,-1,r.n)).b=d,r.xs0=r.e=k.zOrigin):r.xs0=r.e=C):lt(C+"",k)),p&&(n._transformType=k.svg&&kt||!f&&3!==this._transformType?2:3),c&&(l[i]=c),u&&(l.scale=u),r},prefix:!0}),xt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),xt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,r,a,o){e=this.format(e);var l,c,u,h,d,f,p,g,m,v,y,b,_,T,w,E,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],x=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),c=0;c<S.length;c++)this.p.indexOf("border")&&(S[c]=Z(S[c])),-1!==(d=h=tt(t,S[c],s,!1,"0px")).indexOf(" ")&&(d=(h=d.split(" "))[0],h=h[1]),f=u=l[c],p=parseFloat(d),b=d.substr((p+"").length),(_="="===f.charAt(1))?(g=parseInt(f.charAt(0)+"1",10),f=f.substr(2),g*=parseFloat(f),y=f.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(f),y=f.substr((g+"").length)),""===y&&(y=n[i]||b),y!==b&&(T=et(t,"borderLeft",p,b),w=et(t,"borderTop",p,b),"%"===y?(d=T/m*100+"%",h=w/v*100+"%"):"em"===y?(d=T/(E=et(t,"borderLeft",1,"em"))+"em",h=w/E+"em"):(d=T+"px",h=w+"px"),_&&(f=parseFloat(d)+g+y,u=parseFloat(h)+g+y)),a=wt(x,S[c],d+" "+h,f+" "+u,!1,"0px",a);return a},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),xt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,r,a){return wt(t.style,i,this.format(tt(t,i,s,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),xt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,a){var o,l,c,u,h,d,f="background-position",p=s||J(t,null),g=this.format((p?m?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(d=tt(t,"backgroundImage").replace(P,""))&&"none"!==d){for(o=g.split(" "),l=v.split(" "),q.setAttribute("src",d),c=2;--c>-1;)(u=-1!==(g=o[c]).indexOf("%"))!=(-1!==l[c].indexOf("%"))&&(h=0===c?t.offsetWidth-q.width:t.offsetHeight-q.height,o[c]=u?parseFloat(g)/100*h+"px":parseFloat(g)/h*100+"%");g=o.join(" ")}return this.parseComplex(t.style,g,v,r,a)},formatter:lt}),xt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return lt(-1===(t+="").indexOf(" ")?t+" "+t:t)}}),xt("perspective",{defaultValue:"0px",prefix:!0}),xt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),xt("transformStyle",{prefix:!0}),xt("backfaceVisibility",{prefix:!0}),xt("userSelect",{prefix:!0}),xt("margin",{parser:yt("marginTop,marginRight,marginBottom,marginLeft")}),xt("padding",{parser:yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),xt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,a){var o,l,c;return m<9?(l=t.currentStyle,c=m<8?" ":",",o="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",e=this.format(e).split(",").join(c)):(o=this.format(tt(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,r,a)}}),xt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),xt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),xt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,a){var o=tt(t,"borderTopWidth",s,!1,"0px"),l=this.format(e).split(" "),c=l[0].replace(E,"");return"px"!==c&&(o=parseFloat(o)/et(t,"borderTopWidth",1,c)+c),this.parseComplex(t.style,this.format(o+" "+tt(t,"borderTopStyle",s,!1,"solid")+" "+tt(t,"borderTopColor",s,!1,"#000")),l.join(" "),r,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(mt)||["#000"])[0]}}),xt("borderWidth",{parser:yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),xt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,s){var a=t.style,o="cssFloat"in a?"cssFloat":"styleFloat";return new _t(a,o,0,0,r,-1,i,!1,0,a[o],e)}});var $t=function(t){var e,i=this.t,n=i.filter||tt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=n.replace(A,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(S,"opacity="+r))};xt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,a){var o=parseFloat(tt(t,"opacity",s,!1,"1")),l=t.style,c="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),c&&1===o&&"hidden"===tt(t,"visibility",s)&&0!==e&&(o=0),X?r=new _t(l,"opacity",o,e-o,r):((r=new _t(l,"opacity",100*o,100*(e-o),r)).xn1=c?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=a,r.setRatio=$t),c&&((r=new _t(l,"visibility",0,0,r,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Qt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(C,"-$1").toLowerCase())):t.removeAttribute(e))},Zt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Qt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};xt("className",{parser:function(t,e,n,r,a,o,l){var c,u,h,d,f,p=t.getAttribute("class")||"",g=t.style.cssText;if((a=r._classNamePT=new _t(t,n,0,0,a,2)).setRatio=Zt,a.pr=-11,i=!0,a.b=p,u=nt(t,s),h=t._gsClassPT){for(d={},f=h.data;f;)d[f.p]=1,f=f._next;h.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),c=rt(t,u,nt(t),l,d),t.setAttribute("class",p),a.data=c.firstMPT,t.style.cssText=g,a.xfirst=r.parse(t,c.difs,a,o)}});var Jt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,s,a=this.t.style,o=c.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(n=(e=this.e.split(" ").join("").split(",")).length;--n>-1;)i=e[n],c[i]&&(c[i].parse===o?r=!0:i="transformOrigin"===i?Mt:c[i].p),Qt(a,i);r&&(Qt(a,Ot),(s=this.t._gsTransform)&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(xt("clearProps",{parser:function(t,e,n,r,s){return(s=new _t(t,n,0,0,s,2)).setRatio=Jt,s.e=e,s.pr=-10,s.data=r._tween,i=!0,s}}),u="bezier,throwProps,physicsProps,physics2D".split(","),Et=u.length;Et--;)At(u[Et]);(u=o.prototype)._firstPT=u._lastParsedTransform=u._transform=null,u._onInitTween=function(t,e,r,l){if(!t.nodeType)return!1;this._target=v=t,this._tween=r,this._vars=e,y=l,h=e.autoRound,i=!1,n=e.suffixMap||o.suffixMap,s=J(t,""),a=this._overwriteProps;var u,p,m,b,_,T,w,E,S,A=t.style;if(d&&""===A.zIndex&&("auto"!==(u=tt(t,"zIndex",s))&&""!==u||this._addLazySet(A,"zIndex",0)),"string"==typeof e&&(b=A.cssText,u=nt(t,s),A.cssText=b+";"+e,u=rt(t,u,nt(t)).difs,!X&&x.test(e)&&(u.opacity=parseFloat(RegExp.$1)),e=u,A.cssText=b),e.className?this._firstPT=p=c.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=p=this.parse(t,e,null),this._transformType){for(S=3===this._transformType,Ot?f&&(d=!0,""===A.zIndex&&("auto"!==(w=tt(t,"zIndex",s))&&""!==w||this._addLazySet(A,"zIndex",0)),g&&this._addLazySet(A,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(S?"visible":"hidden"))):A.zoom=1,m=p;m&&m._next;)m=m._next;E=new _t(t,"transform",0,0,null,2),this._linkCSSP(E,null,m),E.setRatio=Ot?Kt:Vt,E.data=this._transform||Xt(t,s,!0),E.tween=r,E.pr=-1,a.pop()}if(i){for(;p;){for(T=p._next,m=b;m&&m.pr>p.pr;)m=m._next;(p._prev=m?m._prev:_)?p._prev._next=p:b=p,(p._next=m)?m._prev=p:_=p,p=T}this._firstPT=b}return!0},u.parse=function(t,e,i,r){var a,o,l,u,d,f,p,g,m,b,_=t.style;for(a in e){if("function"==typeof(f=e[a])&&(f=f(y,v)),o=c[a])i=o.parse(t,f,a,this,i,r,e);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,t.style,"setProperty",J(t).getPropertyValue(a)+"",f+"",a,!1,a);continue}d=tt(t,a,s)+"",m="string"==typeof f,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||m&&k.test(f)?(m||(f=((f=pt(f)).length>3?"rgba(":"rgb(")+f.join(",")+")"),i=wt(_,a,d,f,!0,"transparent",i,0,r)):m&&N.test(f)?i=wt(_,a,d,f,!0,null,i,0,r):(p=(l=parseFloat(d))||0===l?d.substr((l+"").length):"",""!==d&&"auto"!==d||("width"===a||"height"===a?(l=ot(t,a,s),p="px"):"left"===a||"top"===a?(l=it(t,a,s),p="px"):(l="opacity"!==a?0:1,p="")),(b=m&&"="===f.charAt(1))?(u=parseInt(f.charAt(0)+"1",10),f=f.substr(2),u*=parseFloat(f),g=f.replace(E,"")):(u=parseFloat(f),g=m?f.replace(E,""):""),""===g&&(g=a in n?n[a]:p),f=u||0===u?(b?u+l:u)+g:e[a],p!==g&&(""===g&&"lineHeight"!==a||(u||0===u)&&l&&(l=et(t,a,l,p),"%"===g?(l/=et(t,a,100,"%")/100,!0!==e.strictUnits&&(d=l+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?l/=et(t,a,1,g):"px"!==g&&(u=et(t,a,u,g),g="px"),b&&(u||0===u)&&(f=u+l+g))),b&&(u+=l),!l&&0!==l||!u&&0!==u?void 0!==_[a]&&(f||f+""!="NaN"&&null!=f)?(i=new _t(_,a,u||l||0,0,i,-1,a,!1,0,d,f)).xs0="none"!==f||"display"!==a&&-1===a.indexOf("Style")?f:d:K("invalid "+a+" tween value: "+e[a]):(i=new _t(_,a,l,u-l,i,0,a,!1!==h&&("px"===g||"zIndex"===a),0,d,f)).xs0=g)}r&&i&&!i.plugin&&(i.plugin=r)}return i},u.setRatio=function(t){var e,i,n,r=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},u._enableTransforms=function(t){this._transform=this._transform||Xt(this._target,s,!0),this._transformType=this._transform.svg&&kt||!t&&3!==this._transformType?2:3};var te=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(t,e,i){var n=this._firstPT=new _t(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=te,n.data=this},u._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},u._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},u._kill=function(e){var i,n,r,s=e;if(e.autoAlpha||e.alpha){for(n in s={},e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(e.className&&(i=this._classNamePT)&&((r=i.xfirst)&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,s)};var ee=function(t,e,i){var n,r,s,a;if(t.slice)for(r=t.length;--r>-1;)ee(t[r],e,i);else for(r=(n=t.childNodes).length;--r>-1;)a=(s=n[r]).type,s.style&&(e.push(nt(s)),i&&i.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||ee(s,e,i)};return o.cascadeTo=function(t,i,n){var r,s,a,o,l=e.to(t,i,n),c=[l],u=[],h=[],d=[],f=e._internals.reservedProps;for(t=l._targets||l.target,ee(t,u,d),l.render(i,!0,!0),ee(t,h),l.render(0,!0,!0),l._enabled(!0),r=d.length;--r>-1;)if((s=rt(d[r],u[r],h[r])).firstMPT){for(a in s=s.difs,n)f[a]&&(s[a]=n[a]);for(a in o={},s)o[a]=u[r][a];c.push(e.fromTo(d[r],i,o,s))}return c},t.activate([o]),o},!0),function(){var t=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},e=r._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}).prototype;e._onInitAllProps=function(){for(var e,i,n,r=this._tween,s=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),a=s.length,o={},l=r._propLookup.roundProps;--a>-1;)o[s[a]]=Math.round;for(a=s.length;--a>-1;)for(e=s[a],i=r._firstPT;i;)n=i._next,i.pg?i.t._mod(o):i.n===e&&(2===i.f&&i.t?t(i.t._firstPT):(this._add(i.t,e,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[e]=l)),i=n;return!1},e._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,Math.round),this._overwriteProps.push(e)}}(),r._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,n){var r,s;if("function"!=typeof t.setAttribute)return!1;for(r in e)"function"==typeof(s=e[r])&&(s=s(n,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",s+"",r,!1,r),this._overwriteProps.push(r);return!0}}),r._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,s,a,o,l,c,u=!0===e.useRadians?2*Math.PI:360;for(r in e)"useRadians"!==r&&("function"==typeof(o=e[r])&&(o=o(n,t)),s=(c=(o+"").split("_"))[0],a=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),l=(o=this.finals[r]="string"==typeof s&&"="===s.charAt(1)?a+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0)-a,c.length&&(-1!==(s=c.join("_")).indexOf("short")&&(l%=u)!=l%(u/2)&&(l=l<0?l+u:l-u),-1!==s.indexOf("_cw")&&l<0?l=(l+9999999999*u)%u-(l/u|0)*u:-1!==s.indexOf("ccw")&&l>0&&(l=(l-9999999999*u)%u-(l/u|0)*u)),(l>1e-6||l<-1e-6)&&(this._addTween(t,r,a,a+l,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,r._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,s,a=r.GreenSockGlobals||r,o=a.com.greensock,l=2*Math.PI,c=Math.PI/2,u=o._class,h=function(e,i){var n=u("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},d=t.register||function(){},f=function(t,e,i,n,r){var s=u("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return d(s,t),s},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},g=function(e,i){var n=u("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},m=f("Back",g("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),g("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),g("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=u("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),y=v.prototype=new t;return y.constructor=v,y.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),y.config=v.config=function(t,e,i){return new v(t,e,i)},(y=(e=u("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new t).constructor=e,y.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},y.config=e.config=function(t,i){return new e(t,i)},(y=(i=u("easing.ExpoScaleEase",function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i},!0)).prototype=new t).constructor=i,y.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},y.config=i.config=function(t,e,n){return new i(t,e,n)},(y=(n=u("easing.RoughEase",function(e){for(var i,n,r,s,a,o,l=(e=e||{}).taper||"none",c=[],u=0,h=0|(e.points||20),d=h,f=!1!==e.randomize,g=!0===e.clamp,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=f?Math.random():1/h*d,n=m?m.getRatio(i):i,r="none"===l?v:"out"===l?(s=1-i)*s*v:"in"===l?i*i*v:i<.5?(s=2*i)*s*.5*v:(s=2*(1-i))*s*.5*v,f?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,g&&(n>1?n=1:n<0&&(n=0)),c[u++]={x:i,y:n};for(c.sort(function(t,e){return t.x-e.x}),o=new p(1,1,null),d=h;--d>-1;)a=c[d],o=new p(a.x,a.y,o);this._prev=new p(0,0,0!==o.t?o:o.next)},!0)).prototype=new t).constructor=n,y.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},y.config=function(t){return new n(t)},n.ease=new n,f("Bounce",h("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),f("Elastic",(s=function(e,i,n){var r=u("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/l*(Math.asin(1/this._p1)||0),this._p2=l/this._p2},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),s("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),s("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",h("SineOut",function(t){return Math.sin(t*c)}),h("SineIn",function(t){return 1-Math.cos(t*c)}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),d(a.SlowMo,"SlowMo","ease,"),d(n,"RoughEase","ease,"),d(e,"SteppedEase","ease,"),m},!0)}),r._gsDefine&&r._gsQueue.pop()(),function(i,r){"use strict";var s={},a=i.document,o=i.GreenSockGlobals=i.GreenSockGlobals||i;if(!o.TweenLite){var l,c,u,h,d,f,p,g=function(t){var e,i=t.split("."),n=o;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},m=g("com.greensock"),v=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},y=function(){},b=(f=Object.prototype.toString,p=f.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&f.call(t)===p)}),_={},T=function(i,r,a,l){this.sc=_[i]?_[i].sc:[],_[i]=this,this.gsClass=null,this.func=a;var c=[];this.check=function(u){for(var h,d,f,p,m=r.length,v=m;--m>-1;)(h=_[r[m]]||new T(r[m],[])).gsClass?(c[m]=h.gsClass,v--):u&&h.sc.push(this);if(0===v&&a){if(f=(d=("com.greensock."+i).split(".")).pop(),p=g(d.join("."))[f]=this.gsClass=a.apply(a,c),l)if(o[f]=s[f]=p,void 0!==t&&t.exports)if("TweenMax"===i)for(m in t.exports=s.TweenMax=p,s)p[m]=s[m];else s.TweenMax&&(s.TweenMax[f]=p);else void 0===(n=function(){return p}.apply(e,[]))||(t.exports=n);for(m=0;m<this.sc.length;m++)this.sc[m].check()}},this.check(!0)},w=i._gsDefine=function(t,e,i,n){return new T(t,e,i,n)},E=m._class=function(t,e,i){return e=e||function(){},w(t,[],function(){return e},i),e};w.globals=o;var S=[0,0,1,1],x=E("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?S.concat(e):S},!0),A=x.map={},k=x.register=function(t,e,i,n){for(var r,s,a,o,l=e.split(","),c=l.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(s=l[c],r=n?E("easing."+s,null,!0):m.easing[s]||{},a=u.length;--a>-1;)o=u[a],A[s+"."+o]=A[o+s]=r[o]=t.getRatio?t:t[o]||new t};for((u=x.prototype)._calcEnd=!1,u.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},c=(l=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--c>-1;)u=l[c]+",Power"+c,k(new x(null,null,1,c),u,"easeOut",!0),k(new x(null,null,2,c),u,"easeIn"+(0===c?",easeNone":"")),k(new x(null,null,3,c),u,"easeInOut");A.linear=m.easing.Linear.easeIn,A.swing=m.easing.Quad.easeInOut;var C=E("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(u=C.prototype).addEventListener=function(t,e,i,n,r){r=r||0;var s,a,o=this._listeners[t],l=0;for(this!==h||d||h.wake(),null==o&&(this._listeners[t]=o=[]),a=o.length;--a>-1;)(s=o[a]).c===e&&s.s===i?o.splice(a,1):0===l&&s.pr<r&&(l=a+1);o.splice(l,0,{c:e,s:i,up:n,pr:r})},u.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},u.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for((e=r.length)>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)(n=r[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var R=i.requestAnimationFrame,P=i.cancelAnimationFrame,L=Date.now||function(){return(new Date).getTime()},D=L();for(c=(l=["ms","moz","webkit","o"]).length;--c>-1&&!R;)R=i[l[c]+"RequestAnimationFrame"],P=i[l[c]+"CancelAnimationFrame"]||i[l[c]+"CancelRequestAnimationFrame"];E("Ticker",function(t,e){var i,n,r,s,o,l=this,c=L(),u=!(!1===e||!R)&&"auto",f=500,p=33,g=function(t){var e,a,u=L()-D;u>f&&(c+=u-p),D+=u,l.time=(D-c)/1e3,e=l.time-o,(!i||e>0||!0===t)&&(l.frame++,o+=e+(e>=s?.004:s-e),a=!0),!0!==t&&(r=n(g)),a&&l.dispatchEvent("tick")};C.call(l),l.time=l.frame=0,l.tick=function(){g(!0)},l.lagSmoothing=function(t,e){if(!arguments.length)return f<1e10;f=t||1e10,p=Math.min(e,f,0)},l.sleep=function(){null!=r&&(u&&P?P(r):clearTimeout(r),n=y,r=null,l===h&&(d=!1))},l.wake=function(t){null!==r?l.sleep():t?c+=-D+(D=L()):l.frame>10&&(D=L()-f+5),n=0===i?y:u&&R?R:function(t){return setTimeout(t,1e3*(o-l.time)+1|0)},l===h&&(d=!0),g(2)},l.fps=function(t){if(!arguments.length)return i;s=1/((i=t)||60),o=this.time+s,l.wake()},l.useRAF=function(t){if(!arguments.length)return u;l.sleep(),u=t,l.fps(i)},l.fps(t),setTimeout(function(){"auto"===u&&l.frame<5&&"hidden"!==(a||{}).visibilityState&&l.useRAF(!1)},1500)}),(u=m.Ticker.prototype=new m.events.EventDispatcher).constructor=m.Ticker;var O=E("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Z){d||h.wake();var i=this.vars.useFrames?Q:Z;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});h=O.ticker=new m.Ticker,(u=O.prototype)._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var I=function(){d&&L()-D>2e3&&("hidden"!==(a||{}).visibilityState||!h.lagSmoothing())&&h.wake();var t=setTimeout(I,2e3);t.unref&&t.unref()};I(),u.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},u.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},u.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},u.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},u.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},u.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},u.render=function(t,e,i){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(t,e){return d||h.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(t,e){return this._enabled(!1,!1)},u.kill=function(t,e){return this._kill(t,e),this},u._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},u._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},u._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},u.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=b(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},u.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},u.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},u.totalTime=function(t,e,i){if(d||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(B.length&&tt(),this.render(t,e,!1),B.length&&tt())}return this},u.progress=u.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},u.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},u.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},u.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(d||t||h.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var M=E("core.SimpleTimeline",function(t){O.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(u=M.prototype=new O).constructor=M,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(t,e,i,n){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},u._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},u.rawTime=function(){return d||h.wake(),this._totalTime};var N=E("TweenLite",function(t,e,n){if(O.call(this,e,n),this.render=N.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:N.selector(t)||t;var r,s,a,o=t.jquery||t.length&&t!==i&&t[0]&&(t[0]===i||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?$[N.defaultOverwrite]:"number"==typeof l?l>>0:$[l],(o||t instanceof Array||t.push&&b(t))&&"number"!=typeof t[0])for(this._targets=a=v(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)(s=a[r])?"string"!=typeof s?s.length&&s!==i&&s[0]&&(s[0]===i||s[0].nodeType&&s[0].style&&!s.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(v(s))):(this._siblings[r]=et(s,this,!1),1===l&&this._siblings[r].length>1&&nt(s,this,null,1,this._siblings[r])):"string"==typeof(s=a[r--]=N.selector(s))&&a.splice(r+1,1):a.splice(r--,1);else this._propLookup={},this._siblings=et(t,this,!1),1===l&&this._siblings.length>1&&nt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),F=function(t){return t&&t.length&&t!==i&&t[0]&&(t[0]===i||t[0].nodeType&&t[0].style&&!t.nodeType)};(u=N.prototype=new O).constructor=N,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,N.version="1.20.4",N.defaultEase=u._ease=new x(null,null,1,1),N.defaultOverwrite="auto",N.ticker=h,N.autoSleep=120,N.lagSmoothing=function(t,e){h.lagSmoothing(t,e)},N.selector=i.$||i.jQuery||function(t){var e=i.$||i.jQuery;return e?(N.selector=e,e(t)):void 0===a?t:a.querySelectorAll?a.querySelectorAll(t):a.getElementById("#"===t.charAt(0)?t.substr(1):t)};var B=[],U={},H=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,j=/[\+-]=-?[\.\d]/,z=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<1e-6&&e>-1e-6&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},G=function(t,e,i,n){var r,s,a,o,l,c,u,h=[],d=0,f="",p=0;for(h.start=t,h.end=e,t=h[0]=t+"",e=h[1]=e+"",i&&(i(h),t=h[0],e=h[1]),h.length=0,r=t.match(H)||[],s=e.match(H)||[],n&&(n._next=null,n.blob=1,h._firstPT=h._applyPT=n),l=s.length,o=0;o<l;o++)u=s[o],f+=(c=e.substr(d,e.indexOf(u,d)-d))||!o?c:",",d+=c.length,p?p=(p+1)%5:"rgba("===c.substr(-5)&&(p=1),u===r[o]||r.length<=o?f+=u:(f&&(h.push(f),f=""),a=parseFloat(r[o]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-a)||0,f:0,m:p&&p<4?Math.round:0}),d+=u.length;return(f+=e.substr(d))&&h.push(f),h.setRatio=z,j.test(e)&&(h.end=null),h},q=function(t,e,i,n,r,s,a,o,l){"function"==typeof n&&(n=n(l||0,t));var c=typeof t[e],u="function"!==c?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),h="get"!==i?i:u?a?t[u](a):t[u]():t[e],d="string"==typeof n&&"="===n.charAt(1),f={t:t,p:e,s:h,f:"function"===c,pg:0,n:r||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-h||0};if(("number"!=typeof h||"number"!=typeof n&&!d)&&(a||isNaN(h)||!d&&isNaN(n)||"boolean"==typeof h||"boolean"==typeof n?(f.fp=a,f={t:G(h,d?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):n,o||N.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(f.s=parseFloat(h),d||(f.c=parseFloat(n)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},W=N._internals={isArray:b,isSelector:F,lazyTweens:B,blobDif:G},Y=N._plugins={},X=W.tweenLookup={},V=0,K=W.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},$={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=O._rootFramesTimeline=new M,Z=O._rootTimeline=new M,J=30,tt=W.lazyRender=function(){var t,e=B.length;for(U={};--e>-1;)(t=B[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);B.length=0};Z._startTime=h.time,Q._startTime=h.frame,Z._active=Q._active=!0,setTimeout(tt,1),O._updateRoot=N.render=function(){var t,e,i;if(B.length&&tt(),Z.render((h.time-Z._startTime)*Z._timeScale,!1,!1),Q.render((h.frame-Q._startTime)*Q._timeScale,!1,!1),B.length&&tt(),h.frame>=J){for(i in J=h.frame+(parseInt(N.autoSleep,10)||120),X){for(t=(e=X[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete X[i]}if((!(i=Z._first)||i._paused)&&N.autoSleep&&!Q._first&&1===h._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||h.sleep()}}},h.addEventListener("tick",O._updateRoot);var et=function(t,e,i){var n,r,s=t._gsTweenID;if(X[s||(t._gsTweenID=s="t"+V++)]||(X[s]={target:t,tweens:[]}),e&&((n=X[s].tweens)[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return X[s].tweens},it=function(t,e,i,n){var r,s,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,n)),(a=N.onOverwrite)&&(s=a(t,e,i,n)),!1!==r&&!1!==s},nt=function(t,e,i,n,r){var s,a,o,l;if(1===n||n>=4){for(l=r.length,s=0;s<l;s++)if((o=r[s])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var c,u=e._startTime+1e-10,h=[],d=0,f=0===e._duration;for(s=r.length;--s>-1;)(o=r[s])===e||o._gc||o._paused||(o._timeline!==e._timeline?(c=c||rt(e,0,f),0===rt(o,c,f)&&(h[d++]=o)):o._startTime<=u&&o._startTime+o.totalDuration()/o._timeScale>u&&((f||!o._initted)&&u-o._startTime<=2e-10||(h[d++]=o)));for(s=d;--s>-1;)if(o=h[s],2===n&&o._kill(i,t,e)&&(a=!0),2!==n||!o._firstPT&&o._initted){if(2!==n&&!it(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},rt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return(s/=r)>e?s-e:i&&s===e||!t._initted&&s-e<2e-10?1e-10:(s+=t.totalDuration()/t._timeScale/r)>e+1e-10?0:s-e-1e-10};u._init=function(){var t,e,i,n,r,s,a=this.vars,o=this._overwrittenProps,l=this._duration,c=!!a.immediateRender,u=a.ease;if(a.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={},a.startAt)r[n]=a.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=c&&!1!==a.lazy,r.startAt=r.delay=null,r.onUpdate=a.onUpdate,r.onUpdateParams=a.onUpdateParams,r.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=N.to(this.target,0,r),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(c=!1),i={},a)K[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=c&&!1!==a.lazy,i.immediateRender=c,this._startAt=N.to(this.target,0,i),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof x?u:"function"==typeof u?new x(u,a.easeParams):A[u]||N.defaultEase:N.defaultEase,a.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(e&&N._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},u._initProps=function(t,e,n,r,s){var a,o,l,c,u,h;if(null==t)return!1;for(a in U[t._gsTweenID]&&tt(),this.vars.css||t.style&&t!==i&&t.nodeType&&Y.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)K[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!Y[i]||Y[i]&&Y[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,t),this.vars)if(h=this.vars[a],K[a])h&&(h instanceof Array||h.push&&b(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(Y[a]&&(c=new Y[a])._onInitTween(t,this.vars[a],this,s)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:c._priority,m:0},o=c._overwriteProps.length;--o>-1;)e[c._overwriteProps[o]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else e[a]=q.call(this,t,a,"get",h,a,0,null,this.vars.stringFilter,s);return r&&this._kill(r,t)?this._initProps(t,e,n,r,s):this._overwrite>1&&this._firstPT&&n.length>1&&nt(t,this,e,this._overwrite,n)?(this._kill(e,t),this._initProps(t,e,n,r,s)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(U[t._gsTweenID]=!0),l)},u.render=function(t,e,i){var n,r,s,a,o=this._time,l=this._duration,c=this._rawPrevTime;if(t>=l-1e-7&&t>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(c<0||t<=0&&t>=-1e-7||1e-10===c&&"isPause"!==this.data)&&c!==t&&(i=!0,c>1e-10&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||c===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&c>0)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(1e-10!==c||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||c===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,h=this._easeType,d=this._easePower;(1===h||3===h&&u>=.5)&&(u=1-u),3===h&&(u*=2),1===d?u*=u:2===d?u*=u*u:3===d?u*=u*u*u:4===d&&(u*=u*u*u*u),this.ratio=1===h?1-u:2===h?u:t/l<.5?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=c,B.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==o||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},u._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:N.selector(e)||e;var n,r,s,a,o,l,c,u,h,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((b(e)||F(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(c=t||o,u=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(N.onOverwrite||this.vars.onOverwrite)){for(s in c)o[s]&&(h||(h=[]),h.push(s));if((h||!t)&&!it(this,i,e,h))return!1}for(s in c)(a=o[s])&&(d&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(c)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[s]),u&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},u.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},u._enabled=function(t,e){if(d||h.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=et(n[i],this,!0);else this._siblings=et(this.target,this,!0)}return O.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&N._onPluginEvent(t?"_onEnable":"_onDisable",this)},N.to=function(t,e,i){return new N(t,e,i)},N.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new N(t,e,i)},N.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new N(t,e,n)},N.delayedCall=function(t,e,i,n,r){return new N(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},N.set=function(t,e){return new N(t,0,e)},N.getTweensOf=function(t,e){if(null==t)return[];var i,n,r,s;if(t="string"!=typeof t?t:N.selector(t)||t,(b(t)||F(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(N.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=et(t).concat()).length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},N.killTweensOf=N.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=N.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var st=E("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=st.prototype},!0);if(u=st.prototype,st.version="1.19.0",st.API=2,u._firstPT=null,u._addTween=q,u.setRatio=z,u._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},u._mod=u._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},N._onPluginEvent=function(t,e){var i,n,r,s,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:s)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:s=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},st.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===st.API&&(Y[(new t[e])._propName]=t[e]);return!0},w.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=E("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){st.call(this,i,n),this._overwriteProps=r||[]},!0===t.global),o=a.prototype=new st(i);for(e in o.constructor=a,a.API=t.API,s)"function"==typeof t[e]&&(o[s[e]]=t[e]);return a.version=t.version,st.activate([a]),a},l=i._gsQueue){for(c=0;c<l.length;c++)l[c]();for(u in _)_[u].func||i.console.log("GSAP encountered missing dependency: "+u)}d=!1}}(void 0!==t&&t.exports&&void 0!==i?i:this||window)}).call(this,i(4))},function(t,e,i){var n,r;window,n=[i(1),i(0)],void 0===(r=function(t,e){return function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var n=e.prototype;function r(t,e){this.img=t,this.flickity=e,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,n=[];this.getAdjacentCellElements(e).forEach(function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),n=t.getAttribute("data-flickity-lazyload-src"),r=t.getAttribute("data-flickity-lazyload-srcset");if(e||n||r)return[t]}var s=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return i.makeArray(s)}(t);n=n.concat(e)}),n.forEach(function(t){new r(t,this)},this)}},r.prototype.handleEvent=i.handleEvent,r.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},r.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},r.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},r.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=r,e}(0,t,e)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;window,n=[i(1),i(0)],void 0===(r=function(t,e){return function(t,e,i){"use strict";var n=e.prototype;return n.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var n=this.cells.length;e=void 0===e?n:e;var r=function(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}(i),s=e==n;if(s)this.slider.appendChild(r);else{var a=this.cells[e].element;this.slider.insertBefore(r,a)}if(0===e)this.cells=i.concat(this.cells);else if(s)this.cells=this.cells.concat(i);else{var o=this.cells.splice(e,n-e);this.cells=this.cells.concat(i).concat(o)}this._sizeCells(i),this.cellChange(e,!0)}},n.append=function(t){this.insert(t,this.cells.length)},n.prepend=function(t){this.insert(t,0)},n.remove=function(t){var e=this.getCells(t);if(e&&e.length){var n=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);n=Math.min(e,n),i.removeFrom(this.cells,t)},this),this.cellChange(n,!0)}},n.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},n.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}(0,t,e)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;window,n=[i(3),i(0),i(1)],void 0===(r=function(t,e,i){return function(t,e,i){"use strict";function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(t.prototype),n.prototype.play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var r=i.prototype;return r._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},r.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},r.playPlayer=function(){this.player.play()},r.stopPlayer=function(){this.player.stop()},r.pausePlayer=function(){this.player.pause()},r.unpausePlayer=function(){this.player.unpause()},r.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},r.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},r.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}(t,e,i)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;window,n=[i(1),i(5),i(0)],void 0===(r=function(t,e,i){return function(t,e,i,n){"use strict";function r(t){this.parent=t,this._create()}r.prototype=new i,r.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},r.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},r.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},r.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,r=n+t,s=n;s<r;s++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(s+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},r.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},r.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},r.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},r.prototype.destroy=function(){this.deactivate()},e.PageDots=r,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var s=e.prototype;return s._createPageDots=function(){this.options.pageDots&&(this.pageDots=new r(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},s.activatePageDots=function(){this.pageDots.activate()},s.updateSelectedPageDots=function(){this.pageDots.updateSelected()},s.updatePageDots=function(){this.pageDots.setDots()},s.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=r,e}(0,t,e,i)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;window,n=[i(1),i(5),i(0)],void 0===(r=function(t,e,i){return function(t,e,i,n){"use strict";var r="http://www.w3.org/2000/svg";function s(t,e){this.direction=t,this.parent=e,this._create()}s.prototype=Object.create(i.prototype),s.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},s.prototype.createSVG=function(){var t=document.createElementNS(r,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e,i=document.createElementNS(r,"path"),n="string"==typeof(e=this.parent.options.arrowShape)?e:"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z";return i.setAttribute("d",n),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(i),t},s.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},s.prototype.handleEvent=n.handleEvent,s.prototype.onclick=function(t){var e=document.activeElement;e&&e==this.element&&this.onTap(t,t)},s.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},s.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},s.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},s.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var a=e.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new s(-1,this),this.nextButton=new s(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=s,e}(0,t,e,i)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,s;s=window,n=[i(6)],void 0===(r=function(t){return function(t,e){"use strict";function i(){}var n=i.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){for(var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",r=0;r<this.handles.length;r++){var s=this.handles[r];this._bindStartEvent(s,e),s[i]("click",this),t.PointerEvent&&(s.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var r={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=r[t.target.nodeName],i=s[t.target.type],n=!e||i;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}(s,t)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r,s;s=window,n=[i(1),i(22),i(0)],void 0===(r=function(t,e,i){return function(t,e,i,n){"use strict";n.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var r=e.prototype;n.extend(r,i.prototype),r._touchActionValue="pan-y";var s="createTouch"in document,a=!1;r._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag),this.on("cellChange",this.updateDraggable),s&&!a&&(t.addEventListener("touchmove",function(){}),a=!0)},r.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},r.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},r.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},r.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},r.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},r._uiChangeDrag=function(){delete this.isFreeScrolling},r._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)},r.pointerDown=function(e,i){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i)):this._pointerDownDefault(e,i)},r._pointerDownDefault=function(t,e){this.pointerDownPointer=e,this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var o={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:t.pageXOffset,y:t.pageYOffset}}return r.pointerDownFocus=function(t){o[t.target.nodeName]||this.focus()},r._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=o[t.target.nodeName];e||i||n||t.preventDefault()},r.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},r.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},r.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},r.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},r.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},r.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x=i.x%this.slideableWidth);var r=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var s=Math.max(-this.slides[0].target,this.dragStartPosition);r=r>s?.5*(r+s):r;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);r=r<a?.5*(r+a):r}this.dragX=r,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},r.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},r.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},r._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,r=1/0,s=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};s(e,r)&&(n+=i,r=e,null!==(e=this.getSlideDistance(-t,n)));)e=Math.abs(e);return{distance:r,index:n-i}},r.getSlideDistance=function(t,e){var i=this.slides.length,r=this.options.wrapAround&&i>1,s=r?n.modulo(e,i):e,a=this.slides[s];if(!a)return null;var o=r?this.slideableWidth*Math.floor(e/i):0;return t-(a.target+o)},r.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},r.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,r=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,r])},r.onscroll=function(){var t=l(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}(s,t,e,i)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;window,n=[i(0)],void 0===(r=function(t){return function(t,e){"use strict";return{startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function(){e.animate()})}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=this.isAnimating?"translate3d("+i+",0,0)":"translateX("+i+")";var n=this.slides[0];if(n){var r=-this.x-n.target,s=r/this.slidesWidth;this.dispatchEvent("scroll",null,[s,r])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n],s=e>0?i:0;r.wrapShift(s),e-=r.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},applySelectedAttraction:function(){if((!this.isDraggable||!this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}}}}(0,t)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;window,void 0===(r="function"==typeof(n=function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelected(!0)},e.unselect=function(){this.changeSelected(!1)},e.changeSelected=function(t){var e=t?"add":"remove";this.cells.forEach(function(i){i.element.classList[e]("is-selected"),i.element.setAttribute("aria-selected",t.toString())})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t})?n.call(e,i,e,t):n)||(t.exports=r)},function(t,e,i){var n,r;window,n=[i(7)],void 0===(r=function(t){return function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}(0,t)}.apply(e,n))||(t.exports=r)},function(t,e,i){var n,r;!function(s,a){"use strict";void 0===(r="function"==typeof(n=function(){var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}})?n.call(e,i,e,t):n)||(t.exports=r)}(window)},function(t,e,i){var n,r,s;window,r=[i(1),i(23),i(21),i(20),i(19),i(18),i(17)],void 0===(s="function"==typeof(n=function(t){return t})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){var n,r,s;window,r=[i(28)],void 0===(s="function"==typeof(n=function(t){"use strict";t.createMethods.push("_createHash");var e=t.prototype;e._createHash=function(){this.options.hash&&(this.connectedHashLinks=[],this.onHashLinkClick=function(t){t.preventDefault(),this.selectCell(t.currentTarget.hash),history.replaceState(null,"",t.currentTarget.hash)}.bind(this),this.on("activate",this.activateHash),this.on("deactivate",this.deactivateHash))},e.activateHash=function(){if(this.on("change",this.onChangeHash),void 0===this.options.initialIndex&&location.hash){var t=this.queryCell(location.hash);t&&(this.options.initialIndex=this.getCellSlideIndex(t))}this.connectHashLinks()},e.deactivateHash=function(){this.off("change",this.onChangeHash),this.disconnectHashLinks()},e.onChangeHash=function(){var t=this.selectedElement.id;if(t){var e="#"+t;history.replaceState(null,"",e)}},e.connectHashLinks=function(){for(var t=document.querySelectorAll("a"),e=0;e<t.length;e++)this.connectHashLink(t[e])};var i=document.createElement("a");return e.connectHashLink=function(t){t.hash&&(i.href=t.href,i.pathname==location.pathname&&this.queryCell(t.hash)&&(t.addEventListener("click",this.onHashLinkClick),this.connectedHashLinks.push(t)))},e.disconnectHashLinks=function(){this.connectedHashLinks.forEach(function(t){t.removeEventListener("click",this.onHashLinkClick)},this),this.connectedHashLinks=[]},t})?n.apply(e,r):n)||(t.exports=s)},function(t,e,i){"use strict";(function(t){o(i(8));var e=o(i(29)),n=i(16),r=o(i(15)),s=o(i(14)),a=o(i(13));function o(t){return t&&t.__esModule?t:{default:t}}i(12),o(i(11)),i(10),i(9).init();var l=function(t){t.preventDefault()},c=function(t){!0===t?document.body.addEventListener("touchmove",l,!1):document.body.removeEventListener("touchmove",l,!1)},u={header:null,siteTitle:null,introPlayers:[],initialize:function(){if(u.header=document.querySelector("header"),u.siteTitle=document.querySelector("#site-title"),u.menu=document.getElementById("menu"),u.players=document.querySelectorAll("video"),u.sizeSet(),u.isMobile)u.fullpage=!1,t("#fullpage").remove(),new TimelineLite({onComplete:function(){u.introPlayers&&u.introPlayers.length>0&&(u.introPlayers[0].play(),document.body.setAttribute("logo-color",u.introPlayers[0].media.getAttribute("logo-color")))}}).to("#loader .spinner",.6,{opacity:0,ease:Expo.easeOut},"+=0.5").to("#loader",.3,{autoAlpha:0},"+=0.3");else if(t("#mobile-home").remove(),document.getElementById("fullpage")){u.fullpage=!0;for(var e=document.querySelectorAll("[data-menuanchor]"),i=0;i<e.length;i++)e[i].setAttribute("href","#"+e[i].dataset.menuanchor);t("#fullpage").fullpage({menu:"#menu",normalScrollElements:".page-description",scrollOverflow:!0,scrollOverflowReset:!1,slideSelector:!1,continuousVertical:!0,touchSensitivity:15,afterRender:function(){t("section.section.active").addClass("animate"),(new TimelineLite).to("#loader .spinner",.6,{opacity:0,ease:Expo.easeOut},"+=0.5").to("#loader",.3,{autoAlpha:0},"+=0.3")},afterLoad:function(e,i){var n=t(this);u.videoPlayers.play(n[0])},onLeave:function(e,i,r){"up"==r?document.getElementById("fullpage").classList.add("going-up"):document.getElementById("fullpage").classList.remove("going-up");var s=t(this),a=document.querySelector("section.section:nth-child("+i+")");switch(setTimeout(function(){a.classList.add("animate")},100),s.addClass("leaving").removeClass("animate"),document.body.setAttribute("page-type",a.getAttribute("page-type")),u.videoPlayers.stop(),setTimeout(function(){s.removeClass("leaving")},600),i){case 0:u.introPlayers[0].play(),document.body.setAttribute("logo-color",u.introPlayers[0].media.getAttribute("logo-color"));break;default:document.body.setAttribute("logo-color","dark")}if("manifesto"==a.getAttribute("page-type")){var o=a.querySelector("#page-description"),l=a.querySelector("#manifesto .plyr");n.TweenMax.set(o,{xPercent:100}),n.TweenMax.set(l,{width:"100%"}),setTimeout(function(){n.TweenMax.to(o,.8,{xPercent:0,ease:Expo.easeInOut}),n.TweenMax.to(l,.8,{width:"60%",ease:Expo.easeInOut})},3e3)}}})}else new TimelineLite({onComplete:function(){u.introPlayers&&u.introPlayers.length>0&&(u.introPlayers[0].play(),document.body.setAttribute("logo-color",u.introPlayers[0].media.getAttribute("logo-color")))}}).to("#loader .spinner",.6,{opacity:0,ease:Expo.easeOut},"+=0.5").to("#loader",.3,{autoAlpha:0},"+=0.3");u.isMobile||setTimeout(function(){n.TweenMax.to("#page-description",.8,{x:0,ease:Expo.easeInOut}),n.TweenMax.to("#manifesto .plyr",.8,{width:"60%",ease:Expo.easeInOut})},3e3),u.interact.init()},sizeSet:function(){u.width=window.innerWidth||document.documentElement.clientWidth,u.height=window.innerHeight||document.documentElement.clientHeight,u.width<=1024&&(u.isMobile=!0),u.isMobile&&u.width>=1024&&(u.isMobile=!1)},mouseWheel:function(){var t=document.querySelectorAll("a[page-id]");window.addEventListener("mousewheel",function(e){if(!u.isScrolling){var i=e.deltaY<0&&Math.abs(e.deltaY)>30,n=e.deltaY>0&&Math.abs(e.deltaY)>30;if(i){if(0===window.scrollY){u.transitionDirection="up";var r=u.pageId-1<0?t.length-1:u.pageId-1,a=document.querySelector("a.active");a&&a.classList.remove("active"),t[r]&&(u.pageId=r,t[r].classList.add("active"),s.default.Pjax.goTo(t[r].getAttribute("href"))),u.isScrolling=!0}}else if(n&&window.scrollY+document.documentElement.clientHeight==document.documentElement.offsetHeight){u.transitionDirection="down";var o=u.pageId+1===t.length?0:u.pageId+1,l=document.querySelector("a.active");l&&l.classList.remove("active"),t[o]&&(u.pageId=o,t[o].classList.add("active"),s.default.Pjax.goTo(t[o].getAttribute("href"))),u.isScrolling=!0}}})},setPageId:function(){var t=document.querySelector("a[page-id].active");u.pageId=t?parseInt(t.getAttribute("page-id"),10):0,document.body.setAttribute("page-id",u.pageId)},videoPlayers:{init:function(){var t=document.getElementsByClassName("intro-video"),e=(document.getElementById("manifesto"),{controls:[""],clickToPlay:!1,muted:!0,iconUrl:"/ykone/assets/images/plyr.svg"});if(t.length>0&&(u.videoPlayers.prepare(t),u.introPlayers=Array.from(document.querySelectorAll(".intro-video")).map(function(t){return new r.default(t,e)})),u.manifesto=Array.from(document.querySelectorAll(".manifesto-video")).map(function(t){return new r.default(t,e)}),u.introPlayers&&u.introPlayers.length>1)for(var i=function(){var t=u.introPlayers[n],e=n===u.introPlayers.length-1?u.introPlayers[0]:u.introPlayers[n+1];t.on("ended",function(t){t.target.style.display="none",e.elements.wrapper.parentNode.style.display="block",e.play()}),t.on("playing",function(t){document.body.setAttribute("logo-color",e.media.getAttribute("logo-color"))})},n=0;n<u.introPlayers.length;n++)i();u.manifesto&&u.manifesto.length>1&&u.manifesto[0].play()},prepare:function(t){if(!(t.length<1))for(var e=[],i=function(t){t.getAttribute("data-stream")&&a.default.isSupported()&&(e[n]=new a.default({minAutoBitrate:17e5}),e[n].loadSource(t.getAttribute("data-stream")),e[n].attachMedia(t))},n=0;n<t.length;n++){var r=t[n];r.controls=!1,i(r)}},play:function(t){var e=t.querySelectorAll("video");if(e.length>0){for(var i=0;i<u.introPlayers.length;i++)u.introPlayers[i].elements.wrapper.parentNode.style.display=0==i?"block":"none";for(var n=0;n<e.length;n++)e[n].currentTime=0;e[0].play()}},pause:function(){for(var t=0;t<u.players.length;t++)u.players[t].pause()},stop:function(){for(var t=container.querySelectorAll("video"),e=0;e<t.length;e++)t[e].pause(),t[e].currentTime=0},destroy:function(){if(u.players){for(var t=0;t<u.players.length;t++)u.players[t].destroy();u.players=null}}},interact:{init:function(){u.interact.linkTargets(),u.interact.eventTargets(),u.interact.embedKirby(),u.interact.loadSliders(),u.videoPlayers.init()},eventTargets:function(){u.interact.menuBurger();for(var t=document.querySelectorAll("[event-target=office]"),e=t.length-1;e>=0;e--)t[e].addEventListener("click",function(t){document.getElementById("page-content").classList.add("popup");var e=document.querySelector(".dynamic-description");e&&(e.innerHTML=t.currentTarget.getAttribute("data-caption"),u.interact.linkTargets(),n.TweenMax.to("#page-description",.6,{x:0,ease:Expo.easeInOut}))})},linkTargets:function(){for(var t=document.querySelectorAll("a"),e=0;e<t.length;e++){var i=t[e];i.host!==window.location.host?i.setAttribute("target","_blank"):i.setAttribute("target","_self")}},menuBurger:function(){var t=document.getElementById("burger");t&&t.addEventListener("click",function(){document.body.classList.toggle("menu-on"),t.classList.toggle("opened"),t.classList.contains("opened")?u.interact.menu.on():u.interact.menu.off()})},menu:{on:function(){c(!0),(new TimelineLite).set("#secondary-menu",{autoAlpha:1}).fromTo("#secondary-menu",.5,{xPercent:100,force3D:!0},{xPercent:0,force3D:!0,ease:Power3.easeInOut}).to("#logo",.1,{autoAlpha:1})},off:function(){c(!1),(new TimelineLite).to("#logo",.1,{autoAlpha:0}).fromTo("#secondary-menu",.5,{xPercent:0,force3D:!0},{xPercent:100,force3D:!0,ease:Power3.easeInOut})}},embedKirby:function(){for(var t=function(){var t=this.parentNode,e=t.children[0];e.src=e.dataset.src,t.removeChild(this)},e=document.getElementsByClassName("embed__thumb"),i=0;i<e.length;i++)e[i].addEventListener("click",t,!1)},loadSliders:function(){var t=function(t,i){var n=new e.default(t,i);if(n.slidesCount=n.slides.length,n.isEntries=t.classList.contains("slider-entries"),!(n.slidesCount<1)&&(n.on("change",function(){if(this.selectedElement){var t=this.element.parentNode.querySelector(".caption");if(t&&(t.innerHTML=this.selectedElement.getAttribute("data-caption")),n.isEntries){var e=this.element.parentNode.querySelector(".dynamic-description");e&&(e.innerHTML=this.selectedElement.getAttribute("data-caption"),document.getElementById("page-description").scroll(0,0),u.interact.linkTargets())}}for(var i=this.getAdjacentCellElements(1),r=0;r<i.length;r++)for(var s=i[r].querySelectorAll(".lazy:not(.lazyloaded):not(.lazyload)"),a=0;a<s.length;a++)s[a].classList.add("lazyload")}),n.on("staticClick",function(t,e,i,r){"number"==typeof r&&n.selectCell(r)}),n.selectedElement)){var r=n.element.parentNode.querySelector(".caption");r&&(r.innerHTML=n.selectedElement.getAttribute("data-caption"))}},i=document.getElementsByClassName("slider");if(i.length>0)for(var n=0;n<i.length;n++)t(i[n],{cellSelector:".slide",imagesLoaded:!0,lazyLoad:3,hash:!u.fullpage,cellAlign:i[n].getAttribute("cell-align"),setGallerySize:!1,adaptiveHeight:!1,percentPosition:!0,accessibility:!0,wrapAround:!0,prevNextButtons:!0,pageDots:!1,draggable:">1",freeScroll:!0,dragThreshold:30,arrowShape:"M74.3 99.3L25 50 74.3.7l.7.8L26.5 50 75 98.5z"})}},scrollSave:{set:function(){"projects"===u.pageType&&Modernizr.sessionstorage&&sessionStorage.setItem("scroll-home",window.scrollY)},get:function(){if("projects"===u.pageType&&Modernizr.sessionstorage){var t=sessionStorage.getItem("scroll-home")||0;window.scroll(0,t)}else window.scroll(0,0)}},pjax:function(){var t,e,i=s.default.BaseTransition.extend({start:function(){u.scrollSave.set(),this.newContainerLoading.then(this.startTransition.bind(this))},startTransition:function(){var i=this,n=i.newContainer.querySelector("#page-content");i.newContainer.visibility="visible",e=n.getAttribute("page-type"),document.body.setAttribute("page-id",u.pageId),document.body.classList.add("is-loading"),document.body.classList.remove("menu-on");var r=document.querySelector("a.active");r&&r.classList.remove("active"),t&&t.classList.add("active"),u.interact.init(),"project"==e?new TimelineMax({onComplete:function(){i.finish(i,n)}}).to("#page-content",.3,{opacity:0}):setTimeout(function(){new TimelineMax({onComplete:function(){u.videoPlayers.destroy(),i.finish(i,n)}}).set(i.newContainer,{visibility:"visible",position:"absolute",top:0,left:0,zIndex:15}).set(i.oldContainer,{zIndex:10}).fromTo(n,1,{zIndex:15,yPercent:"up"===u.transitionDirection?-100:100},{yPercent:0,force3D:!0,ease:Expo.easeOut}).set(i.newContainer,{clearProps:"all"})},500)},finish:function(t,i){t.done(),u.pageType=e,u.logoColor=i.getAttribute("logo-color"),document.body.setAttribute("page-type",u.pageType),document.body.setAttribute("logo-color",u.logoColor),u.interact.menuBurger(),setTimeout(function(){u.setPageId()},300),setTimeout(function(){u.introPlayers&&u.introPlayers.length>0&&(u.introPlayers[0].play(),document.body.setAttribute("logo-color",u.introPlayers[0].media.getAttribute("logo-color"))),(new TimelineMax).to(i,.3,{opacity:1}),document.body.classList.remove("is-loading")},200),u.isScrolling=!1}});s.default.Pjax.getTransition=function(){return i},s.default.Dispatcher.on("linkClicked",function(e){t=e,u.transitionDirection="down"}),s.default.Pjax.Dom.wrapperId="main",s.default.Pjax.Dom.containerClass="pjax",s.default.BaseCache.reset(),s.default.Pjax.start()}};document.addEventListener("DOMContentLoaded",u.initialize)}).call(this,i(2))}]);